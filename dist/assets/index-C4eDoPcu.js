function wx(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function xx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Up={exports:{}},xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function Ax(){if(w2)return xc;w2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var h=null;if(l!==void 0&&(h=""+l),a.key!==void 0&&(h=""+a.key),"key"in a){l={};for(var p in a)p!=="key"&&(l[p]=a[p])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:h,ref:a!==void 0?a:null,props:l}}return xc.Fragment=e,xc.jsx=t,xc.jsxs=t,xc}var x2;function Cx(){return x2||(x2=1,Up.exports=Ax()),Up.exports}var u=Cx(),zp={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function Rx(){if(A2)return Ve;A2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function T(H){return H===null||typeof H!="object"?null:(H=E&&H[E]||H["@@iterator"],typeof H=="function"?H:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function O(H,Q,ce){this.props=H,this.context=Q,this.refs=k,this.updater=ce||R}O.prototype.isReactComponent={},O.prototype.setState=function(H,Q){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Q,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=O.prototype;function B(H,Q,ce){this.props=H,this.context=Q,this.refs=k,this.updater=ce||R}var F=B.prototype=new j;F.constructor=B,P(F,O.prototype),F.isPureReactComponent=!0;var q=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function I(H,Q,ce,oe,pe,Ce){return ce=Ce.ref,{$$typeof:n,type:H,key:Q,ref:ce!==void 0?ce:null,props:Ce}}function w(H,Q){return I(H.type,Q,void 0,void 0,void 0,H.props)}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function C(H){var Q={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ce){return Q[ce]})}var L=/\/+/g;function N(H,Q){return typeof H=="object"&&H!==null&&H.key!=null?C(""+H.key):Q.toString(36)}function M(){}function Te(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(M,M):(H.status="pending",H.then(function(Q){H.status==="pending"&&(H.status="fulfilled",H.value=Q)},function(Q){H.status==="pending"&&(H.status="rejected",H.reason=Q)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Se(H,Q,ce,oe,pe){var Ce=typeof H;(Ce==="undefined"||Ce==="boolean")&&(H=null);var ve=!1;if(H===null)ve=!0;else switch(Ce){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(H.$$typeof){case n:case e:ve=!0;break;case y:return ve=H._init,Se(ve(H._payload),Q,ce,oe,pe)}}if(ve)return pe=pe(H),ve=oe===""?"."+N(H,0):oe,q(pe)?(ce="",ve!=null&&(ce=ve.replace(L,"$&/")+"/"),Se(pe,Q,ce,"",function(_n){return _n})):pe!=null&&(V(pe)&&(pe=w(pe,ce+(pe.key==null||H&&H.key===pe.key?"":(""+pe.key).replace(L,"$&/")+"/")+ve)),Q.push(pe)),1;ve=0;var ht=oe===""?".":oe+":";if(q(H))for(var Fe=0;Fe<H.length;Fe++)oe=H[Fe],Ce=ht+N(oe,Fe),ve+=Se(oe,Q,ce,Ce,pe);else if(Fe=T(H),typeof Fe=="function")for(H=Fe.call(H),Fe=0;!(oe=H.next()).done;)oe=oe.value,Ce=ht+N(oe,Fe++),ve+=Se(oe,Q,ce,Ce,pe);else if(Ce==="object"){if(typeof H.then=="function")return Se(Te(H),Q,ce,oe,pe);throw Q=String(H),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ve}function $(H,Q,ce){if(H==null)return H;var oe=[],pe=0;return Se(H,oe,"","",function(Ce){return Q.call(ce,Ce,pe++)}),oe}function le(H){if(H._status===-1){var Q=H._result;Q=Q(),Q.then(function(ce){(H._status===0||H._status===-1)&&(H._status=1,H._result=ce)},function(ce){(H._status===0||H._status===-1)&&(H._status=2,H._result=ce)}),H._status===-1&&(H._status=0,H._result=Q)}if(H._status===1)return H._result.default;throw H._result}var de=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Pe(){}return Ve.Children={map:$,forEach:function(H,Q,ce){$(H,function(){Q.apply(this,arguments)},ce)},count:function(H){var Q=0;return $(H,function(){Q++}),Q},toArray:function(H){return $(H,function(Q){return Q})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ve.Component=O,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=B,Ve.StrictMode=s,Ve.Suspense=f,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(H){return U.H.useMemoCache(H)}},Ve.cache=function(H){return function(){return H.apply(null,arguments)}},Ve.cloneElement=function(H,Q,ce){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var oe=P({},H.props),pe=H.key,Ce=void 0;if(Q!=null)for(ve in Q.ref!==void 0&&(Ce=void 0),Q.key!==void 0&&(pe=""+Q.key),Q)!K.call(Q,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Q.ref===void 0||(oe[ve]=Q[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ce;else if(1<ve){for(var ht=Array(ve),Fe=0;Fe<ve;Fe++)ht[Fe]=arguments[Fe+2];oe.children=ht}return I(H.type,pe,void 0,void 0,Ce,oe)},Ve.createContext=function(H){return H={$$typeof:h,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Ve.createElement=function(H,Q,ce){var oe,pe={},Ce=null;if(Q!=null)for(oe in Q.key!==void 0&&(Ce=""+Q.key),Q)K.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(pe[oe]=Q[oe]);var ve=arguments.length-2;if(ve===1)pe.children=ce;else if(1<ve){for(var ht=Array(ve),Fe=0;Fe<ve;Fe++)ht[Fe]=arguments[Fe+2];pe.children=ht}if(H&&H.defaultProps)for(oe in ve=H.defaultProps,ve)pe[oe]===void 0&&(pe[oe]=ve[oe]);return I(H,Ce,void 0,void 0,null,pe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(H){return{$$typeof:p,render:H}},Ve.isValidElement=V,Ve.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:le}},Ve.memo=function(H,Q){return{$$typeof:g,type:H,compare:Q===void 0?null:Q}},Ve.startTransition=function(H){var Q=U.T,ce={};U.T=ce;try{var oe=H(),pe=U.S;pe!==null&&pe(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Pe,de)}catch(Ce){de(Ce)}finally{U.T=Q}},Ve.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ve.use=function(H){return U.H.use(H)},Ve.useActionState=function(H,Q,ce){return U.H.useActionState(H,Q,ce)},Ve.useCallback=function(H,Q){return U.H.useCallback(H,Q)},Ve.useContext=function(H){return U.H.useContext(H)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(H,Q){return U.H.useDeferredValue(H,Q)},Ve.useEffect=function(H,Q,ce){var oe=U.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(H,Q)},Ve.useId=function(){return U.H.useId()},Ve.useImperativeHandle=function(H,Q,ce){return U.H.useImperativeHandle(H,Q,ce)},Ve.useInsertionEffect=function(H,Q){return U.H.useInsertionEffect(H,Q)},Ve.useLayoutEffect=function(H,Q){return U.H.useLayoutEffect(H,Q)},Ve.useMemo=function(H,Q){return U.H.useMemo(H,Q)},Ve.useOptimistic=function(H,Q){return U.H.useOptimistic(H,Q)},Ve.useReducer=function(H,Q,ce){return U.H.useReducer(H,Q,ce)},Ve.useRef=function(H){return U.H.useRef(H)},Ve.useState=function(H){return U.H.useState(H)},Ve.useSyncExternalStore=function(H,Q,ce){return U.H.useSyncExternalStore(H,Q,ce)},Ve.useTransition=function(){return U.H.useTransition()},Ve.version="19.1.0",Ve}var C2;function ev(){return C2||(C2=1,zp.exports=Rx()),zp.exports}var A=ev();const Ai=xx(A),R2=wx({__proto__:null,default:Ai},[A]);var Bp={exports:{}},Ac={},Fp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function Nx(){return N2||(N2=1,function(n){function e($,le){var de=$.length;$.push(le);e:for(;0<de;){var Pe=de-1>>>1,H=$[Pe];if(0<a(H,le))$[Pe]=le,$[de]=H,de=Pe;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var le=$[0],de=$.pop();if(de!==le){$[0]=de;e:for(var Pe=0,H=$.length,Q=H>>>1;Pe<Q;){var ce=2*(Pe+1)-1,oe=$[ce],pe=ce+1,Ce=$[pe];if(0>a(oe,de))pe<H&&0>a(Ce,oe)?($[Pe]=Ce,$[pe]=de,Pe=pe):($[Pe]=oe,$[ce]=de,Pe=ce);else if(pe<H&&0>a(Ce,de))$[Pe]=Ce,$[pe]=de,Pe=pe;else break e}}return le}function a($,le){var de=$.sortIndex-le.sortIndex;return de!==0?de:$.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var f=[],g=[],y=1,E=null,T=3,R=!1,P=!1,k=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function q($){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=$)s(g),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(g)}}function U($){if(k=!1,q($),!P)if(t(f)!==null)P=!0,K||(K=!0,N());else{var le=t(g);le!==null&&Se(U,le.startTime-$)}}var K=!1,I=-1,w=5,V=-1;function C(){return O?!0:!(n.unstable_now()-V<w)}function L(){if(O=!1,K){var $=n.unstable_now();V=$;var le=!0;try{e:{P=!1,k&&(k=!1,B(I),I=-1),R=!0;var de=T;try{t:{for(q($),E=t(f);E!==null&&!(E.expirationTime>$&&C());){var Pe=E.callback;if(typeof Pe=="function"){E.callback=null,T=E.priorityLevel;var H=Pe(E.expirationTime<=$);if($=n.unstable_now(),typeof H=="function"){E.callback=H,q($),le=!0;break t}E===t(f)&&s(f),q($)}else s(f);E=t(f)}if(E!==null)le=!0;else{var Q=t(g);Q!==null&&Se(U,Q.startTime-$),le=!1}}break e}finally{E=null,T=de,R=!1}le=void 0}}finally{le?N():K=!1}}}var N;if(typeof F=="function")N=function(){F(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Te=M.port2;M.port1.onmessage=L,N=function(){Te.postMessage(null)}}else N=function(){j(L,0)};function Se($,le){I=j(function(){$(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function($){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var de=T;T=le;try{return $()}finally{T=de}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var de=T;T=$;try{return le()}finally{T=de}},n.unstable_scheduleCallback=function($,le,de){var Pe=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Pe+de:Pe):de=Pe,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=de+H,$={id:y++,callback:le,priorityLevel:$,startTime:de,expirationTime:H,sortIndex:-1},de>Pe?($.sortIndex=de,e(g,$),t(f)===null&&$===t(g)&&(k?(B(I),I=-1):k=!0,Se(U,de-Pe))):($.sortIndex=H,e(f,$),P||R||(P=!0,K||(K=!0,N()))),$},n.unstable_shouldYield=C,n.unstable_wrapCallback=function($){var le=T;return function(){var de=T;T=le;try{return $.apply(this,arguments)}finally{T=de}}}}(Hp)),Hp}var I2;function Ix(){return I2||(I2=1,Fp.exports=Nx()),Fp.exports}var qp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function Dx(){if(D2)return fn;D2=1;var n=ev();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:f,containerInfo:g,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(f,g,null,y)},fn.flushSync=function(f){var g=h.T,y=s.p;try{if(h.T=null,s.p=2,f)return f()}finally{h.T=g,s.p=y,s.d.f()}},fn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},fn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},fn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,E=p(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:R}):y==="script"&&s.d.X(f,{crossOrigin:E,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},fn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=p(y,g.crossOrigin);s.d.L(f,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=p(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},fn.requestFormReset=function(f){s.d.r(f)},fn.unstable_batchedUpdates=function(f,g){return f(g)},fn.useFormState=function(f,g,y){return h.H.useFormState(f,g,y)},fn.useFormStatus=function(){return h.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var j2;function ib(){if(j2)return qp.exports;j2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qp.exports=Dx(),qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function jx(){if(O2)return Ac;O2=1;var n=Ix(),e=ev(),t=ib();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function h(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,c=i;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return p(m),r;if(v===c)return p(m),i;v=v.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=v;else{for(var S=!1,x=m.child;x;){if(x===o){S=!0,o=m,c=v;break}if(x===c){S=!0,c=m,o=v;break}x=x.sibling}if(!S){for(x=v.child;x;){if(x===o){S=!0,o=v,c=m;break}if(x===c){S=!0,c=v,o=m;break}x=x.sibling}if(!S)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function N(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case O:return"Profiler";case k:return"StrictMode";case U:return"Suspense";case K:return"SuspenseList";case V:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case F:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case q:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return i=r.displayName||null,i!==null?i:Te(r.type)||"Memo";case w:i=r._payload,r=r._init;try{return Te(r(i))}catch{}}return null}var Se=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Pe=[],H=-1;function Q(r){return{current:r}}function ce(r){0>H||(r.current=Pe[H],Pe[H]=null,H--)}function oe(r,i){H++,Pe[H]=r.current,r.current=i}var pe=Q(null),Ce=Q(null),ve=Q(null),ht=Q(null);function Fe(r,i){switch(oe(ve,i),oe(Ce,r),oe(pe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?W0(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=W0(i),r=J0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(pe),oe(pe,r)}function _n(){ce(pe),ce(Ce),ce(ve)}function br(r){r.memoizedState!==null&&oe(ht,r);var i=pe.current,o=J0(i,r.type);i!==o&&(oe(Ce,r),oe(pe,o))}function Kn(r){Ce.current===r&&(ce(pe),ce(Ce)),ht.current===r&&(ce(ht),Ec._currentValue=de)}var Tr=Object.prototype.hasOwnProperty,es=n.unstable_scheduleCallback,Sr=n.unstable_cancelCallback,qi=n.unstable_shouldYield,Au=n.unstable_requestPaint,Yn=n.unstable_now,Uf=n.unstable_getCurrentPriorityLevel,yl=n.unstable_ImmediatePriority,qa=n.unstable_UserBlockingPriority,Gi=n.unstable_NormalPriority,zf=n.unstable_LowPriority,Ga=n.unstable_IdlePriority,_l=n.log,Cu=n.unstable_setDisableYieldValue,Et=null,rt=null;function Pn(r){if(typeof _l=="function"&&Cu(r),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Et,r)}catch{}}var hn=Math.clz32?Math.clz32:$i,Ru=Math.log,Bf=Math.LN2;function $i(r){return r>>>=0,r===0?32:31-(Ru(r)/Bf|0)|0}var Ki=256,Yi=4194304;function ur(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $a(r,i,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,v=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var x=c&134217727;return x!==0?(c=x&~v,c!==0?m=ur(c):(S&=x,S!==0?m=ur(S):o||(o=x&~r,o!==0&&(m=ur(o))))):(x=c&~v,x!==0?m=ur(x):S!==0?m=ur(S):o||(o=c&~r,o!==0&&(m=ur(o)))),m===0?0:i!==0&&i!==m&&(i&v)===0&&(v=m&-m,o=i&-i,v>=o||v===32&&(o&4194048)!==0)?i:m}function Qi(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function El(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bl(){var r=Ki;return Ki<<=1,(Ki&4194048)===0&&(Ki=256),r}function Tl(){var r=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),r}function ts(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function ns(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sl(r,i,o,c,m,v){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var x=r.entanglements,z=r.expirationTimes,W=r.hiddenUpdates;for(o=S&~o;0<o;){var ne=31-hn(o),ie=1<<ne;x[ne]=0,z[ne]=-1;var J=W[ne];if(J!==null)for(W[ne]=null,ne=0;ne<J.length;ne++){var ee=J[ne];ee!==null&&(ee.lane&=-536870913)}o&=~ie}c!==0&&wr(r,c,0),v!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=v&~(S&~i))}function wr(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-hn(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function wl(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var c=31-hn(o),m=1<<c;m&i|r[c]&i&&(r[c]|=i),o&=~m}}function Gs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ka(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function $s(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:y2(r.type))}function Nu(r,i){var o=le.p;try{return le.p=r,i()}finally{le.p=o}}var pt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+pt,It="__reactProps$"+pt,Qn="__reactContainer$"+pt,xl="__reactEvents$"+pt,Ff="__reactListeners$"+pt,Ks="__reactHandles$"+pt,Iu="__reactResources$"+pt,Xi="__reactMarker$"+pt;function Ys(r){delete r[Ut],delete r[It],delete r[xl],delete r[Ff],delete r[Ks]}function rs(r){var i=r[Ut];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Qn]||o[Ut]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=r2(r);r!==null;){if(o=r[Ut])return o;r=r2(r)}return i}r=o,o=r.parentNode}return null}function xr(r){if(r=r[Ut]||r[Qn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Ar(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function En(r){var i=r[Iu];return i||(i=r[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(r){r[Xi]=!0}var Al=new Set,Ya={};function hr(r,i){ss(r,i),ss(r+"Capture",i)}function ss(r,i){for(Ya[r]=i,r=0;r<i.length;r++)Al.add(i[r])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ju={},Zi={};function Ou(r){return Tr.call(Zi,r)?!0:Tr.call(ju,r)?!1:Du.test(r)?Zi[r]=!0:(ju[r]=!0,!1)}function Qs(r,i,o){if(Ou(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Cr(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function en(r,i,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+c)}}var Wi,Mu;function is(r){if(Wi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Wi=i&&i[1]||"",Mu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+r+Mu}var Qa=!1;function Xa(r,i){if(!r||Qa)return"";Qa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(ee){var J=ee}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(ee){J=ee}r.call(ie.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),S=v[0],x=v[1];if(S&&x){var z=S.split(`
`),W=x.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===W.length)for(c=z.length-1,m=W.length-1;1<=c&&0<=m&&z[c]!==W[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==W[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==W[m]){var ne=`
`+z[c].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=c&&0<=m);break}}}finally{Qa=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?is(o):""}function Cl(r){switch(r.tag){case 26:case 27:case 5:return is(r.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return Xa(r.type,!1);case 11:return Xa(r.type.render,!1);case 1:return Xa(r.type,!0);case 31:return is("Activity");default:return""}}function Za(r){try{var i="";do i+=Cl(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rl(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Hf(r){var i=Rl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,v.call(this,S)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Wa(r){r._valueTracker||(r._valueTracker=Hf(r))}function Nl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return r&&(c=Rl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(i.setValue(r),!0):!1}function Ji(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var qf=/[\n"\\]/g;function Dt(r){return r.replace(qf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vn(r,i,o,c,m,v,S,x){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),i!=null?S==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+bn(i)):r.value!==""+bn(i)&&(r.value=""+bn(i)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),i!=null?Xs(r,S,bn(i)):o!=null?Xs(r,S,bn(o)):c!=null&&r.removeAttribute("value"),m==null&&v!=null&&(r.defaultChecked=!!v),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.name=""+bn(x):r.removeAttribute("name")}function ea(r,i,o,c,m,v,S,x){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;o=o!=null?""+bn(o):"",i=i!=null?""+bn(i):o,x||i===r.value||(r.value=i),r.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=x?r.checked:!!c,r.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Xs(r,i,o){i==="number"&&Ji(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function as(r,i,o,c){if(r=r.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=i.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),i=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}i!==null||r[m].disabled||(i=r[m])}i!==null&&(i.selected=!0)}}function ot(r,i,o){if(i!=null&&(i=""+bn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+bn(o):""}function ta(r,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(Se(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=bn(i),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Xn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(r,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,o):typeof o!="number"||o===0||na.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function Il(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&Pu(r,m,c)}else for(var v in i)i.hasOwnProperty(v)&&Pu(r,v,i[v])}function Dl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(r){return $f.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var os=null;function Zn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ls=null,cs=null;function jl(r){var i=xr(r);if(i&&(r=i.stateNode)){var o=r[It]||null;e:switch(r=i.stateNode,i.type){case"input":if(Vn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==r&&c.form===r.form){var m=c[It]||null;if(!m)throw Error(s(90));Vn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===r.form&&Nl(c)}break e;case"textarea":ot(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&as(r,!!o.multiple,i,!1)}}}var Rr=!1;function Vu(r,i,o){if(Rr)return r(i,o);Rr=!0;try{var c=r(i);return c}finally{if(Rr=!1,(ls!==null||cs!==null)&&(Nh(),ls&&(i=ls,r=cs,cs=ls=null,jl(i),r)))for(i=0;i<r.length;i++)jl(r[i])}}function ra(r,i){var o=r.stateNode;if(o===null)return null;var c=o[It]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(dr)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{Wn=!1}var Nr=null,Zs=null,us=null;function Ol(){if(us)return us;var r,i=Zs,o=i.length,c,m="value"in Nr?Nr.value:Nr.textContent,v=m.length;for(r=0;r<o&&i[r]===m[r];r++);var S=o-r;for(c=1;c<=S&&i[o-c]===m[v-c];c++);return us=m.slice(r,1<c?1-c:void 0)}function Ir(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Dr(){return!0}function Ml(){return!1}function Gt(r){function i(o,c,m,v,S){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(o=r[x],this[x]=o?o(v):v[x]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Dr:Ml,this.isPropagationStopped=Ml,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),i}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=Gt(et),ia=y({},et,{view:0,detail:0}),ku=Gt(ia),to,no,jr,aa=y({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==jr&&(jr&&r.type==="mousemove"?(to=r.screenX-jr.screenX,no=r.screenY-jr.screenY):no=to=0,jr=r),to)},movementY:function(r){return"movementY"in r?r.movementY:no}}),Jn=Gt(aa),Lu=y({},aa,{dataTransfer:0}),Kf=Gt(Lu),oa=y({},ia,{relatedTarget:0}),ro=Gt(oa),Pl=y({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),so=Gt(Pl),Uu=y({},et,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),io=Gt(Uu),Yf=y({},et,{data:0}),Vl=Gt(Yf),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Bu[r])?!!i[r]:!1}function ca(){return kl}var Fu=y({},ia,{key:function(r){if(r.key){var i=la[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ir(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?zu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(r){return r.type==="keypress"?Ir(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ir(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ao=Gt(Fu),Hu=y({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=Gt(Hu),hs=y({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),qu=Gt(hs),Gu=y({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),$u=Gt(Gu),Ku=y({},aa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),oo=Gt(Ku),Tn=y({},et,{newState:0,oldState:0}),Yu=Gt(Tn),Qu=[9,13,27,32],Or=dr&&"CompositionEvent"in window,d=null;dr&&"documentMode"in document&&(d=document.documentMode);var _=dr&&"TextEvent"in window&&!d,b=dr&&(!Or||d&&8<d&&11>=d),D=" ",X=!1;function te(r,i){switch(r){case"keyup":return Qu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $e=!1;function zt(r,i){switch(r){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(X=!0,D);case"textInput":return r=i.data,r===D&&X?null:r;default:return null}}function Ke(r,i){if($e)return r==="compositionend"||!Or&&te(r,i)?(r=Ol(),us=Zs=Nr=null,$e=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!$t[r.type]:i==="textarea"}function ds(r,i,o,c){ls?cs?cs.push(c):cs=[c]:ls=c,i=Ph(i,"onChange"),0<i.length&&(o=new eo("onChange","change",null,o,c),r.push({event:o,listeners:i}))}var tn=null,Mr=null;function Ul(r){K0(r,0)}function Xu(r){var i=Ar(r);if(Nl(i))return r}function my(r,i){if(r==="change")return i}var py=!1;if(dr){var Qf;if(dr){var Xf="oninput"in document;if(!Xf){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),Xf=typeof gy.oninput=="function"}Qf=Xf}else Qf=!1;py=Qf&&(!document.documentMode||9<document.documentMode)}function vy(){tn&&(tn.detachEvent("onpropertychange",yy),Mr=tn=null)}function yy(r){if(r.propertyName==="value"&&Xu(Mr)){var i=[];ds(i,Mr,r,Zn(r)),Vu(Ul,i)}}function ew(r,i,o){r==="focusin"?(vy(),tn=i,Mr=o,tn.attachEvent("onpropertychange",yy)):r==="focusout"&&vy()}function tw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xu(Mr)}function nw(r,i){if(r==="click")return Xu(i)}function rw(r,i){if(r==="input"||r==="change")return Xu(i)}function sw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var kn=typeof Object.is=="function"?Object.is:sw;function zl(r,i){if(kn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Tr.call(i,m)||!kn(r[m],i[m]))return!1}return!0}function _y(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ey(r,i){var o=_y(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=i&&c>=i)return{node:o,offset:i-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_y(o)}}function by(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?by(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Ty(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ji(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Ji(r.document)}return i}function Zf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var iw=dr&&"documentMode"in document&&11>=document.documentMode,lo=null,Wf=null,Bl=null,Jf=!1;function Sy(r,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jf||lo==null||lo!==Ji(c)||(c=lo,"selectionStart"in c&&Zf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bl&&zl(Bl,c)||(Bl=c,c=Ph(Wf,"onSelect"),0<c.length&&(i=new eo("onSelect","select",null,i,o),r.push({event:i,listeners:c}),i.target=lo)))}function ua(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var co={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},em={},wy={};dr&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ha(r){if(em[r])return em[r];if(!co[r])return r;var i=co[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in wy)return em[r]=i[o];return r}var xy=ha("animationend"),Ay=ha("animationiteration"),Cy=ha("animationstart"),aw=ha("transitionrun"),ow=ha("transitionstart"),lw=ha("transitioncancel"),Ry=ha("transitionend"),Ny=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tm.push("scrollEnd");function fr(r,i){Ny.set(r,i),hr(i,[r])}var Iy=new WeakMap;function er(r,i){if(typeof r=="object"&&r!==null){var o=Iy.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Za(i)},Iy.set(r,i),i)}return{value:r,source:i,stack:Za(i)}}var tr=[],uo=0,nm=0;function Zu(){for(var r=uo,i=nm=uo=0;i<r;){var o=tr[i];tr[i++]=null;var c=tr[i];tr[i++]=null;var m=tr[i];tr[i++]=null;var v=tr[i];if(tr[i++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}v!==0&&Dy(o,m,v)}}function Wu(r,i,o,c){tr[uo++]=r,tr[uo++]=i,tr[uo++]=o,tr[uo++]=c,nm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function rm(r,i,o,c){return Wu(r,i,o,c),Ju(r)}function ho(r,i){return Wu(r,null,null,i),Ju(r)}function Dy(r,i,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,v=r.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(m=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,m&&i!==null&&(m=31-hn(o),r=v.hiddenUpdates,c=r[m],c===null?r[m]=[i]:c.push(i),i.lane=o|536870912),v):null}function Ju(r){if(50<dc)throw dc=0,cp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var fo={};function cw(r,i,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(r,i,o,c){return new cw(r,i,o,c)}function sm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fs(r,i){var o=r.alternate;return o===null?(o=Ln(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function jy(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function eh(r,i,o,c,m,v){var S=0;if(c=r,typeof r=="function")sm(r)&&(S=1);else if(typeof r=="string")S=hx(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case V:return r=Ln(31,o,i,m),r.elementType=V,r.lanes=v,r;case P:return da(o.children,m,v,i);case k:S=8,m|=24;break;case O:return r=Ln(12,o,i,m|2),r.elementType=O,r.lanes=v,r;case U:return r=Ln(13,o,i,m),r.elementType=U,r.lanes=v,r;case K:return r=Ln(19,o,i,m),r.elementType=K,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case F:S=10;break e;case B:S=9;break e;case q:S=11;break e;case I:S=14;break e;case w:S=16,c=null;break e}S=29,o=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=Ln(S,o,i,m),i.elementType=r,i.type=c,i.lanes=v,i}function da(r,i,o,c){return r=Ln(7,r,c,i),r.lanes=o,r}function im(r,i,o){return r=Ln(6,r,null,i),r.lanes=o,r}function am(r,i,o){return i=Ln(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var mo=[],po=0,th=null,nh=0,nr=[],rr=0,fa=null,ms=1,ps="";function ma(r,i){mo[po++]=nh,mo[po++]=th,th=r,nh=i}function Oy(r,i,o){nr[rr++]=ms,nr[rr++]=ps,nr[rr++]=fa,fa=r;var c=ms;r=ps;var m=32-hn(c)-1;c&=~(1<<m),o+=1;var v=32-hn(i)+m;if(30<v){var S=m-m%5;v=(c&(1<<S)-1).toString(32),c>>=S,m-=S,ms=1<<32-hn(i)+m|o<<m|c,ps=v+r}else ms=1<<v|o<<m|c,ps=r}function om(r){r.return!==null&&(ma(r,1),Oy(r,1,0))}function lm(r){for(;r===th;)th=mo[--po],mo[po]=null,nh=mo[--po],mo[po]=null;for(;r===fa;)fa=nr[--rr],nr[rr]=null,ps=nr[--rr],nr[rr]=null,ms=nr[--rr],nr[rr]=null}var Sn=null,bt=null,Ze=!1,pa=null,Pr=!1,cm=Error(s(519));function ga(r){var i=Error(s(418,""));throw ql(er(i,r)),cm}function My(r){var i=r.stateNode,o=r.type,c=r.memoizedProps;switch(i[Ut]=r,i[It]=c,o){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(o=0;o<mc.length;o++)ze(mc[o],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),ea(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Wa(i);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),ta(i,c.value,c.defaultValue,c.children),Wa(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Z0(i.textContent,o)?(c.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),c.onScroll!=null&&ze("scroll",i),c.onScrollEnd!=null&&ze("scrollend",i),c.onClick!=null&&(i.onclick=Vh),i=!0):i=!1,i||ga(r)}function Py(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:Sn=Sn.return}}function Fl(r){if(r!==Sn)return!1;if(!Ze)return Py(r),Ze=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||xp(r.type,r.memoizedProps)),o=!o),o&&bt&&ga(r),Py(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){bt=pr(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}bt=null}}else i===27?(i=bt,fi(r.type)?(r=Np,Np=null,bt=r):bt=i):bt=Sn?pr(r.stateNode.nextSibling):null;return!0}function Hl(){bt=Sn=null,Ze=!1}function Vy(){var r=pa;return r!==null&&(Cn===null?Cn=r:Cn.push.apply(Cn,r),pa=null),r}function ql(r){pa===null?pa=[r]:pa.push(r)}var um=Q(null),va=null,gs=null;function Ws(r,i,o){oe(um,i._currentValue),i._currentValue=o}function vs(r){r._currentValue=um.current,ce(um)}function hm(r,i,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===o)break;r=r.return}}function dm(r,i,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var v=m.dependencies;if(v!==null){var S=m.child;v=v.firstContext;e:for(;v!==null;){var x=v;v=m;for(var z=0;z<i.length;z++)if(x.context===i[z]){v.lanes|=o,x=v.alternate,x!==null&&(x.lanes|=o),hm(v.return,o,r),c||(S=null);break e}v=x.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(s(341));S.lanes|=o,v=S.alternate,v!==null&&(v.lanes|=o),hm(S,o,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Gl(r,i,o,c){r=null;for(var m=i,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var x=m.type;kn(m.pendingProps.value,S.value)||(r!==null?r.push(x):r=[x])}}else if(m===ht.current){if(S=m.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Ec):r=[Ec])}m=m.return}r!==null&&dm(i,r,o,c),i.flags|=262144}function rh(r){for(r=r.firstContext;r!==null;){if(!kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ya(r){va=r,gs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return ky(va,r)}function sh(r,i){return va===null&&ya(r),ky(r,i)}function ky(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},gs===null){if(r===null)throw Error(s(308));gs=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else gs=gs.next=i;return o}var uw=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},hw=n.unstable_scheduleCallback,dw=n.unstable_NormalPriority,Ft={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fm(){return{controller:new uw,data:new Map,refCount:0}}function $l(r){r.refCount--,r.refCount===0&&hw(dw,function(){r.controller.abort()})}var Kl=null,mm=0,go=0,vo=null;function fw(r,i){if(Kl===null){var o=Kl=[];mm=0,go=gp(),vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return mm++,i.then(Ly,Ly),i}function Ly(){if(--mm===0&&Kl!==null){vo!==null&&(vo.status="fulfilled");var r=Kl;Kl=null,go=0,vo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function mw(r,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Uy=$.S;$.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&fw(r,i),Uy!==null&&Uy(r,i)};var _a=Q(null);function pm(){var r=_a.current;return r!==null?r:ft.pooledCache}function ih(r,i){i===null?oe(_a,_a.current):oe(_a,i.pool)}function zy(){var r=pm();return r===null?null:{parent:Ft._currentValue,pool:r}}var Yl=Error(s(460)),By=Error(s(474)),ah=Error(s(542)),gm={then:function(){}};function Fy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function oh(){}function Hy(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(oh,oh),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Gy(r),r;default:if(typeof i.status=="string")i.then(oh,oh);else{if(r=ft,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Gy(r),r}throw Ql=i,Yl}}var Ql=null;function qy(){if(Ql===null)throw Error(s(459));var r=Ql;return Ql=null,r}function Gy(r){if(r===Yl||r===ah)throw Error(s(483))}var Js=!1;function vm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ym(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ei(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ti(r,i,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=Ju(r),Dy(r,null,o),i}return Wu(r,c,i,o),Ju(r)}function Xl(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,wl(r,o)}}function _m(r,i){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=S:v=v.next=S,o=o.next}while(o!==null);v===null?m=v=i:v=v.next=i}else m=v=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Em=!1;function Zl(){if(Em){var r=vo;if(r!==null)throw r}}function Wl(r,i,o,c){Em=!1;var m=r.updateQueue;Js=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var z=x,W=z.next;z.next=null,S===null?v=W:S.next=W,S=z;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,x=ne.lastBaseUpdate,x!==S&&(x===null?ne.firstBaseUpdate=W:x.next=W,ne.lastBaseUpdate=z))}if(v!==null){var ie=m.baseState;S=0,ne=W=z=null,x=v;do{var J=x.lane&-536870913,ee=J!==x.lane;if(ee?(Ye&J)===J:(c&J)===J){J!==0&&J===go&&(Em=!0),ne!==null&&(ne=ne.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ie=r,we=x;J=i;var ut=o;switch(we.tag){case 1:if(Ie=we.payload,typeof Ie=="function"){ie=Ie.call(ut,ie,J);break e}ie=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=we.payload,J=typeof Ie=="function"?Ie.call(ut,ie,J):Ie,J==null)break e;ie=y({},ie,J);break e;case 2:Js=!0}}J=x.callback,J!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ne===null?(W=ne=ee,z=ie):ne=ne.next=ee,S|=J;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);ne===null&&(z=ie),m.baseState=z,m.firstBaseUpdate=W,m.lastBaseUpdate=ne,v===null&&(m.shared.lanes=0),ci|=S,r.lanes=S,r.memoizedState=ie}}function $y(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Ky(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)$y(o[r],i)}var yo=Q(null),lh=Q(0);function Yy(r,i){r=ws,oe(lh,r),oe(yo,i),ws=r|i.baseLanes}function bm(){oe(lh,ws),oe(yo,yo.current)}function Tm(){ws=lh.current,ce(yo),ce(lh)}var ni=0,ke=null,lt=null,jt=null,ch=!1,_o=!1,Ea=!1,uh=0,Jl=0,Eo=null,pw=0;function xt(){throw Error(s(321))}function Sm(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!kn(r[o],i[o]))return!1;return!0}function wm(r,i,o,c,m,v){return ni=v,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?D1:j1,Ea=!1,v=o(c,m),Ea=!1,_o&&(v=Xy(i,o,c,m)),Qy(r),v}function Qy(r){$.H=gh;var i=lt!==null&&lt.next!==null;if(ni=0,jt=lt=ke=null,ch=!1,Jl=0,Eo=null,i)throw Error(s(300));r===null||Kt||(r=r.dependencies,r!==null&&rh(r)&&(Kt=!0))}function Xy(r,i,o,c){ke=r;var m=0;do{if(_o&&(Eo=null),Jl=0,_o=!1,25<=m)throw Error(s(301));if(m+=1,jt=lt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=Tw,v=i(o,c)}while(_o);return v}function gw(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?ec(i):i,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(ke.flags|=1024),i}function xm(){var r=uh!==0;return uh=0,r}function Am(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Cm(r){if(ch){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ch=!1}ni=0,jt=lt=ke=null,_o=!1,Jl=uh=0,Eo=null}function xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ke.memoizedState=jt=r:jt=jt.next=r,jt}function Ot(){if(lt===null){var r=ke.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var i=jt===null?ke.memoizedState:jt.next;if(i!==null)jt=i,lt=r;else{if(r===null)throw ke.alternate===null?Error(s(467)):Error(s(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},jt===null?ke.memoizedState=jt=r:jt=jt.next=r}return jt}function Rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(r){var i=Jl;return Jl+=1,Eo===null&&(Eo=[]),r=Hy(Eo,r,i),i=ke,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?D1:j1),r}function hh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ec(r);if(r.$$typeof===F)return dn(r)}throw Error(s(438,String(r)))}function Nm(r){var i=null,o=ke.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Rm(),ke.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),c=0;c<r;c++)o[c]=C;return i.index++,o}function ys(r,i){return typeof i=="function"?i(r):i}function dh(r){var i=Ot();return Im(i,lt,r)}function Im(r,i,o){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=r.baseQueue,v=c.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}i.baseQueue=m=v,c.pending=null}if(v=r.baseState,m===null)r.memoizedState=v;else{i=m.next;var x=S=null,z=null,W=i,ne=!1;do{var ie=W.lane&-536870913;if(ie!==W.lane?(Ye&ie)===ie:(ni&ie)===ie){var J=W.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ie===go&&(ne=!0);else if((ni&J)===J){W=W.next,J===go&&(ne=!0);continue}else ie={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(x=z=ie,S=v):z=z.next=ie,ke.lanes|=J,ci|=J;ie=W.action,Ea&&o(v,ie),v=W.hasEagerState?W.eagerState:o(v,ie)}else J={lane:ie,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(x=z=J,S=v):z=z.next=J,ke.lanes|=ie,ci|=ie;W=W.next}while(W!==null&&W!==i);if(z===null?S=v:z.next=x,!kn(v,r.memoizedState)&&(Kt=!0,ne&&(o=vo,o!==null)))throw o;r.memoizedState=v,r.baseState=S,r.baseQueue=z,c.lastRenderedState=v}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Dm(r){var i=Ot(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,v=i.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do v=r(v,S.action),S=S.next;while(S!==m);kn(v,i.memoizedState)||(Kt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,c]}function Zy(r,i,o){var c=ke,m=Ot(),v=Ze;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=i();var S=!kn((lt||m).memoizedState,o);S&&(m.memoizedState=o,Kt=!0),m=m.queue;var x=e1.bind(null,c,m,r);if(tc(2048,8,x,[r]),m.getSnapshot!==i||S||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,bo(9,fh(),Jy.bind(null,c,m,o,i),null),ft===null)throw Error(s(349));v||(ni&124)!==0||Wy(c,i,o)}return o}function Wy(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=ke.updateQueue,i===null?(i=Rm(),ke.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Jy(r,i,o,c){i.value=o,i.getSnapshot=c,t1(i)&&n1(r)}function e1(r,i,o){return o(function(){t1(i)&&n1(r)})}function t1(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!kn(r,o)}catch{return!0}}function n1(r){var i=ho(r,2);i!==null&&Hn(i,r,2)}function jm(r){var i=xn();if(typeof r=="function"){var o=r;if(r=o(),Ea){Pn(!0);try{o()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:r},i}function r1(r,i,o,c){return r.baseState=o,Im(r,lt,typeof c=="function"?c:ys)}function vw(r,i,o,c,m){if(ph(r))throw Error(s(485));if(r=i.action,r!==null){var v={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};$.T!==null?o(!0):v.isTransition=!1,c(v),o=i.pending,o===null?(v.next=i.pending=v,s1(i,v)):(v.next=o.next,i.pending=o.next=v)}}function s1(r,i){var o=i.action,c=i.payload,m=r.state;if(i.isTransition){var v=$.T,S={};$.T=S;try{var x=o(m,c),z=$.S;z!==null&&z(S,x),i1(r,i,x)}catch(W){Om(r,i,W)}finally{$.T=v}}else try{v=o(m,c),i1(r,i,v)}catch(W){Om(r,i,W)}}function i1(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){a1(r,i,c)},function(c){return Om(r,i,c)}):a1(r,i,o)}function a1(r,i,o){i.status="fulfilled",i.value=o,o1(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,s1(r,o)))}function Om(r,i,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,o1(i),i=i.next;while(i!==c)}r.action=null}function o1(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function l1(r,i){return i}function c1(r,i){if(Ze){var o=ft.formState;if(o!==null){e:{var c=ke;if(Ze){if(bt){t:{for(var m=bt,v=Pr;m.nodeType!==8;){if(!v){m=null;break t}if(m=pr(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){bt=pr(m.nextSibling),c=m.data==="F!";break e}}ga(c)}c=!1}c&&(i=o[0])}}return o=xn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l1,lastRenderedState:i},o.queue=c,o=R1.bind(null,ke,c),c.dispatch=o,c=jm(!1),v=Lm.bind(null,ke,!1,c.queue),c=xn(),m={state:i,dispatch:null,action:r,pending:null},c.queue=m,o=vw.bind(null,ke,m,v,o),m.dispatch=o,c.memoizedState=r,[i,o,!1]}function u1(r){var i=Ot();return h1(i,lt,r)}function h1(r,i,o){if(i=Im(r,i,l1)[0],r=dh(ys)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=ec(i)}catch(S){throw S===Yl?ah:S}else c=i;i=Ot();var m=i.queue,v=m.dispatch;return o!==i.memoizedState&&(ke.flags|=2048,bo(9,fh(),yw.bind(null,m,o),null)),[c,v,r]}function yw(r,i){r.action=i}function d1(r){var i=Ot(),o=lt;if(o!==null)return h1(i,o,r);Ot(),i=i.memoizedState,o=Ot();var c=o.queue.dispatch;return o.memoizedState=r,[i,c,!1]}function bo(r,i,o,c){return r={tag:r,create:o,deps:c,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Rm(),ke.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,i.lastEffect=r),r}function fh(){return{destroy:void 0,resource:void 0}}function f1(){return Ot().memoizedState}function mh(r,i,o,c){var m=xn();c=c===void 0?null:c,ke.flags|=r,m.memoizedState=bo(1|i,fh(),o,c)}function tc(r,i,o,c){var m=Ot();c=c===void 0?null:c;var v=m.memoizedState.inst;lt!==null&&c!==null&&Sm(c,lt.memoizedState.deps)?m.memoizedState=bo(i,v,o,c):(ke.flags|=r,m.memoizedState=bo(1|i,v,o,c))}function m1(r,i){mh(8390656,8,r,i)}function p1(r,i){tc(2048,8,r,i)}function g1(r,i){return tc(4,2,r,i)}function v1(r,i){return tc(4,4,r,i)}function y1(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function _1(r,i,o){o=o!=null?o.concat([r]):null,tc(4,4,y1.bind(null,i,r),o)}function Mm(){}function E1(r,i){var o=Ot();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Sm(i,c[1])?c[0]:(o.memoizedState=[r,i],r)}function b1(r,i){var o=Ot();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Sm(i,c[1]))return c[0];if(c=r(),Ea){Pn(!0);try{r()}finally{Pn(!1)}}return o.memoizedState=[c,i],c}function Pm(r,i,o){return o===void 0||(ni&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=w0(),ke.lanes|=r,ci|=r,o)}function T1(r,i,o,c){return kn(o,i)?o:yo.current!==null?(r=Pm(r,o,c),kn(r,i)||(Kt=!0),r):(ni&42)===0?(Kt=!0,r.memoizedState=o):(r=w0(),ke.lanes|=r,ci|=r,i)}function S1(r,i,o,c,m){var v=le.p;le.p=v!==0&&8>v?v:8;var S=$.T,x={};$.T=x,Lm(r,!1,i,o);try{var z=m(),W=$.S;if(W!==null&&W(x,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ne=mw(z,c);nc(r,i,ne,Fn(r))}else nc(r,i,c,Fn(r))}catch(ie){nc(r,i,{then:function(){},status:"rejected",reason:ie},Fn())}finally{le.p=v,$.T=S}}function _w(){}function Vm(r,i,o,c){if(r.tag!==5)throw Error(s(476));var m=w1(r).queue;S1(r,m,i,de,o===null?_w:function(){return x1(r),o(c)})}function w1(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:de},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function x1(r){var i=w1(r).next.queue;nc(r,i,{},Fn())}function km(){return dn(Ec)}function A1(){return Ot().memoizedState}function C1(){return Ot().memoizedState}function Ew(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Fn();r=ei(o);var c=ti(i,r,o);c!==null&&(Hn(c,i,o),Xl(c,i,o)),i={cache:fm()},r.payload=i;return}i=i.return}}function bw(r,i,o){var c=Fn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ph(r)?N1(i,o):(o=rm(r,i,o,c),o!==null&&(Hn(o,r,c),I1(o,i,c)))}function R1(r,i,o){var c=Fn();nc(r,i,o,c)}function nc(r,i,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(r))N1(i,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,x=v(S,o);if(m.hasEagerState=!0,m.eagerState=x,kn(x,S))return Wu(r,i,m,0),ft===null&&Zu(),!1}catch{}finally{}if(o=rm(r,i,m,c),o!==null)return Hn(o,r,c),I1(o,i,c),!0}return!1}function Lm(r,i,o,c){if(c={lane:2,revertLane:gp(),action:c,hasEagerState:!1,eagerState:null,next:null},ph(r)){if(i)throw Error(s(479))}else i=rm(r,o,c,2),i!==null&&Hn(i,r,2)}function ph(r){var i=r.alternate;return r===ke||i!==null&&i===ke}function N1(r,i){_o=ch=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function I1(r,i,o){if((o&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,wl(r,o)}}var gh={readContext:dn,use:hh,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},D1={readContext:dn,use:hh,useCallback:function(r,i){return xn().memoizedState=[r,i===void 0?null:i],r},useContext:dn,useEffect:m1,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,mh(4194308,4,y1.bind(null,i,r),o)},useLayoutEffect:function(r,i){return mh(4194308,4,r,i)},useInsertionEffect:function(r,i){mh(4,2,r,i)},useMemo:function(r,i){var o=xn();i=i===void 0?null:i;var c=r();if(Ea){Pn(!0);try{r()}finally{Pn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(r,i,o){var c=xn();if(o!==void 0){var m=o(i);if(Ea){Pn(!0);try{o(i)}finally{Pn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=bw.bind(null,ke,r),[c.memoizedState,r]},useRef:function(r){var i=xn();return r={current:r},i.memoizedState=r},useState:function(r){r=jm(r);var i=r.queue,o=R1.bind(null,ke,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Mm,useDeferredValue:function(r,i){var o=xn();return Pm(o,r,i)},useTransition:function(){var r=jm(!1);return r=S1.bind(null,ke,r.queue,!0,!1),xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var c=ke,m=xn();if(Ze){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),ft===null)throw Error(s(349));(Ye&124)!==0||Wy(c,i,o)}m.memoizedState=o;var v={value:o,getSnapshot:i};return m.queue=v,m1(e1.bind(null,c,v,r),[r]),c.flags|=2048,bo(9,fh(),Jy.bind(null,c,v,o,i),null),o},useId:function(){var r=xn(),i=ft.identifierPrefix;if(Ze){var o=ps,c=ms;o=(c&~(1<<32-hn(c)-1)).toString(32)+o,i="«"+i+"R"+o,o=uh++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=pw++,i="«"+i+"r"+o.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:km,useFormState:c1,useActionState:c1,useOptimistic:function(r){var i=xn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Lm.bind(null,ke,!0,o),o.dispatch=i,[r,i]},useMemoCache:Nm,useCacheRefresh:function(){return xn().memoizedState=Ew.bind(null,ke)}},j1={readContext:dn,use:hh,useCallback:E1,useContext:dn,useEffect:p1,useImperativeHandle:_1,useInsertionEffect:g1,useLayoutEffect:v1,useMemo:b1,useReducer:dh,useRef:f1,useState:function(){return dh(ys)},useDebugValue:Mm,useDeferredValue:function(r,i){var o=Ot();return T1(o,lt.memoizedState,r,i)},useTransition:function(){var r=dh(ys)[0],i=Ot().memoizedState;return[typeof r=="boolean"?r:ec(r),i]},useSyncExternalStore:Zy,useId:A1,useHostTransitionStatus:km,useFormState:u1,useActionState:u1,useOptimistic:function(r,i){var o=Ot();return r1(o,lt,r,i)},useMemoCache:Nm,useCacheRefresh:C1},Tw={readContext:dn,use:hh,useCallback:E1,useContext:dn,useEffect:p1,useImperativeHandle:_1,useInsertionEffect:g1,useLayoutEffect:v1,useMemo:b1,useReducer:Dm,useRef:f1,useState:function(){return Dm(ys)},useDebugValue:Mm,useDeferredValue:function(r,i){var o=Ot();return lt===null?Pm(o,r,i):T1(o,lt.memoizedState,r,i)},useTransition:function(){var r=Dm(ys)[0],i=Ot().memoizedState;return[typeof r=="boolean"?r:ec(r),i]},useSyncExternalStore:Zy,useId:A1,useHostTransitionStatus:km,useFormState:d1,useActionState:d1,useOptimistic:function(r,i){var o=Ot();return lt!==null?r1(o,lt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:C1},To=null,rc=0;function vh(r){var i=rc;return rc+=1,To===null&&(To=[]),Hy(To,r,i)}function sc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function yh(r,i){throw i.$$typeof===E?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function O1(r){var i=r._init;return i(r._payload)}function M1(r){function i(Y,G){if(r){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function o(Y,G){if(!r)return null;for(;G!==null;)i(Y,G),G=G.sibling;return null}function c(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function m(Y,G){return Y=fs(Y,G),Y.index=0,Y.sibling=null,Y}function v(Y,G,Z){return Y.index=Z,r?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=67108866,G):Z):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function S(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function x(Y,G,Z,re){return G===null||G.tag!==6?(G=im(Z,Y.mode,re),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function z(Y,G,Z,re){var ge=Z.type;return ge===P?ne(Y,G,Z.props.children,re,Z.key):G!==null&&(G.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&O1(ge)===G.type)?(G=m(G,Z.props),sc(G,Z),G.return=Y,G):(G=eh(Z.type,Z.key,Z.props,null,Y.mode,re),sc(G,Z),G.return=Y,G)}function W(Y,G,Z,re){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=am(Z,Y.mode,re),G.return=Y,G):(G=m(G,Z.children||[]),G.return=Y,G)}function ne(Y,G,Z,re,ge){return G===null||G.tag!==7?(G=da(Z,Y.mode,re,ge),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function ie(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=im(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return Z=eh(G.type,G.key,G.props,null,Y.mode,Z),sc(Z,G),Z.return=Y,Z;case R:return G=am(G,Y.mode,Z),G.return=Y,G;case w:var re=G._init;return G=re(G._payload),ie(Y,G,Z)}if(Se(G)||N(G))return G=da(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return ie(Y,vh(G),Z);if(G.$$typeof===F)return ie(Y,sh(Y,G),Z);yh(Y,G)}return null}function J(Y,G,Z,re){var ge=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ge!==null?null:x(Y,G,""+Z,re);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return Z.key===ge?z(Y,G,Z,re):null;case R:return Z.key===ge?W(Y,G,Z,re):null;case w:return ge=Z._init,Z=ge(Z._payload),J(Y,G,Z,re)}if(Se(Z)||N(Z))return ge!==null?null:ne(Y,G,Z,re,null);if(typeof Z.then=="function")return J(Y,G,vh(Z),re);if(Z.$$typeof===F)return J(Y,G,sh(Y,Z),re);yh(Y,Z)}return null}function ee(Y,G,Z,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Y=Y.get(Z)||null,x(G,Y,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return Y=Y.get(re.key===null?Z:re.key)||null,z(G,Y,re,ge);case R:return Y=Y.get(re.key===null?Z:re.key)||null,W(G,Y,re,ge);case w:var Le=re._init;return re=Le(re._payload),ee(Y,G,Z,re,ge)}if(Se(re)||N(re))return Y=Y.get(Z)||null,ne(G,Y,re,ge,null);if(typeof re.then=="function")return ee(Y,G,Z,vh(re),ge);if(re.$$typeof===F)return ee(Y,G,Z,sh(G,re),ge);yh(G,re)}return null}function Ie(Y,G,Z,re){for(var ge=null,Le=null,ye=G,xe=G=0,Qt=null;ye!==null&&xe<Z.length;xe++){ye.index>xe?(Qt=ye,ye=null):Qt=ye.sibling;var Xe=J(Y,ye,Z[xe],re);if(Xe===null){ye===null&&(ye=Qt);break}r&&ye&&Xe.alternate===null&&i(Y,ye),G=v(Xe,G,xe),Le===null?ge=Xe:Le.sibling=Xe,Le=Xe,ye=Qt}if(xe===Z.length)return o(Y,ye),Ze&&ma(Y,xe),ge;if(ye===null){for(;xe<Z.length;xe++)ye=ie(Y,Z[xe],re),ye!==null&&(G=v(ye,G,xe),Le===null?ge=ye:Le.sibling=ye,Le=ye);return Ze&&ma(Y,xe),ge}for(ye=c(ye);xe<Z.length;xe++)Qt=ee(ye,Y,xe,Z[xe],re),Qt!==null&&(r&&Qt.alternate!==null&&ye.delete(Qt.key===null?xe:Qt.key),G=v(Qt,G,xe),Le===null?ge=Qt:Le.sibling=Qt,Le=Qt);return r&&ye.forEach(function(yi){return i(Y,yi)}),Ze&&ma(Y,xe),ge}function we(Y,G,Z,re){if(Z==null)throw Error(s(151));for(var ge=null,Le=null,ye=G,xe=G=0,Qt=null,Xe=Z.next();ye!==null&&!Xe.done;xe++,Xe=Z.next()){ye.index>xe?(Qt=ye,ye=null):Qt=ye.sibling;var yi=J(Y,ye,Xe.value,re);if(yi===null){ye===null&&(ye=Qt);break}r&&ye&&yi.alternate===null&&i(Y,ye),G=v(yi,G,xe),Le===null?ge=yi:Le.sibling=yi,Le=yi,ye=Qt}if(Xe.done)return o(Y,ye),Ze&&ma(Y,xe),ge;if(ye===null){for(;!Xe.done;xe++,Xe=Z.next())Xe=ie(Y,Xe.value,re),Xe!==null&&(G=v(Xe,G,xe),Le===null?ge=Xe:Le.sibling=Xe,Le=Xe);return Ze&&ma(Y,xe),ge}for(ye=c(ye);!Xe.done;xe++,Xe=Z.next())Xe=ee(ye,Y,xe,Xe.value,re),Xe!==null&&(r&&Xe.alternate!==null&&ye.delete(Xe.key===null?xe:Xe.key),G=v(Xe,G,xe),Le===null?ge=Xe:Le.sibling=Xe,Le=Xe);return r&&ye.forEach(function(Sx){return i(Y,Sx)}),Ze&&ma(Y,xe),ge}function ut(Y,G,Z,re){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:e:{for(var ge=Z.key;G!==null;){if(G.key===ge){if(ge=Z.type,ge===P){if(G.tag===7){o(Y,G.sibling),re=m(G,Z.props.children),re.return=Y,Y=re;break e}}else if(G.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&O1(ge)===G.type){o(Y,G.sibling),re=m(G,Z.props),sc(re,Z),re.return=Y,Y=re;break e}o(Y,G);break}else i(Y,G);G=G.sibling}Z.type===P?(re=da(Z.props.children,Y.mode,re,Z.key),re.return=Y,Y=re):(re=eh(Z.type,Z.key,Z.props,null,Y.mode,re),sc(re,Z),re.return=Y,Y=re)}return S(Y);case R:e:{for(ge=Z.key;G!==null;){if(G.key===ge)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){o(Y,G.sibling),re=m(G,Z.children||[]),re.return=Y,Y=re;break e}else{o(Y,G);break}else i(Y,G);G=G.sibling}re=am(Z,Y.mode,re),re.return=Y,Y=re}return S(Y);case w:return ge=Z._init,Z=ge(Z._payload),ut(Y,G,Z,re)}if(Se(Z))return Ie(Y,G,Z,re);if(N(Z)){if(ge=N(Z),typeof ge!="function")throw Error(s(150));return Z=ge.call(Z),we(Y,G,Z,re)}if(typeof Z.then=="function")return ut(Y,G,vh(Z),re);if(Z.$$typeof===F)return ut(Y,G,sh(Y,Z),re);yh(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(o(Y,G.sibling),re=m(G,Z),re.return=Y,Y=re):(o(Y,G),re=im(Z,Y.mode,re),re.return=Y,Y=re),S(Y)):o(Y,G)}return function(Y,G,Z,re){try{rc=0;var ge=ut(Y,G,Z,re);return To=null,ge}catch(ye){if(ye===Yl||ye===ah)throw ye;var Le=Ln(29,ye,null,Y.mode);return Le.lanes=re,Le.return=Y,Le}finally{}}}var So=M1(!0),P1=M1(!1),sr=Q(null),Vr=null;function ri(r){var i=r.alternate;oe(Ht,Ht.current&1),oe(sr,r),Vr===null&&(i===null||yo.current!==null||i.memoizedState!==null)&&(Vr=r)}function V1(r){if(r.tag===22){if(oe(Ht,Ht.current),oe(sr,r),Vr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Vr=r)}}else si()}function si(){oe(Ht,Ht.current),oe(sr,sr.current)}function _s(r){ce(sr),Vr===r&&(Vr=null),ce(Ht)}var Ht=Q(0);function _h(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Rp(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Um(r,i,o,c){i=r.memoizedState,o=o(c,i),o=o==null?i:y({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var zm={enqueueSetState:function(r,i,o){r=r._reactInternals;var c=Fn(),m=ei(c);m.payload=i,o!=null&&(m.callback=o),i=ti(r,m,c),i!==null&&(Hn(i,r,c),Xl(i,r,c))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var c=Fn(),m=ei(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=ti(r,m,c),i!==null&&(Hn(i,r,c),Xl(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Fn(),c=ei(o);c.tag=2,i!=null&&(c.callback=i),i=ti(r,c,o),i!==null&&(Hn(i,r,o),Xl(i,r,o))}};function k1(r,i,o,c,m,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,v,S):i.prototype&&i.prototype.isPureReactComponent?!zl(o,c)||!zl(m,v):!0}function L1(r,i,o,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==r&&zm.enqueueReplaceState(i,i.state,null)}function ba(r,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(r=r.defaultProps){o===i&&(o=y({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var Eh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function U1(r){Eh(r)}function z1(r){console.error(r)}function B1(r){Eh(r)}function bh(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function F1(r,i,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Bm(r,i,o){return o=ei(o),o.tag=3,o.payload={element:null},o.callback=function(){bh(r,i)},o}function H1(r){return r=ei(r),r.tag=3,r}function q1(r,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;r.payload=function(){return m(v)},r.callback=function(){F1(i,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){F1(i,o,c),typeof m!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function Sw(r,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Gl(i,o,m,!0),o=sr.current,o!==null){switch(o.tag){case 13:return Vr===null?hp():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===gm?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),fp(r,c,m)),!1;case 22:return o.flags|=65536,c===gm?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),fp(r,c,m)),!1}throw Error(s(435,o.tag))}return fp(r,c,m),hp(),!1}if(Ze)return i=sr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==cm&&(r=Error(s(422),{cause:c}),ql(er(r,o)))):(c!==cm&&(i=Error(s(423),{cause:c}),ql(er(i,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=er(c,o),m=Bm(r.stateNode,c,m),_m(r,m),Tt!==4&&(Tt=2)),!1;var v=Error(s(520),{cause:c});if(v=er(v,o),hc===null?hc=[v]:hc.push(v),Tt!==4&&(Tt=2),i===null)return!0;c=er(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=Bm(o.stateNode,c,r),_m(o,r),!1;case 1:if(i=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=H1(m),q1(m,r,o,c),_m(o,m),!1}o=o.return}while(o!==null);return!1}var G1=Error(s(461)),Kt=!1;function nn(r,i,o,c){i.child=r===null?P1(i,null,o,c):So(i,r.child,o,c)}function $1(r,i,o,c,m){o=o.render;var v=i.ref;if("ref"in c){var S={};for(var x in c)x!=="ref"&&(S[x]=c[x])}else S=c;return ya(i),c=wm(r,i,o,S,v,m),x=xm(),r!==null&&!Kt?(Am(r,i,m),Es(r,i,m)):(Ze&&x&&om(i),i.flags|=1,nn(r,i,c,m),i.child)}function K1(r,i,o,c,m){if(r===null){var v=o.type;return typeof v=="function"&&!sm(v)&&v.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=v,Y1(r,i,v,c,m)):(r=eh(o.type,null,c,i,i.mode,m),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!Qm(r,m)){var S=v.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(S,c)&&r.ref===i.ref)return Es(r,i,m)}return i.flags|=1,r=fs(v,c),r.ref=i.ref,r.return=i,i.child=r}function Y1(r,i,o,c,m){if(r!==null){var v=r.memoizedProps;if(zl(v,c)&&r.ref===i.ref)if(Kt=!1,i.pendingProps=c=v,Qm(r,m))(r.flags&131072)!==0&&(Kt=!0);else return i.lanes=r.lanes,Es(r,i,m)}return Fm(r,i,o,c,m)}function Q1(r,i,o){var c=i.pendingProps,m=c.children,v=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=v!==null?v.baseLanes|o:o,r!==null){for(m=i.child=r.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;i.childLanes=v&~c}else i.childLanes=0,i.child=null;return X1(r,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&ih(i,v!==null?v.cachePool:null),v!==null?Yy(i,v):bm(),V1(i);else return i.lanes=i.childLanes=536870912,X1(r,i,v!==null?v.baseLanes|o:o,o)}else v!==null?(ih(i,v.cachePool),Yy(i,v),si(),i.memoizedState=null):(r!==null&&ih(i,null),bm(),si());return nn(r,i,m,o),i.child}function X1(r,i,o,c){var m=pm();return m=m===null?null:{parent:Ft._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&ih(i,null),bm(),V1(i),r!==null&&Gl(r,i,c,!0),null}function Th(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function Fm(r,i,o,c,m){return ya(i),o=wm(r,i,o,c,void 0,m),c=xm(),r!==null&&!Kt?(Am(r,i,m),Es(r,i,m)):(Ze&&c&&om(i),i.flags|=1,nn(r,i,o,m),i.child)}function Z1(r,i,o,c,m,v){return ya(i),i.updateQueue=null,o=Xy(i,c,o,m),Qy(r),c=xm(),r!==null&&!Kt?(Am(r,i,v),Es(r,i,v)):(Ze&&c&&om(i),i.flags|=1,nn(r,i,o,v),i.child)}function W1(r,i,o,c,m){if(ya(i),i.stateNode===null){var v=fo,S=o.contextType;typeof S=="object"&&S!==null&&(v=dn(S)),v=new o(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=zm,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},vm(i),S=o.contextType,v.context=typeof S=="object"&&S!==null?dn(S):fo,v.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Um(i,o,S,c),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&zm.enqueueReplaceState(v,v.state,null),Wl(i,c,v,m),Zl(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){v=i.stateNode;var x=i.memoizedProps,z=ba(o,x);v.props=z;var W=v.context,ne=o.contextType;S=fo,typeof ne=="object"&&ne!==null&&(S=dn(ne));var ie=o.getDerivedStateFromProps;ne=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x||W!==S)&&L1(i,v,c,S),Js=!1;var J=i.memoizedState;v.state=J,Wl(i,c,v,m),Zl(),W=i.memoizedState,x||J!==W||Js?(typeof ie=="function"&&(Um(i,o,ie,c),W=i.memoizedState),(z=Js||k1(i,o,z,c,J,W,S))?(ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=W),v.props=c,v.state=W,v.context=S,c=z):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,ym(r,i),S=i.memoizedProps,ne=ba(o,S),v.props=ne,ie=i.pendingProps,J=v.context,W=o.contextType,z=fo,typeof W=="object"&&W!==null&&(z=dn(W)),x=o.getDerivedStateFromProps,(W=typeof x=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==ie||J!==z)&&L1(i,v,c,z),Js=!1,J=i.memoizedState,v.state=J,Wl(i,c,v,m),Zl();var ee=i.memoizedState;S!==ie||J!==ee||Js||r!==null&&r.dependencies!==null&&rh(r.dependencies)?(typeof x=="function"&&(Um(i,o,x,c),ee=i.memoizedState),(ne=Js||k1(i,o,ne,c,J,ee,z)||r!==null&&r.dependencies!==null&&rh(r.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ee,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ee,z)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ee),v.props=c,v.state=ee,v.context=z,c=ne):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),c=!1)}return v=c,Th(r,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&c?(i.child=So(i,r.child,null,m),i.child=So(i,null,o,m)):nn(r,i,o,m),i.memoizedState=v.state,r=i.child):r=Es(r,i,m),r}function J1(r,i,o,c){return Hl(),i.flags|=256,nn(r,i,o,c),i.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qm(r){return{baseLanes:r,cachePool:zy()}}function Gm(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=ir),r}function e0(r,i,o){var c=i.pendingProps,m=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(Ht.current&2)!==0),S&&(m=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ze){if(m?ri(i):si(),Ze){var x=bt,z;if(z=x){e:{for(z=x,x=Pr;z.nodeType!==8;){if(!x){x=null;break e}if(z=pr(z.nextSibling),z===null){x=null;break e}}x=z}x!==null?(i.memoizedState={dehydrated:x,treeContext:fa!==null?{id:ms,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},z=Ln(18,null,null,0),z.stateNode=x,z.return=i,i.child=z,Sn=i,bt=null,z=!0):z=!1}z||ga(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Rp(x)?i.lanes=32:i.lanes=536870912,null;_s(i)}return x=c.children,c=c.fallback,m?(si(),m=i.mode,x=Sh({mode:"hidden",children:x},m),c=da(c,m,o,null),x.return=i,c.return=i,x.sibling=c,i.child=x,m=i.child,m.memoizedState=qm(o),m.childLanes=Gm(r,S,o),i.memoizedState=Hm,c):(ri(i),$m(i,x))}if(z=r.memoizedState,z!==null&&(x=z.dehydrated,x!==null)){if(v)i.flags&256?(ri(i),i.flags&=-257,i=Km(r,i,o)):i.memoizedState!==null?(si(),i.child=r.child,i.flags|=128,i=null):(si(),m=c.fallback,x=i.mode,c=Sh({mode:"visible",children:c.children},x),m=da(m,x,o,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,So(i,r.child,null,o),c=i.child,c.memoizedState=qm(o),c.childLanes=Gm(r,S,o),i.memoizedState=Hm,i=m);else if(ri(i),Rp(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var W=S.dgst;S=W,c=Error(s(419)),c.stack="",c.digest=S,ql({value:c,source:null,stack:null}),i=Km(r,i,o)}else if(Kt||Gl(r,i,o,!1),S=(o&r.childLanes)!==0,Kt||S){if(S=ft,S!==null&&(c=o&-o,c=(c&42)!==0?1:Gs(c),c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,ho(r,c),Hn(S,r,c),G1;x.data==="$?"||hp(),i=Km(r,i,o)}else x.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=z.treeContext,bt=pr(x.nextSibling),Sn=i,Ze=!0,pa=null,Pr=!1,r!==null&&(nr[rr++]=ms,nr[rr++]=ps,nr[rr++]=fa,ms=r.id,ps=r.overflow,fa=i),i=$m(i,c.children),i.flags|=4096);return i}return m?(si(),m=c.fallback,x=i.mode,z=r.child,W=z.sibling,c=fs(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,W!==null?m=fs(W,m):(m=da(m,x,o,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,x=r.child.memoizedState,x===null?x=qm(o):(z=x.cachePool,z!==null?(W=Ft._currentValue,z=z.parent!==W?{parent:W,pool:W}:z):z=zy(),x={baseLanes:x.baseLanes|o,cachePool:z}),m.memoizedState=x,m.childLanes=Gm(r,S,o),i.memoizedState=Hm,c):(ri(i),o=r.child,r=o.sibling,o=fs(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,r!==null&&(S=i.deletions,S===null?(i.deletions=[r],i.flags|=16):S.push(r)),i.child=o,i.memoizedState=null,o)}function $m(r,i){return i=Sh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Sh(r,i){return r=Ln(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Km(r,i,o){return So(i,r.child,null,o),r=$m(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function t0(r,i,o){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),hm(r.return,i,o)}function Ym(r,i,o,c,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=o,v.tailMode=m)}function n0(r,i,o){var c=i.pendingProps,m=c.revealOrder,v=c.tail;if(nn(r,i,c.children,o),c=Ht.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&t0(r,o,i);else if(r.tag===19)t0(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(oe(Ht,c),m){case"forwards":for(o=i.child,m=null;o!==null;)r=o.alternate,r!==null&&_h(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Ym(i,!1,m,o,v);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(r=m.alternate,r!==null&&_h(r)===null){i.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Ym(i,!0,o,null,v);break;case"together":Ym(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Es(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),ci|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Gl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=fs(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=fs(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Qm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&rh(r)))}function ww(r,i,o){switch(i.tag){case 3:Fe(i,i.stateNode.containerInfo),Ws(i,Ft,r.memoizedState.cache),Hl();break;case 27:case 5:br(i);break;case 4:Fe(i,i.stateNode.containerInfo);break;case 10:Ws(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ri(i),i.flags|=128,null):(o&i.child.childLanes)!==0?e0(r,i,o):(ri(i),r=Es(r,i,o),r!==null?r.sibling:null);ri(i);break;case 19:var m=(r.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Gl(r,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return n0(r,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(Ht,Ht.current),c)break;return null;case 22:case 23:return i.lanes=0,Q1(r,i,o);case 24:Ws(i,Ft,r.memoizedState.cache)}return Es(r,i,o)}function r0(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Kt=!0;else{if(!Qm(r,o)&&(i.flags&128)===0)return Kt=!1,ww(r,i,o);Kt=(r.flags&131072)!==0}else Kt=!1,Ze&&(i.flags&1048576)!==0&&Oy(i,nh,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,m=c._init;if(c=m(c._payload),i.type=c,typeof c=="function")sm(c)?(r=ba(c,r),i.tag=1,i=W1(null,i,c,r,o)):(i.tag=0,i=Fm(null,i,c,r,o));else{if(c!=null){if(m=c.$$typeof,m===q){i.tag=11,i=$1(null,i,c,r,o);break e}else if(m===I){i.tag=14,i=K1(null,i,c,r,o);break e}}throw i=Te(c)||c,Error(s(306,i,""))}}return i;case 0:return Fm(r,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=ba(c,i.pendingProps),W1(r,i,c,m,o);case 3:e:{if(Fe(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var v=i.memoizedState;m=v.element,ym(r,i),Wl(i,c,null,o);var S=i.memoizedState;if(c=S.cache,Ws(i,Ft,c),c!==v.cache&&dm(i,[Ft],o,!0),Zl(),c=S.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=J1(r,i,c,o);break e}else if(c!==m){m=er(Error(s(424)),i),ql(m),i=J1(r,i,c,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=pr(r.firstChild),Sn=i,Ze=!0,pa=null,Pr=!0,o=P1(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hl(),c===m){i=Es(r,i,o);break e}nn(r,i,c,o)}i=i.child}return i;case 26:return Th(r,i),r===null?(o=o2(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ze||(o=i.type,r=i.pendingProps,c=kh(ve.current).createElement(o),c[Ut]=i,c[It]=r,sn(c,o,r),wt(c),i.stateNode=c):i.memoizedState=o2(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return br(i),r===null&&Ze&&(c=i.stateNode=s2(i.type,i.pendingProps,ve.current),Sn=i,Pr=!0,m=bt,fi(i.type)?(Np=m,bt=pr(c.firstChild)):bt=m),nn(r,i,i.pendingProps.children,o),Th(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ze&&((m=c=bt)&&(c=Ww(c,i.type,i.pendingProps,Pr),c!==null?(i.stateNode=c,Sn=i,bt=pr(c.firstChild),Pr=!1,m=!0):m=!1),m||ga(i)),br(i),m=i.type,v=i.pendingProps,S=r!==null?r.memoizedProps:null,c=v.children,xp(m,v)?c=null:S!==null&&xp(m,S)&&(i.flags|=32),i.memoizedState!==null&&(m=wm(r,i,gw,null,null,o),Ec._currentValue=m),Th(r,i),nn(r,i,c,o),i.child;case 6:return r===null&&Ze&&((r=o=bt)&&(o=Jw(o,i.pendingProps,Pr),o!==null?(i.stateNode=o,Sn=i,bt=null,r=!0):r=!1),r||ga(i)),null;case 13:return e0(r,i,o);case 4:return Fe(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=So(i,null,c,o):nn(r,i,c,o),i.child;case 11:return $1(r,i,i.type,i.pendingProps,o);case 7:return nn(r,i,i.pendingProps,o),i.child;case 8:return nn(r,i,i.pendingProps.children,o),i.child;case 12:return nn(r,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Ws(i,i.type,c.value),nn(r,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,ya(i),m=dn(m),c=c(m),i.flags|=1,nn(r,i,c,o),i.child;case 14:return K1(r,i,i.type,i.pendingProps,o);case 15:return Y1(r,i,i.type,i.pendingProps,o);case 19:return n0(r,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},r===null?(o=Sh(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=fs(r.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Q1(r,i,o);case 24:return ya(i),c=dn(Ft),r===null?(m=pm(),m===null&&(m=ft,v=fm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),i.memoizedState={parent:c,cache:m},vm(i),Ws(i,Ft,m)):((r.lanes&o)!==0&&(ym(r,i),Wl(i,null,null,o),Zl()),m=r.memoizedState,v=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Ws(i,Ft,c)):(c=v.cache,Ws(i,Ft,c),c!==m.cache&&dm(i,[Ft],o,!0))),nn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function bs(r){r.flags|=4}function s0(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!d2(i)){if(i=sr.current,i!==null&&((Ye&4194048)===Ye?Vr!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||i!==Vr))throw Ql=gm,By;r.flags|=8192}}function wh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Tl():536870912,r.lanes|=i,Co|=i)}function ic(r,i){if(!Ze)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function vt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(i)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,i}function xw(r,i,o){var c=i.pendingProps;switch(lm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return o=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),vs(Ft),_n(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Fl(i)?bs(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vy())),vt(i),null;case 26:return o=i.memoizedState,r===null?(bs(i),o!==null?(vt(i),s0(i,o)):(vt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(bs(i),vt(i),s0(i,o)):(vt(i),i.flags&=-16777217):(r.memoizedProps!==c&&bs(i),vt(i),i.flags&=-16777217),null;case 27:Kn(i),o=ve.current;var m=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&bs(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return vt(i),null}r=pe.current,Fl(i)?My(i):(r=s2(m,c,o),i.stateNode=r,bs(i))}return vt(i),null;case 5:if(Kn(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&bs(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return vt(i),null}if(r=pe.current,Fl(i))My(i);else{switch(m=kh(ve.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}r[Ut]=i,r[It]=c;e:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break e;for(;m.sibling===null;){if(m.return===null||m.return===i)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=r;e:switch(sn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&bs(i)}}return vt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&bs(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=ve.current,Fl(i)){if(r=i.stateNode,o=i.memoizedProps,c=null,m=Sn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[Ut]=i,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Z0(r.nodeValue,o)),r||ga(i)}else r=kh(r).createTextNode(c),r[Ut]=i,i.stateNode=r}return vt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Fl(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(s(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Ut]=i}else Hl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),m=!1}else m=Vy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(_s(i),i):(_s(i),null)}if(_s(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),wh(i,i.updateQueue),vt(i),null;case 4:return _n(),r===null&&Ep(i.stateNode.containerInfo),vt(i),null;case 10:return vs(i.type),vt(i),null;case 19:if(ce(Ht),m=i.memoizedState,m===null)return vt(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)ic(m,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=_h(r),v!==null){for(i.flags|=128,ic(m,!1),r=v.updateQueue,i.updateQueue=r,wh(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)jy(o,r),o=o.sibling;return oe(Ht,Ht.current&1|2),i.child}r=r.sibling}m.tail!==null&&Yn()>Ch&&(i.flags|=128,c=!0,ic(m,!1),i.lanes=4194304)}else{if(!c)if(r=_h(v),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,wh(i,r),ic(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ze)return vt(i),null}else 2*Yn()-m.renderingStartTime>Ch&&o!==536870912&&(i.flags|=128,c=!0,ic(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(r=m.last,r!==null?r.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Yn(),i.sibling=null,r=Ht.current,oe(Ht,c?r&1|2:r&1),i):(vt(i),null);case 22:case 23:return _s(i),Tm(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),o=i.updateQueue,o!==null&&wh(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),r!==null&&ce(_a),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),vs(Ft),vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Aw(r,i){switch(lm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return vs(Ft),_n(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 13:if(_s(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ce(Ht),null;case 4:return _n(),null;case 10:return vs(i.type),null;case 22:case 23:return _s(i),Tm(),r!==null&&ce(_a),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return vs(Ft),null;case 25:return null;default:return null}}function i0(r,i){switch(lm(i),i.tag){case 3:vs(Ft),_n();break;case 26:case 27:case 5:Kn(i);break;case 4:_n();break;case 13:_s(i);break;case 19:ce(Ht);break;case 10:vs(i.type);break;case 22:case 23:_s(i),Tm(),r!==null&&ce(_a);break;case 24:vs(Ft)}}function ac(r,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var v=o.create,S=o.inst;c=v(),S.destroy=c}o=o.next}while(o!==m)}}catch(x){dt(i,i.return,x)}}function ii(r,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&r)===r){var S=c.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,m=i;var z=o,W=x;try{W()}catch(ne){dt(m,z,ne)}}}c=c.next}while(c!==v)}}catch(ne){dt(i,i.return,ne)}}function a0(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Ky(i,o)}catch(c){dt(r,r.return,c)}}}function o0(r,i,o){o.props=ba(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){dt(r,i,c)}}function oc(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(m){dt(r,i,m)}}function kr(r,i){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){dt(r,i,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){dt(r,i,m)}else o.current=null}function l0(r){var i=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){dt(r,r.return,m)}}function Xm(r,i,o){try{var c=r.stateNode;Kw(c,r.type,o,i),c[It]=i}catch(m){dt(r,r.return,m)}}function c0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&fi(r.type)||r.tag===4}function Zm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||c0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&fi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wm(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Vh));else if(c!==4&&(c===27&&fi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Wm(r,i,o),r=r.sibling;r!==null;)Wm(r,i,o),r=r.sibling}function xh(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(c!==4&&(c===27&&fi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(xh(r,i,o),r=r.sibling;r!==null;)xh(r,i,o),r=r.sibling}function u0(r){var i=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);sn(i,c,o),i[Ut]=r,i[It]=o}catch(v){dt(r,r.return,v)}}var Ts=!1,At=!1,Jm=!1,h0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Cw(r,i){if(r=r.containerInfo,Sp=Hh,r=Ty(r),Zf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var S=0,x=-1,z=-1,W=0,ne=0,ie=r,J=null;t:for(;;){for(var ee;ie!==o||m!==0&&ie.nodeType!==3||(x=S+m),ie!==v||c!==0&&ie.nodeType!==3||(z=S+c),ie.nodeType===3&&(S+=ie.nodeValue.length),(ee=ie.firstChild)!==null;)J=ie,ie=ee;for(;;){if(ie===r)break t;if(J===o&&++W===m&&(x=S),J===v&&++ne===c&&(z=S),(ee=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=ee}o=x===-1||z===-1?null:{start:x,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(wp={focusedElem:r,selectionRange:o},Hh=!1,Yt=i;Yt!==null;)if(i=Yt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Yt=r;else for(;Yt!==null;){switch(i=Yt,v=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,o=i,m=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var Ie=ba(o.type,m,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Ie,v),c.__reactInternalSnapshotBeforeUpdate=r}catch(we){dt(o,o.return,we)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Cp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Cp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Yt=r;break}Yt=i.return}}function d0(r,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ai(r,o),c&4&&ac(5,o);break;case 1:if(ai(r,o),c&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(S){dt(o,o.return,S)}else{var m=ba(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(m,i,r.__reactInternalSnapshotBeforeUpdate)}catch(S){dt(o,o.return,S)}}c&64&&a0(o),c&512&&oc(o,o.return);break;case 3:if(ai(r,o),c&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Ky(r,i)}catch(S){dt(o,o.return,S)}}break;case 27:i===null&&c&4&&u0(o);case 26:case 5:ai(r,o),i===null&&c&4&&l0(o),c&512&&oc(o,o.return);break;case 12:ai(r,o);break;case 13:ai(r,o),c&4&&p0(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Vw.bind(null,o),ex(r,o))));break;case 22:if(c=o.memoizedState!==null||Ts,!c){i=i!==null&&i.memoizedState!==null||At,m=Ts;var v=At;Ts=c,(At=i)&&!v?oi(r,o,(o.subtreeFlags&8772)!==0):ai(r,o),Ts=m,At=v}break;case 30:break;default:ai(r,o)}}function f0(r){var i=r.alternate;i!==null&&(r.alternate=null,f0(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ys(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var gt=null,An=!1;function Ss(r,i,o){for(o=o.child;o!==null;)m0(r,i,o),o=o.sibling}function m0(r,i,o){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Et,o)}catch{}switch(o.tag){case 26:At||kr(o,i),Ss(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||kr(o,i);var c=gt,m=An;fi(o.type)&&(gt=o.stateNode,An=!1),Ss(r,i,o),gc(o.stateNode),gt=c,An=m;break;case 5:At||kr(o,i);case 6:if(c=gt,m=An,gt=null,Ss(r,i,o),gt=c,An=m,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(v){dt(o,i,v)}else try{gt.removeChild(o.stateNode)}catch(v){dt(o,i,v)}break;case 18:gt!==null&&(An?(r=gt,n2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),wc(r)):n2(gt,o.stateNode));break;case 4:c=gt,m=An,gt=o.stateNode.containerInfo,An=!0,Ss(r,i,o),gt=c,An=m;break;case 0:case 11:case 14:case 15:At||ii(2,o,i),At||ii(4,o,i),Ss(r,i,o);break;case 1:At||(kr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&o0(o,i,c)),Ss(r,i,o);break;case 21:Ss(r,i,o);break;case 22:At=(c=At)||o.memoizedState!==null,Ss(r,i,o),At=c;break;default:Ss(r,i,o)}}function p0(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wc(r)}catch(o){dt(i,i.return,o)}}function Rw(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new h0),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new h0),i;default:throw Error(s(435,r.tag))}}function ep(r,i){var o=Rw(r);i.forEach(function(c){var m=kw.bind(null,r,c);o.has(c)||(o.add(c),c.then(m,m))})}function Un(r,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],v=r,S=i,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(fi(x.type)){gt=x.stateNode,An=!1;break e}break;case 5:gt=x.stateNode,An=!1;break e;case 3:case 4:gt=x.stateNode.containerInfo,An=!0;break e}x=x.return}if(gt===null)throw Error(s(160));m0(v,S,m),gt=null,An=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)g0(i,r),i=i.sibling}var mr=null;function g0(r,i){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Un(i,r),zn(r),c&4&&(ii(3,r,r.return),ac(3,r),ii(5,r,r.return));break;case 1:Un(i,r),zn(r),c&512&&(At||o===null||kr(o,o.return)),c&64&&Ts&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=mr;if(Un(i,r),zn(r),c&512&&(At||o===null||kr(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Xi]||v[Ut]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),sn(v,c,o),v[Ut]=r,wt(v),c=v;break e;case"link":var S=u2("link","href",m).get(c+(o.href||""));if(S){for(var x=0;x<S.length;x++)if(v=S[x],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(x,1);break t}}v=m.createElement(c),sn(v,c,o),m.head.appendChild(v);break;case"meta":if(S=u2("meta","content",m).get(c+(o.content||""))){for(x=0;x<S.length;x++)if(v=S[x],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(x,1);break t}}v=m.createElement(c),sn(v,c,o),m.head.appendChild(v);break;default:throw Error(s(468,c))}v[Ut]=r,wt(v),c=v}r.stateNode=c}else h2(m,r.type,r.stateNode);else r.stateNode=c2(m,c,r.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?h2(m,r.type,r.stateNode):c2(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Xm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Un(i,r),zn(r),c&512&&(At||o===null||kr(o,o.return)),o!==null&&c&4&&Xm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Un(i,r),zn(r),c&512&&(At||o===null||kr(o,o.return)),r.flags&32){m=r.stateNode;try{Xn(m,"")}catch(ee){dt(r,r.return,ee)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,Xm(r,m,o!==null?o.memoizedProps:m)),c&1024&&(Jm=!0);break;case 6:if(Un(i,r),zn(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ee){dt(r,r.return,ee)}}break;case 3:if(zh=null,m=mr,mr=Lh(i.containerInfo),Un(i,r),mr=m,zn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{wc(i.containerInfo)}catch(ee){dt(r,r.return,ee)}Jm&&(Jm=!1,v0(r));break;case 4:c=mr,mr=Lh(r.stateNode.containerInfo),Un(i,r),zn(r),mr=c;break;case 12:Un(i,r),zn(r);break;case 13:Un(i,r),zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ap=Yn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ep(r,c)));break;case 22:m=r.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,W=Ts,ne=At;if(Ts=W||m,At=ne||z,Un(i,r),At=ne,Ts=W,zn(r),c&8192)e:for(i=r.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||z||Ts||At||Ta(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(v=z.stateNode,m)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=z.stateNode;var ie=z.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;x.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){dt(z,z.return,ee)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(ee){dt(z,z.return,ee)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,ep(r,o))));break;case 19:Un(i,r),zn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ep(r,c)));break;case 30:break;case 21:break;default:Un(i,r),zn(r)}}function zn(r){var i=r.flags;if(i&2){try{for(var o,c=r.return;c!==null;){if(c0(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,v=Zm(r);xh(r,v,m);break;case 5:var S=o.stateNode;o.flags&32&&(Xn(S,""),o.flags&=-33);var x=Zm(r);xh(r,x,S);break;case 3:case 4:var z=o.stateNode.containerInfo,W=Zm(r);Wm(r,W,z);break;default:throw Error(s(161))}}catch(ne){dt(r,r.return,ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function v0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;v0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ai(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d0(r,i.alternate,i),i=i.sibling}function Ta(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ii(4,i,i.return),Ta(i);break;case 1:kr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&o0(i,i.return,o),Ta(i);break;case 27:gc(i.stateNode);case 26:case 5:kr(i,i.return),Ta(i);break;case 22:i.memoizedState===null&&Ta(i);break;case 30:Ta(i);break;default:Ta(i)}r=r.sibling}}function oi(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=r,v=i,S=v.flags;switch(v.tag){case 0:case 11:case 15:oi(m,v,o),ac(4,v);break;case 1:if(oi(m,v,o),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){dt(c,c.return,W)}if(c=v,m=c.updateQueue,m!==null){var x=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)$y(z[m],x)}catch(W){dt(c,c.return,W)}}o&&S&64&&a0(v),oc(v,v.return);break;case 27:u0(v);case 26:case 5:oi(m,v,o),o&&c===null&&S&4&&l0(v),oc(v,v.return);break;case 12:oi(m,v,o);break;case 13:oi(m,v,o),o&&S&4&&p0(m,v);break;case 22:v.memoizedState===null&&oi(m,v,o),oc(v,v.return);break;case 30:break;default:oi(m,v,o)}i=i.sibling}}function tp(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&$l(o))}function np(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&$l(r))}function Lr(r,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y0(r,i,o,c),i=i.sibling}function y0(r,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Lr(r,i,o,c),m&2048&&ac(9,i);break;case 1:Lr(r,i,o,c);break;case 3:Lr(r,i,o,c),m&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&$l(r)));break;case 12:if(m&2048){Lr(r,i,o,c),r=i.stateNode;try{var v=i.memoizedProps,S=v.id,x=v.onPostCommit;typeof x=="function"&&x(S,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){dt(i,i.return,z)}}else Lr(r,i,o,c);break;case 13:Lr(r,i,o,c);break;case 23:break;case 22:v=i.stateNode,S=i.alternate,i.memoizedState!==null?v._visibility&2?Lr(r,i,o,c):lc(r,i):v._visibility&2?Lr(r,i,o,c):(v._visibility|=2,wo(r,i,o,c,(i.subtreeFlags&10256)!==0)),m&2048&&tp(S,i);break;case 24:Lr(r,i,o,c),m&2048&&np(i.alternate,i);break;default:Lr(r,i,o,c)}}function wo(r,i,o,c,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=r,S=i,x=o,z=c,W=S.flags;switch(S.tag){case 0:case 11:case 15:wo(v,S,x,z,m),ac(8,S);break;case 23:break;case 22:var ne=S.stateNode;S.memoizedState!==null?ne._visibility&2?wo(v,S,x,z,m):lc(v,S):(ne._visibility|=2,wo(v,S,x,z,m)),m&&W&2048&&tp(S.alternate,S);break;case 24:wo(v,S,x,z,m),m&&W&2048&&np(S.alternate,S);break;default:wo(v,S,x,z,m)}i=i.sibling}}function lc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,c=i,m=c.flags;switch(c.tag){case 22:lc(o,c),m&2048&&tp(c.alternate,c);break;case 24:lc(o,c),m&2048&&np(c.alternate,c);break;default:lc(o,c)}i=i.sibling}}var cc=8192;function xo(r){if(r.subtreeFlags&cc)for(r=r.child;r!==null;)_0(r),r=r.sibling}function _0(r){switch(r.tag){case 26:xo(r),r.flags&cc&&r.memoizedState!==null&&fx(mr,r.memoizedState,r.memoizedProps);break;case 5:xo(r);break;case 3:case 4:var i=mr;mr=Lh(r.stateNode.containerInfo),xo(r),mr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=cc,cc=16777216,xo(r),cc=i):xo(r));break;default:xo(r)}}function E0(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function uc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yt=c,T0(c,r)}E0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b0(r),r=r.sibling}function b0(r){switch(r.tag){case 0:case 11:case 15:uc(r),r.flags&2048&&ii(9,r,r.return);break;case 3:uc(r);break;case 12:uc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ah(r)):uc(r);break;default:uc(r)}}function Ah(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yt=c,T0(c,r)}E0(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ii(8,i,i.return),Ah(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ah(i));break;default:Ah(i)}r=r.sibling}}function T0(r,i){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:ii(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$l(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=r;Yt!==null;){c=Yt;var m=c.sibling,v=c.return;if(f0(c),c===o){Yt=null;break e}if(m!==null){m.return=v,Yt=m;break e}Yt=v}}}var Nw={getCacheForType:function(r){var i=dn(Ft),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},Iw=typeof WeakMap=="function"?WeakMap:Map,st=0,ft=null,Ue=null,Ye=0,it=0,Bn=null,li=!1,Ao=!1,rp=!1,ws=0,Tt=0,ci=0,Sa=0,sp=0,ir=0,Co=0,hc=null,Cn=null,ip=!1,ap=0,Ch=1/0,Rh=null,ui=null,rn=0,hi=null,Ro=null,No=0,op=0,lp=null,S0=null,dc=0,cp=null;function Fn(){if((st&2)!==0&&Ye!==0)return Ye&-Ye;if($.T!==null){var r=go;return r!==0?r:gp()}return $s()}function w0(){ir===0&&(ir=(Ye&536870912)===0||Ze?bl():536870912);var r=sr.current;return r!==null&&(r.flags|=32),ir}function Hn(r,i,o){(r===ft&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(Io(r,0),di(r,Ye,ir,!1)),ns(r,o),((st&2)===0||r!==ft)&&(r===ft&&((st&2)===0&&(Sa|=o),Tt===4&&di(r,Ye,ir,!1)),Ur(r))}function x0(r,i,o){if((st&6)!==0)throw Error(s(327));var c=!o&&(i&124)===0&&(i&r.expiredLanes)===0||Qi(r,i),m=c?Ow(r,i):dp(r,i,!0),v=c;do{if(m===0){Ao&&!c&&di(r,i,0,!1);break}else{if(o=r.current.alternate,v&&!Dw(o)){m=dp(r,i,!1),v=!1;continue}if(m===2){if(v=i,r.errorRecoveryDisabledLanes&v)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var x=r;m=hc;var z=x.current.memoizedState.isDehydrated;if(z&&(Io(x,S).flags|=256),S=dp(x,S,!1),S!==2){if(rp&&!z){x.errorRecoveryDisabledLanes|=v,Sa|=v,m=4;break e}v=Cn,Cn=m,v!==null&&(Cn===null?Cn=v:Cn.push.apply(Cn,v))}m=S}if(v=!1,m!==2)continue}}if(m===1){Io(r,0),di(r,i,0,!0);break}e:{switch(c=r,v=m,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:di(c,i,ir,!li);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(m=ap+300-Yn(),10<m)){if(di(c,i,ir,!li),$a(c,0,!0)!==0)break e;c.timeoutHandle=e2(A0.bind(null,c,o,Cn,Rh,ip,i,ir,Sa,Co,li,v,2,-0,0),m);break e}A0(c,o,Cn,Rh,ip,i,ir,Sa,Co,li,v,0,-0,0)}}break}while(!0);Ur(r)}function A0(r,i,o,c,m,v,S,x,z,W,ne,ie,J,ee){if(r.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(_c={stylesheets:null,count:0,unsuspend:dx},_0(i),ie=mx(),ie!==null)){r.cancelPendingCommit=ie(O0.bind(null,r,i,v,o,c,m,S,x,z,ne,1,J,ee)),di(r,v,S,!W);return}O0(r,i,v,o,c,m,S,x,z)}function Dw(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],v=m.getSnapshot;m=m.value;try{if(!kn(v(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function di(r,i,o,c){i&=~sp,i&=~Sa,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var m=i;0<m;){var v=31-hn(m),S=1<<v;c[v]=-1,m&=~S}o!==0&&wr(r,o,i)}function Nh(){return(st&6)===0?(fc(0),!1):!0}function up(){if(Ue!==null){if(it===0)var r=Ue.return;else r=Ue,gs=va=null,Cm(r),To=null,rc=0,r=Ue;for(;r!==null;)i0(r.alternate,r),r=r.return;Ue=null}}function Io(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Qw(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),up(),ft=r,Ue=o=fs(r.current,null),Ye=i,it=0,Bn=null,li=!1,Ao=Qi(r,i),rp=!1,Co=ir=sp=Sa=ci=Tt=0,Cn=hc=null,ip=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var m=31-hn(c),v=1<<m;i|=r[m],c&=~v}return ws=i,Zu(),o}function C0(r,i){ke=null,$.H=gh,i===Yl||i===ah?(i=qy(),it=3):i===By?(i=qy(),it=4):it=i===G1?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Bn=i,Ue===null&&(Tt=1,bh(r,er(i,r.current)))}function R0(){var r=$.H;return $.H=gh,r===null?gh:r}function N0(){var r=$.A;return $.A=Nw,r}function hp(){Tt=4,li||(Ye&4194048)!==Ye&&sr.current!==null||(Ao=!0),(ci&134217727)===0&&(Sa&134217727)===0||ft===null||di(ft,Ye,ir,!1)}function dp(r,i,o){var c=st;st|=2;var m=R0(),v=N0();(ft!==r||Ye!==i)&&(Rh=null,Io(r,i)),i=!1;var S=Tt;e:do try{if(it!==0&&Ue!==null){var x=Ue,z=Bn;switch(it){case 8:up(),S=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(i=!0);var W=it;if(it=0,Bn=null,Do(r,x,z,W),o&&Ao){S=0;break e}break;default:W=it,it=0,Bn=null,Do(r,x,z,W)}}jw(),S=Tt;break}catch(ne){C0(r,ne)}while(!0);return i&&r.shellSuspendCounter++,gs=va=null,st=c,$.H=m,$.A=v,Ue===null&&(ft=null,Ye=0,Zu()),S}function jw(){for(;Ue!==null;)I0(Ue)}function Ow(r,i){var o=st;st|=2;var c=R0(),m=N0();ft!==r||Ye!==i?(Rh=null,Ch=Yn()+500,Io(r,i)):Ao=Qi(r,i);e:do try{if(it!==0&&Ue!==null){i=Ue;var v=Bn;t:switch(it){case 1:it=0,Bn=null,Do(r,i,v,1);break;case 2:case 9:if(Fy(v)){it=0,Bn=null,D0(i);break}i=function(){it!==2&&it!==9||ft!==r||(it=7),Ur(r)},v.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Fy(v)?(it=0,Bn=null,D0(i)):(it=0,Bn=null,Do(r,i,v,7));break;case 5:var S=null;switch(Ue.tag){case 26:S=Ue.memoizedState;case 5:case 27:var x=Ue;if(!S||d2(S)){it=0,Bn=null;var z=x.sibling;if(z!==null)Ue=z;else{var W=x.return;W!==null?(Ue=W,Ih(W)):Ue=null}break t}}it=0,Bn=null,Do(r,i,v,5);break;case 6:it=0,Bn=null,Do(r,i,v,6);break;case 8:up(),Tt=6;break e;default:throw Error(s(462))}}Mw();break}catch(ne){C0(r,ne)}while(!0);return gs=va=null,$.H=c,$.A=m,st=o,Ue!==null?0:(ft=null,Ye=0,Zu(),Tt)}function Mw(){for(;Ue!==null&&!qi();)I0(Ue)}function I0(r){var i=r0(r.alternate,r,ws);r.memoizedProps=r.pendingProps,i===null?Ih(r):Ue=i}function D0(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=Z1(o,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=Z1(o,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:Cm(i);default:i0(o,i),i=Ue=jy(i,ws),i=r0(o,i,ws)}r.memoizedProps=r.pendingProps,i===null?Ih(r):Ue=i}function Do(r,i,o,c){gs=va=null,Cm(i),To=null,rc=0;var m=i.return;try{if(Sw(r,m,i,o,Ye)){Tt=1,bh(r,er(o,r.current)),Ue=null;return}}catch(v){if(m!==null)throw Ue=m,v;Tt=1,bh(r,er(o,r.current)),Ue=null;return}i.flags&32768?(Ze||c===1?r=!0:Ao||(Ye&536870912)!==0?r=!1:(li=r=!0,(c===2||c===9||c===3||c===6)&&(c=sr.current,c!==null&&c.tag===13&&(c.flags|=16384))),j0(i,r)):Ih(i)}function Ih(r){var i=r;do{if((i.flags&32768)!==0){j0(i,li);return}r=i.return;var o=xw(i.alternate,i,ws);if(o!==null){Ue=o;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=r}while(i!==null);Tt===0&&(Tt=5)}function j0(r,i){do{var o=Aw(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);Tt=6,Ue=null}function O0(r,i,o,c,m,v,S,x,z){r.cancelPendingCommit=null;do Dh();while(rn!==0);if((st&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=nm,Sl(r,o,v,S,x,z),r===ft&&(Ue=ft=null,Ye=0),Ro=i,hi=r,No=o,op=v,lp=m,S0=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Lw(Gi,function(){return L0(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=le.p,le.p=2,S=st,st|=4;try{Cw(r,i,o)}finally{st=S,le.p=m,$.T=c}}rn=1,M0(),P0(),V0()}}function M0(){if(rn===1){rn=0;var r=hi,i=Ro,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=le.p;le.p=2;var m=st;st|=4;try{g0(i,r);var v=wp,S=Ty(r.containerInfo),x=v.focusedElem,z=v.selectionRange;if(S!==x&&x&&x.ownerDocument&&by(x.ownerDocument.documentElement,x)){if(z!==null&&Zf(x)){var W=z.start,ne=z.end;if(ne===void 0&&(ne=W),"selectionStart"in x)x.selectionStart=W,x.selectionEnd=Math.min(ne,x.value.length);else{var ie=x.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ie=x.textContent.length,we=Math.min(z.start,Ie),ut=z.end===void 0?we:Math.min(z.end,Ie);!ee.extend&&we>ut&&(S=ut,ut=we,we=S);var Y=Ey(x,we),G=Ey(x,ut);if(Y&&G&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==G.node||ee.focusOffset!==G.offset)){var Z=ie.createRange();Z.setStart(Y.node,Y.offset),ee.removeAllRanges(),we>ut?(ee.addRange(Z),ee.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ee.addRange(Z))}}}}for(ie=[],ee=x;ee=ee.parentNode;)ee.nodeType===1&&ie.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ie.length;x++){var re=ie[x];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Hh=!!Sp,wp=Sp=null}finally{st=m,le.p=c,$.T=o}}r.current=i,rn=2}}function P0(){if(rn===2){rn=0;var r=hi,i=Ro,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=le.p;le.p=2;var m=st;st|=4;try{d0(r,i.alternate,i)}finally{st=m,le.p=c,$.T=o}}rn=3}}function V0(){if(rn===4||rn===3){rn=0,Au();var r=hi,i=Ro,o=No,c=S0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?rn=5:(rn=0,Ro=hi=null,k0(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(ui=null),Ka(o),i=i.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Et,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,m=le.p,le.p=2,$.T=null;try{for(var v=r.onRecoverableError,S=0;S<c.length;S++){var x=c[S];v(x.value,{componentStack:x.stack})}}finally{$.T=i,le.p=m}}(No&3)!==0&&Dh(),Ur(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===cp?dc++:(dc=0,cp=r):dc=0,fc(0)}}function k0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,$l(i)))}function Dh(r){return M0(),P0(),V0(),L0()}function L0(){if(rn!==5)return!1;var r=hi,i=op;op=0;var o=Ka(No),c=$.T,m=le.p;try{le.p=32>o?32:o,$.T=null,o=lp,lp=null;var v=hi,S=No;if(rn=0,Ro=hi=null,No=0,(st&6)!==0)throw Error(s(331));var x=st;if(st|=4,b0(v.current),y0(v,v.current,S,o),st=x,fc(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Et,v)}catch{}return!0}finally{le.p=m,$.T=c,k0(r,i)}}function U0(r,i,o){i=er(o,i),i=Bm(r.stateNode,i,2),r=ti(r,i,2),r!==null&&(ns(r,2),Ur(r))}function dt(r,i,o){if(r.tag===3)U0(r,r,o);else for(;i!==null;){if(i.tag===3){U0(i,r,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ui===null||!ui.has(c))){r=er(o,r),o=H1(2),c=ti(i,o,2),c!==null&&(q1(o,c,i,r),ns(c,2),Ur(c));break}}i=i.return}}function fp(r,i,o){var c=r.pingCache;if(c===null){c=r.pingCache=new Iw;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(rp=!0,m.add(o),r=Pw.bind(null,r,i,o),i.then(r,r))}function Pw(r,i,o){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ft===r&&(Ye&o)===o&&(Tt===4||Tt===3&&(Ye&62914560)===Ye&&300>Yn()-ap?(st&2)===0&&Io(r,0):sp|=o,Co===Ye&&(Co=0)),Ur(r)}function z0(r,i){i===0&&(i=Tl()),r=ho(r,i),r!==null&&(ns(r,i),Ur(r))}function Vw(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),z0(r,o)}function kw(r,i){var o=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),z0(r,o)}function Lw(r,i){return es(r,i)}var jh=null,jo=null,mp=!1,Oh=!1,pp=!1,wa=0;function Ur(r){r!==jo&&r.next===null&&(jo===null?jh=jo=r:jo=jo.next=r),Oh=!0,mp||(mp=!0,zw())}function fc(r,i){if(!pp&&Oh){pp=!0;do for(var o=!1,c=jh;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var S=c.suspendedLanes,x=c.pingedLanes;v=(1<<31-hn(42|r)+1)-1,v&=m&~(S&~x),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,q0(c,v))}else v=Ye,v=$a(c,c===ft?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Qi(c,v)||(o=!0,q0(c,v));c=c.next}while(o);pp=!1}}function Uw(){B0()}function B0(){Oh=mp=!1;var r=0;wa!==0&&(Yw()&&(r=wa),wa=0);for(var i=Yn(),o=null,c=jh;c!==null;){var m=c.next,v=F0(c,i);v===0?(c.next=null,o===null?jh=m:o.next=m,m===null&&(jo=o)):(o=c,(r!==0||(v&3)!==0)&&(Oh=!0)),c=m}fc(r)}function F0(r,i){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var S=31-hn(v),x=1<<S,z=m[S];z===-1?((x&o)===0||(x&c)!==0)&&(m[S]=El(x,i)):z<=i&&(r.expiredLanes|=x),v&=~x}if(i=ft,o=Ye,o=$a(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===i&&(it===2||it===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Sr(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Qi(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(c!==null&&Sr(c),Ka(o)){case 2:case 8:o=qa;break;case 32:o=Gi;break;case 268435456:o=Ga;break;default:o=Gi}return c=H0.bind(null,r),o=es(o,c),r.callbackPriority=i,r.callbackNode=o,i}return c!==null&&c!==null&&Sr(c),r.callbackPriority=2,r.callbackNode=null,2}function H0(r,i){if(rn!==0&&rn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Dh()&&r.callbackNode!==o)return null;var c=Ye;return c=$a(r,r===ft?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(x0(r,c,i),F0(r,Yn()),r.callbackNode!=null&&r.callbackNode===o?H0.bind(null,r):null)}function q0(r,i){if(Dh())return null;x0(r,i,!0)}function zw(){Xw(function(){(st&6)!==0?es(yl,Uw):B0()})}function gp(){return wa===0&&(wa=bl()),wa}function G0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ja(""+r)}function $0(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function Bw(r,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var v=G0((m[It]||null).action),S=c.submitter;S&&(i=(i=S[It]||null)?G0(i.formAction):S.getAttribute("formAction"),i!==null&&(v=i,S=null));var x=new eo("action","action",null,c,m);r.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(wa!==0){var z=S?$0(m,S):new FormData(m);Vm(o,{pending:!0,data:z,method:m.method,action:v},null,z)}}else typeof v=="function"&&(x.preventDefault(),z=S?$0(m,S):new FormData(m),Vm(o,{pending:!0,data:z,method:m.method,action:v},v,z))},currentTarget:m}]})}}for(var vp=0;vp<tm.length;vp++){var yp=tm[vp],Fw=yp.toLowerCase(),Hw=yp[0].toUpperCase()+yp.slice(1);fr(Fw,"on"+Hw)}fr(xy,"onAnimationEnd"),fr(Ay,"onAnimationIteration"),fr(Cy,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(aw,"onTransitionRun"),fr(ow,"onTransitionStart"),fr(lw,"onTransitionCancel"),fr(Ry,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function K0(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var S=c.length-1;0<=S;S--){var x=c[S],z=x.instance,W=x.currentTarget;if(x=x.listener,z!==v&&m.isPropagationStopped())break e;v=x,m.currentTarget=W;try{v(m)}catch(ne){Eh(ne)}m.currentTarget=null,v=z}else for(S=0;S<c.length;S++){if(x=c[S],z=x.instance,W=x.currentTarget,x=x.listener,z!==v&&m.isPropagationStopped())break e;v=x,m.currentTarget=W;try{v(m)}catch(ne){Eh(ne)}m.currentTarget=null,v=z}}}}function ze(r,i){var o=i[xl];o===void 0&&(o=i[xl]=new Set);var c=r+"__bubble";o.has(c)||(Y0(i,r,2,!1),o.add(c))}function _p(r,i,o){var c=0;i&&(c|=4),Y0(o,r,c,i)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function Ep(r){if(!r[Mh]){r[Mh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(qw.has(o)||_p(o,!1,r),_p(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Mh]||(i[Mh]=!0,_p("selectionchange",!1,i))}}function Y0(r,i,o,c){switch(y2(i)){case 2:var m=vx;break;case 8:m=yx;break;default:m=Mp}o=m.bind(null,i,o,r),m=void 0,!Wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(i,o,{capture:!0,passive:m}):r.addEventListener(i,o,!0):m!==void 0?r.addEventListener(i,o,{passive:m}):r.addEventListener(i,o,!1)}function bp(r,i,o,c,m){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var x=c.stateNode.containerInfo;if(x===m)break;if(S===4)for(S=c.return;S!==null;){var z=S.tag;if((z===3||z===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;x!==null;){if(S=rs(x),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){c=v=S;continue e}x=x.parentNode}}c=c.return}Vu(function(){var W=v,ne=Zn(o),ie=[];e:{var J=Ny.get(r);if(J!==void 0){var ee=eo,Ie=r;switch(r){case"keypress":if(Ir(o)===0)break e;case"keydown":case"keyup":ee=ao;break;case"focusin":Ie="focus",ee=ro;break;case"focusout":Ie="blur",ee=ro;break;case"beforeblur":case"afterblur":ee=ro;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=qu;break;case xy:case Ay:case Cy:ee=so;break;case Ry:ee=$u;break;case"scroll":case"scrollend":ee=ku;break;case"wheel":ee=oo;break;case"copy":case"cut":case"paste":ee=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ll;break;case"toggle":case"beforetoggle":ee=Yu}var we=(i&4)!==0,ut=!we&&(r==="scroll"||r==="scrollend"),Y=we?J!==null?J+"Capture":null:J;we=[];for(var G=W,Z;G!==null;){var re=G;if(Z=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Z===null||Y===null||(re=ra(G,Y),re!=null&&we.push(pc(G,re,Z))),ut)break;G=G.return}0<we.length&&(J=new ee(J,Ie,null,o,ne),ie.push({event:J,listeners:we}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",J&&o!==os&&(Ie=o.relatedTarget||o.fromElement)&&(rs(Ie)||Ie[Qn]))break e;if((ee||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ie=o.relatedTarget||o.toElement,ee=W,Ie=Ie?rs(Ie):null,Ie!==null&&(ut=l(Ie),we=Ie.tag,Ie!==ut||we!==5&&we!==27&&we!==6)&&(Ie=null)):(ee=null,Ie=W),ee!==Ie)){if(we=Jn,re="onMouseLeave",Y="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(we=Ll,re="onPointerLeave",Y="onPointerEnter",G="pointer"),ut=ee==null?J:Ar(ee),Z=Ie==null?J:Ar(Ie),J=new we(re,G+"leave",ee,o,ne),J.target=ut,J.relatedTarget=Z,re=null,rs(ne)===W&&(we=new we(Y,G+"enter",Ie,o,ne),we.target=Z,we.relatedTarget=ut,re=we),ut=re,ee&&Ie)t:{for(we=ee,Y=Ie,G=0,Z=we;Z;Z=Oo(Z))G++;for(Z=0,re=Y;re;re=Oo(re))Z++;for(;0<G-Z;)we=Oo(we),G--;for(;0<Z-G;)Y=Oo(Y),Z--;for(;G--;){if(we===Y||Y!==null&&we===Y.alternate)break t;we=Oo(we),Y=Oo(Y)}we=null}else we=null;ee!==null&&Q0(ie,J,ee,we,!1),Ie!==null&&ut!==null&&Q0(ie,ut,Ie,we,!0)}}e:{if(J=W?Ar(W):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var ge=my;else if(Bt(J))if(py)ge=rw;else{ge=tw;var Le=ew}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&Dl(W.elementType)&&(ge=my):ge=nw;if(ge&&(ge=ge(r,W))){ds(ie,ge,o,ne);break e}Le&&Le(r,J,W),r==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Xs(J,"number",J.value)}switch(Le=W?Ar(W):window,r){case"focusin":(Bt(Le)||Le.contentEditable==="true")&&(lo=Le,Wf=W,Bl=null);break;case"focusout":Bl=Wf=lo=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Sy(ie,o,ne);break;case"selectionchange":if(iw)break;case"keydown":case"keyup":Sy(ie,o,ne)}var ye;if(Or)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else $e?te(r,o)&&(xe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(b&&o.locale!=="ko"&&($e||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&$e&&(ye=Ol()):(Nr=ne,Zs="value"in Nr?Nr.value:Nr.textContent,$e=!0)),Le=Ph(W,xe),0<Le.length&&(xe=new Vl(xe,r,null,o,ne),ie.push({event:xe,listeners:Le}),ye?xe.data=ye:(ye=ue(o),ye!==null&&(xe.data=ye)))),(ye=_?zt(r,o):Ke(r,o))&&(xe=Ph(W,"onBeforeInput"),0<xe.length&&(Le=new Vl("onBeforeInput","beforeinput",null,o,ne),ie.push({event:Le,listeners:xe}),Le.data=ye)),Bw(ie,r,W,o,ne)}K0(ie,i)})}function pc(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Ph(r,i){for(var o=i+"Capture",c=[];r!==null;){var m=r,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=ra(r,o),m!=null&&c.unshift(pc(r,m,v)),m=ra(r,i),m!=null&&c.push(pc(r,m,v))),r.tag===3)return c;r=r.return}return[]}function Oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Q0(r,i,o,c,m){for(var v=i._reactName,S=[];o!==null&&o!==c;){var x=o,z=x.alternate,W=x.stateNode;if(x=x.tag,z!==null&&z===c)break;x!==5&&x!==26&&x!==27||W===null||(z=W,m?(W=ra(o,v),W!=null&&S.unshift(pc(o,W,z))):m||(W=ra(o,v),W!=null&&S.push(pc(o,W,z)))),o=o.return}S.length!==0&&r.push({event:i,listeners:S})}var Gw=/\r\n?/g,$w=/\u0000|\uFFFD/g;function X0(r){return(typeof r=="string"?r:""+r).replace(Gw,`
`).replace($w,"")}function Z0(r,i){return i=X0(i),X0(r)===i}function Vh(){}function ct(r,i,o,c,m,v){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Xn(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Xn(r,""+c);break;case"className":Cr(r,"class",c);break;case"tabIndex":Cr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(r,o,c);break;case"style":Il(r,c,v);break;case"data":if(i!=="object"){Cr(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ja(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(i!=="input"&&ct(r,i,"name",m.name,m,null),ct(r,i,"formEncType",m.formEncType,m,null),ct(r,i,"formMethod",m.formMethod,m,null),ct(r,i,"formTarget",m.formTarget,m,null)):(ct(r,i,"encType",m.encType,m,null),ct(r,i,"method",m.method,m,null),ct(r,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ja(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Vh);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Ja(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":ze("beforetoggle",r),ze("toggle",r),Qs(r,"popover",c);break;case"xlinkActuate":en(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qs(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gf.get(o)||o,Qs(r,o,c))}}function Tp(r,i,o,c,m,v){switch(o){case"style":Il(r,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Xn(r,c):(typeof c=="number"||typeof c=="bigint")&&Xn(r,""+c);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Vh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),v=r[It]||null,v=v!=null?v[o]:null,typeof v=="function"&&r.removeEventListener(i,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Qs(r,o,c)}}}function sn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var c=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var S=o[v];if(S!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(r,i,v,S,o,null)}}m&&ct(r,i,"srcSet",o.srcSet,o,null),c&&ct(r,i,"src",o.src,o,null);return;case"input":ze("invalid",r);var x=v=S=m=null,z=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":m=ne;break;case"type":S=ne;break;case"checked":z=ne;break;case"defaultChecked":W=ne;break;case"value":v=ne;break;case"defaultValue":x=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:ct(r,i,c,ne,o,null)}}ea(r,v,x,z,W,S,m,!1),Wa(r);return;case"select":ze("invalid",r),c=S=v=null;for(m in o)if(o.hasOwnProperty(m)&&(x=o[m],x!=null))switch(m){case"value":v=x;break;case"defaultValue":S=x;break;case"multiple":c=x;default:ct(r,i,m,x,o,null)}i=v,o=S,r.multiple=!!c,i!=null?as(r,!!c,i,!1):o!=null&&as(r,!!c,o,!0);return;case"textarea":ze("invalid",r),v=m=c=null;for(S in o)if(o.hasOwnProperty(S)&&(x=o[S],x!=null))switch(S){case"value":c=x;break;case"defaultValue":m=x;break;case"children":v=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:ct(r,i,S,x,o,null)}ta(r,c,m,v),Wa(r);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(r,i,z,c,o,null)}return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(c=0;c<mc.length;c++)ze(mc[c],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(r,i,W,c,o,null)}return;default:if(Dl(i)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&Tp(r,i,ne,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&ct(r,i,x,c,o,null))}function Kw(r,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,S=null,x=null,z=null,W=null,ne=null;for(ee in o){var ie=o[ee];if(o.hasOwnProperty(ee)&&ie!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":z=ie;default:c.hasOwnProperty(ee)||ct(r,i,ee,null,c,ie)}}for(var J in c){var ee=c[J];if(ie=o[J],c.hasOwnProperty(J)&&(ee!=null||ie!=null))switch(J){case"type":v=ee;break;case"name":m=ee;break;case"checked":W=ee;break;case"defaultChecked":ne=ee;break;case"value":S=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:ee!==ie&&ct(r,i,J,ee,c,ie)}}Vn(r,S,x,z,W,ne,v,m);return;case"select":ee=S=x=J=null;for(v in o)if(z=o[v],o.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":ee=z;default:c.hasOwnProperty(v)||ct(r,i,v,null,c,z)}for(m in c)if(v=c[m],z=o[m],c.hasOwnProperty(m)&&(v!=null||z!=null))switch(m){case"value":J=v;break;case"defaultValue":x=v;break;case"multiple":S=v;default:v!==z&&ct(r,i,m,v,c,z)}i=x,o=S,c=ee,J!=null?as(r,!!o,J,!1):!!c!=!!o&&(i!=null?as(r,!!o,i,!0):as(r,!!o,o?[]:"",!1));return;case"textarea":ee=J=null;for(x in o)if(m=o[x],o.hasOwnProperty(x)&&m!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ct(r,i,x,null,c,m)}for(S in c)if(m=c[S],v=o[S],c.hasOwnProperty(S)&&(m!=null||v!=null))switch(S){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==v&&ct(r,i,S,m,c,v)}ot(r,J,ee);return;case"option":for(var Ie in o)if(J=o[Ie],o.hasOwnProperty(Ie)&&J!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:ct(r,i,Ie,null,c,J)}for(z in c)if(J=c[z],ee=o[z],c.hasOwnProperty(z)&&J!==ee&&(J!=null||ee!=null))switch(z){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ct(r,i,z,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)J=o[we],o.hasOwnProperty(we)&&J!=null&&!c.hasOwnProperty(we)&&ct(r,i,we,null,c,J);for(W in c)if(J=c[W],ee=o[W],c.hasOwnProperty(W)&&J!==ee&&(J!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:ct(r,i,W,J,c,ee)}return;default:if(Dl(i)){for(var ut in o)J=o[ut],o.hasOwnProperty(ut)&&J!==void 0&&!c.hasOwnProperty(ut)&&Tp(r,i,ut,void 0,c,J);for(ne in c)J=c[ne],ee=o[ne],!c.hasOwnProperty(ne)||J===ee||J===void 0&&ee===void 0||Tp(r,i,ne,J,c,ee);return}}for(var Y in o)J=o[Y],o.hasOwnProperty(Y)&&J!=null&&!c.hasOwnProperty(Y)&&ct(r,i,Y,null,c,J);for(ie in c)J=c[ie],ee=o[ie],!c.hasOwnProperty(ie)||J===ee||J==null&&ee==null||ct(r,i,ie,J,c,ee)}var Sp=null,wp=null;function kh(r){return r.nodeType===9?r:r.ownerDocument}function W0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function xp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ap=null;function Yw(){var r=window.event;return r&&r.type==="popstate"?r===Ap?!1:(Ap=r,!0):(Ap=null,!1)}var e2=typeof setTimeout=="function"?setTimeout:void 0,Qw=typeof clearTimeout=="function"?clearTimeout:void 0,t2=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof t2<"u"?function(r){return t2.resolve(null).then(r).catch(Zw)}:e2;function Zw(r){setTimeout(function(){throw r})}function fi(r){return r==="head"}function n2(r,i){var o=i,c=0,m=0;do{var v=o.nextSibling;if(r.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<c&&8>c){o=c;var S=r.ownerDocument;if(o&1&&gc(S.documentElement),o&2&&gc(S.body),o&4)for(o=S.head,gc(o),S=o.firstChild;S;){var x=S.nextSibling,z=S.nodeName;S[Xi]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=x}}if(m===0){r.removeChild(v),wc(i);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=v}while(o);wc(i)}function Cp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Cp(o),Ys(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Ww(r,i,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Xi])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=pr(r.nextSibling),r===null)break}return null}function Jw(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=pr(r.nextSibling),r===null))return null;return r}function Rp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function ex(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function pr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Np=null;function r2(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function s2(r,i,o){switch(i=kh(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function gc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ys(r)}var ar=new Map,i2=new Set;function Lh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var xs=le.d;le.d={f:tx,r:nx,D:rx,C:sx,L:ix,m:ax,X:lx,S:ox,M:cx};function tx(){var r=xs.f(),i=Nh();return r||i}function nx(r){var i=xr(r);i!==null&&i.tag===5&&i.type==="form"?x1(i):xs.r(r)}var Mo=typeof document>"u"?null:document;function a2(r,i,o){var c=Mo;if(c&&typeof i=="string"&&i){var m=Dt(i);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),i2.has(m)||(i2.add(m),r={rel:r,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),sn(i,"link",r),wt(i),c.head.appendChild(i)))}}function rx(r){xs.D(r),a2("dns-prefetch",r,null)}function sx(r,i){xs.C(r,i),a2("preconnect",r,i)}function ix(r,i,o){xs.L(r,i,o);var c=Mo;if(c&&r&&i){var m='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dt(o.imageSizes)+'"]')):m+='[href="'+Dt(r)+'"]';var v=m;switch(i){case"style":v=Po(r);break;case"script":v=Vo(r)}ar.has(v)||(r=y({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),ar.set(v,r),c.querySelector(m)!==null||i==="style"&&c.querySelector(vc(v))||i==="script"&&c.querySelector(yc(v))||(i=c.createElement("link"),sn(i,"link",r),wt(i),c.head.appendChild(i)))}}function ax(r,i){xs.m(r,i);var o=Mo;if(o&&r){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(r)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Vo(r)}if(!ar.has(v)&&(r=y({rel:"modulepreload",href:r},i),ar.set(v,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yc(v)))return}c=o.createElement("link"),sn(c,"link",r),wt(c),o.head.appendChild(c)}}}function ox(r,i,o){xs.S(r,i,o);var c=Mo;if(c&&r){var m=En(c).hoistableStyles,v=Po(r);i=i||"default";var S=m.get(v);if(!S){var x={loading:0,preload:null};if(S=c.querySelector(vc(v)))x.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":i},o),(o=ar.get(v))&&Ip(r,o);var z=S=c.createElement("link");wt(z),sn(z,"link",r),z._p=new Promise(function(W,ne){z.onload=W,z.onerror=ne}),z.addEventListener("load",function(){x.loading|=1}),z.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Uh(S,i,c)}S={type:"stylesheet",instance:S,count:1,state:x},m.set(v,S)}}}function lx(r,i){xs.X(r,i);var o=Mo;if(o&&r){var c=En(o).hoistableScripts,m=Vo(r),v=c.get(m);v||(v=o.querySelector(yc(m)),v||(r=y({src:r,async:!0},i),(i=ar.get(m))&&Dp(r,i),v=o.createElement("script"),wt(v),sn(v,"link",r),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function cx(r,i){xs.M(r,i);var o=Mo;if(o&&r){var c=En(o).hoistableScripts,m=Vo(r),v=c.get(m);v||(v=o.querySelector(yc(m)),v||(r=y({src:r,async:!0,type:"module"},i),(i=ar.get(m))&&Dp(r,i),v=o.createElement("script"),wt(v),sn(v,"link",r),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function o2(r,i,o,c){var m=(m=ve.current)?Lh(m):null;if(!m)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Po(o.href),o=En(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Po(o.href);var v=En(m).hoistableStyles,S=v.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,S),(v=m.querySelector(vc(r)))&&!v._p&&(S.instance=v,S.state.loading=5),ar.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(r,o),v||ux(m,r,o,S.state))),i&&c===null)throw Error(s(528,""));return S}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vo(o),o=En(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Po(r){return'href="'+Dt(r)+'"'}function vc(r){return'link[rel="stylesheet"]['+r+"]"}function l2(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function ux(r,i,o,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),sn(i,"link",o),wt(i),r.head.appendChild(i))}function Vo(r){return'[src="'+Dt(r)+'"]'}function yc(r){return"script[async]"+r}function c2(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(c)return i.instance=c,wt(c),c;var m=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),wt(c),sn(c,"style",m),Uh(c,o.precedence,r),i.instance=c;case"stylesheet":m=Po(o.href);var v=r.querySelector(vc(m));if(v)return i.state.loading|=4,i.instance=v,wt(v),v;c=l2(o),(m=ar.get(m))&&Ip(c,m),v=(r.ownerDocument||r).createElement("link"),wt(v);var S=v;return S._p=new Promise(function(x,z){S.onload=x,S.onerror=z}),sn(v,"link",c),i.state.loading|=4,Uh(v,o.precedence,r),i.instance=v;case"script":return v=Vo(o.src),(m=r.querySelector(yc(v)))?(i.instance=m,wt(m),m):(c=o,(m=ar.get(v))&&(c=y({},o),Dp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),wt(m),sn(m,"link",c),r.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Uh(c,o.precedence,r));return i.instance}function Uh(r,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,S=0;S<c.length;S++){var x=c[S];if(x.dataset.precedence===i)v=x;else if(v!==m)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Ip(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Dp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var zh=null;function u2(r,i,o){if(zh===null){var c=new Map,m=zh=new Map;m.set(o,c)}else m=zh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var v=o[m];if(!(v[Xi]||v[Ut]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(i)||"";S=r+S;var x=c.get(S);x?x.push(v):c.set(S,[v])}}return c}function h2(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function hx(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var _c=null;function dx(){}function fx(r,i,o){if(_c===null)throw Error(s(475));var c=_c;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=Po(o.href),v=r.querySelector(vc(m));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Bh.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=v,wt(v);return}v=r.ownerDocument||r,o=l2(o),(m=ar.get(m))&&Ip(o,m),v=v.createElement("link"),wt(v);var S=v;S._p=new Promise(function(x,z){S.onload=x,S.onerror=z}),sn(v,"link",o),i.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Bh.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function mx(){if(_c===null)throw Error(s(475));var r=_c;return r.stylesheets&&r.count===0&&jp(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&jp(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Bh(){if(this.count--,this.count===0){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Fh=null;function jp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Fh=new Map,i.forEach(px,r),Fh=null,Bh.call(r))}function px(r,i){if(!(i.state.loading&4)){var o=Fh.get(r);if(o)var c=o.get(null);else{o=new Map,Fh.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var S=m[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}m=i.instance,S=m.getAttribute("data-precedence"),v=o.get(S)||c,v===c&&o.set(null,m),o.set(S,m),this.count++,c=Bh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),i.state.loading|=4}}var Ec={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function gx(r,i,o,c,m,v,S,x){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.hiddenUpdates=ts(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function f2(r,i,o,c,m,v,S,x,z,W,ne,ie){return r=new gx(r,i,o,S,x,z,W,ie),i=1,v===!0&&(i|=24),v=Ln(3,null,null,i),r.current=v,v.stateNode=r,i=fm(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:i},vm(v),r}function m2(r){return r?(r=fo,r):fo}function p2(r,i,o,c,m,v){m=m2(m),c.context===null?c.context=m:c.pendingContext=m,c=ei(i),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=ti(r,c,i),o!==null&&(Hn(o,r,i),Xl(o,r,i))}function g2(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Op(r,i){g2(r,i),(r=r.alternate)&&g2(r,i)}function v2(r){if(r.tag===13){var i=ho(r,67108864);i!==null&&Hn(i,r,67108864),Op(r,67108864)}}var Hh=!0;function vx(r,i,o,c){var m=$.T;$.T=null;var v=le.p;try{le.p=2,Mp(r,i,o,c)}finally{le.p=v,$.T=m}}function yx(r,i,o,c){var m=$.T;$.T=null;var v=le.p;try{le.p=8,Mp(r,i,o,c)}finally{le.p=v,$.T=m}}function Mp(r,i,o,c){if(Hh){var m=Pp(c);if(m===null)bp(r,i,c,qh,o),_2(r,c);else if(Ex(m,r,i,o,c))c.stopPropagation();else if(_2(r,c),i&4&&-1<_x.indexOf(r)){for(;m!==null;){var v=xr(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=ur(v.pendingLanes);if(S!==0){var x=v;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var z=1<<31-hn(S);x.entanglements[1]|=z,S&=~z}Ur(v),(st&6)===0&&(Ch=Yn()+500,fc(0))}}break;case 13:x=ho(v,2),x!==null&&Hn(x,v,2),Nh(),Op(v,2)}if(v=Pp(c),v===null&&bp(r,i,c,qh,o),v===m)break;m=v}m!==null&&c.stopPropagation()}else bp(r,i,c,null,o)}}function Pp(r){return r=Zn(r),Vp(r)}var qh=null;function Vp(r){if(qh=null,r=rs(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=h(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return qh=r,null}function y2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uf()){case yl:return 2;case qa:return 8;case Gi:case zf:return 32;case Ga:return 268435456;default:return 32}default:return 32}}var kp=!1,mi=null,pi=null,gi=null,bc=new Map,Tc=new Map,vi=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _2(r,i){switch(r){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":bc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(i.pointerId)}}function Sc(r,i,o,c,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},i!==null&&(i=xr(i),i!==null&&v2(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),r)}function Ex(r,i,o,c,m){switch(i){case"focusin":return mi=Sc(mi,r,i,o,c,m),!0;case"dragenter":return pi=Sc(pi,r,i,o,c,m),!0;case"mouseover":return gi=Sc(gi,r,i,o,c,m),!0;case"pointerover":var v=m.pointerId;return bc.set(v,Sc(bc.get(v)||null,r,i,o,c,m)),!0;case"gotpointercapture":return v=m.pointerId,Tc.set(v,Sc(Tc.get(v)||null,r,i,o,c,m)),!0}return!1}function E2(r){var i=rs(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=h(o),i!==null){r.blockedOn=i,Nu(r.priority,function(){if(o.tag===13){var c=Fn();c=Gs(c);var m=ho(o,c);m!==null&&Hn(m,o,c),Op(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Pp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);os=c,o.target.dispatchEvent(c),os=null}else return i=xr(o),i!==null&&v2(i),r.blockedOn=o,!1;i.shift()}return!0}function b2(r,i,o){Gh(r)&&o.delete(i)}function bx(){kp=!1,mi!==null&&Gh(mi)&&(mi=null),pi!==null&&Gh(pi)&&(pi=null),gi!==null&&Gh(gi)&&(gi=null),bc.forEach(b2),Tc.forEach(b2)}function $h(r,i){r.blockedOn===i&&(r.blockedOn=null,kp||(kp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bx)))}var Kh=null;function T2(r){Kh!==r&&(Kh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kh===r&&(Kh=null);for(var i=0;i<r.length;i+=3){var o=r[i],c=r[i+1],m=r[i+2];if(typeof c!="function"){if(Vp(c||o)===null)continue;break}var v=xr(o);v!==null&&(r.splice(i,3),i-=3,Vm(v,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function wc(r){function i(z){return $h(z,r)}mi!==null&&$h(mi,r),pi!==null&&$h(pi,r),gi!==null&&$h(gi,r),bc.forEach(i),Tc.forEach(i);for(var o=0;o<vi.length;o++){var c=vi[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<vi.length&&(o=vi[0],o.blockedOn===null);)E2(o),o.blockedOn===null&&vi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],v=o[c+1],S=m[It]||null;if(typeof v=="function")S||T2(o);else if(S){var x=null;if(v&&v.hasAttribute("formAction")){if(m=v,S=v[It]||null)x=S.formAction;else if(Vp(m)!==null)continue}else x=S.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),T2(o)}}}function Lp(r){this._internalRoot=r}Yh.prototype.render=Lp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=Fn();p2(o,c,r,i,null,null)},Yh.prototype.unmount=Lp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;p2(r.current,2,null,r,null,null),Nh(),i[Qn]=null}};function Yh(r){this._internalRoot=r}Yh.prototype.unstable_scheduleHydration=function(r){if(r){var i=$s();r={blockedOn:null,target:r,priority:i};for(var o=0;o<vi.length&&i!==0&&i<vi[o].priority;o++);vi.splice(o,0,r),o===0&&E2(r)}};var S2=e.version;if(S2!=="19.1.0")throw Error(s(527,S2,"19.1.0"));le.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var Tx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{Et=Qh.inject(Tx),rt=Qh}catch{}}return Ac.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,c="",m=U1,v=z1,S=B1,x=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=f2(r,1,!1,null,null,o,c,m,v,S,x,null),r[Qn]=i.current,Ep(r),new Lp(i)},Ac.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var c=!1,m="",v=U1,S=z1,x=B1,z=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),i=f2(r,1,!0,i,o??null,c,m,v,S,x,z,W),i.context=m2(null),o=i.current,c=Fn(),c=Gs(c),m=ei(c),m.callback=null,ti(o,m,c),o=c,i.current.lanes=o,ns(i,o),Ur(i),r[Qn]=i.current,Ep(r),new Yh(i)},Ac.version="19.1.0",Ac}var M2;function Ox(){if(M2)return Bp.exports;M2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bp.exports=jx(),Bp.exports}var Mx=Ox();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P2="popstate";function Px(n={}){function e(s,a){let{pathname:l,search:h,hash:p}=s.location;return pg("",{pathname:l,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Gc(a)}return kx(e,t,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vx(){return Math.random().toString(36).substring(2,10)}function V2(n,e){return{usr:n.state,key:n.key,idx:e}}function pg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:t,key:e&&e.key||s||Vx()}}function Gc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ol(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function kx(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,h=a.history,p="POP",f=null,g=y();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function y(){return(h.state||{idx:null}).idx}function E(){p="POP";let O=y(),j=O==null?null:O-g;g=O,f&&f({action:p,location:k.location,delta:j})}function T(O,j){p="PUSH";let B=pg(k.location,O,j);g=y()+1;let F=V2(B,g),q=k.createHref(B);try{h.pushState(F,"",q)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(q)}l&&f&&f({action:p,location:k.location,delta:1})}function R(O,j){p="REPLACE";let B=pg(k.location,O,j);g=y();let F=V2(B,g),q=k.createHref(B);h.replaceState(F,"",q),l&&f&&f({action:p,location:k.location,delta:0})}function P(O){return Lx(O)}let k={get action(){return p},get location(){return n(a,h)},listen(O){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(P2,E),f=O,()=>{a.removeEventListener(P2,E),f=null}},createHref(O){return e(a,O)},createURL:P,encodeLocation(O){let j=P(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:R,go(O){return h.go(O)}};return k}function Lx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),yt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Gc(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function ab(n,e,t="/"){return Ux(n,e,t,!1)}function Ux(n,e,t,s){let a=typeof e=="string"?ol(e):e,l=Ms(a.pathname||"/",t);if(l==null)return null;let h=ob(n);zx(h);let p=null;for(let f=0;p==null&&f<h.length;++f){let g=Zx(l);p=Qx(h[f],g,s)}return p}function ob(n,e=[],t=[],s=""){let a=(l,h,p)=>{let f={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};f.relativePath.startsWith("/")&&(yt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let g=Rs([s,f.relativePath]),y=t.concat(f);l.children&&l.children.length>0&&(yt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ob(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:Kx(g,l.index),routesMeta:y})};return n.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))a(l,h);else for(let p of lb(l.path))a(l,h,p)}),e}function lb(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let h=lb(s.join("/")),p=[];return p.push(...h.map(f=>f===""?l:[l,f].join("/"))),a&&p.push(...h),p.map(f=>n.startsWith("/")&&f===""?"/":f)}function zx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Yx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Bx=/^:[\w-]+$/,Fx=3,Hx=2,qx=1,Gx=10,$x=-2,k2=n=>n==="*";function Kx(n,e){let t=n.split("/"),s=t.length;return t.some(k2)&&(s+=$x),e&&(s+=Hx),t.filter(a=>!k2(a)).reduce((a,l)=>a+(Bx.test(l)?Fx:l===""?qx:Gx),s)}function Yx(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function Qx(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",h=[];for(let p=0;p<s.length;++p){let f=s[p],g=p===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),T=f.route;if(!E&&g&&t&&!s[s.length-1].route.index&&(E=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!E)return null;Object.assign(a,E.params),h.push({params:a,pathname:Rs([l,E.pathname]),pathnameBase:tA(Rs([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=Rs([l,E.pathnameBase]))}return h}function Ad(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Xx(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],h=l.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:E},T)=>{if(y==="*"){let P=p[T]||"";h=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const R=p[T];return E&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:n}}function Xx(n,e=!1,t=!0){Zr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,f)=>(s.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Zx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ms(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Wx(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?ol(n):n;return{pathname:t?t.startsWith("/")?t:Jx(t,e):e,search:nA(s),hash:rA(a)}}function Jx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Gp(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cb(n){let e=eA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ub(n,e,t,s=!1){let a;typeof n=="string"?a=ol(n):(a={...n},yt(!a.pathname||!a.pathname.includes("?"),Gp("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Gp("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Gp("#","search","hash",a)));let l=n===""||a.pathname==="",h=l?"/":a.pathname,p;if(h==null)p=t;else{let E=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),E-=1;a.pathname=T.join("/")}p=E>=0?e[E]:"/"}let f=Wx(a,p),g=h&&h!=="/"&&h.endsWith("/"),y=(l||h===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var Rs=n=>n.join("/").replace(/\/\/+/g,"/"),tA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hb=["POST","PUT","PATCH","DELETE"];new Set(hb);var iA=["GET",...hb];new Set(iA);var ll=A.createContext(null);ll.displayName="DataRouter";var of=A.createContext(null);of.displayName="DataRouterState";A.createContext(!1);var db=A.createContext({isTransitioning:!1});db.displayName="ViewTransition";var aA=A.createContext(new Map);aA.displayName="Fetchers";var oA=A.createContext(null);oA.displayName="Await";var Jr=A.createContext(null);Jr.displayName="Navigation";var cu=A.createContext(null);cu.displayName="Location";var Bs=A.createContext({outlet:null,matches:[],isDataRoute:!1});Bs.displayName="Route";var tv=A.createContext(null);tv.displayName="RouteError";function lA(n,{relative:e}={}){yt(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=A.useContext(Jr),{hash:a,pathname:l,search:h}=hu(n,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Rs([t,l])),s.createHref({pathname:p,search:h,hash:a})}function uu(){return A.useContext(cu)!=null}function ka(){return yt(uu(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(cu).location}var fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mb(n){A.useContext(Jr).static||A.useLayoutEffect(n)}function pb(){let{isDataRoute:n}=A.useContext(Bs);return n?bA():cA()}function cA(){yt(uu(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(ll),{basename:e,navigator:t}=A.useContext(Jr),{matches:s}=A.useContext(Bs),{pathname:a}=ka(),l=JSON.stringify(cb(s)),h=A.useRef(!1);return mb(()=>{h.current=!0}),A.useCallback((f,g={})=>{if(Zr(h.current,fb),!h.current)return;if(typeof f=="number"){t.go(f);return}let y=ub(f,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Rs([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,l,a,n])}A.createContext(null);function hu(n,{relative:e}={}){let{matches:t}=A.useContext(Bs),{pathname:s}=ka(),a=JSON.stringify(cb(t));return A.useMemo(()=>ub(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function uA(n,e){return gb(n,e)}function gb(n,e,t,s){yt(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(Jr),{matches:l}=A.useContext(Bs),h=l[l.length-1],p=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let j=y&&y.path||"";vb(f,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=ka(),T;if(e){let j=typeof e=="string"?ol(e):e;yt(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=E;let R=T.pathname||"/",P=R;if(g!=="/"){let j=g.replace(/^\//,"").split("/");P="/"+R.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=ab(n,{pathname:P});Zr(y||k!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Zr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=pA(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Rs([g,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Rs([g,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,t,s);return e&&O?A.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function hA(){let n=EA(),e=sA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:a},t):null,h)}var dA=A.createElement(hA,null),fA=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(Bs.Provider,{value:this.props.routeContext},A.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mA({routeContext:n,match:e,children:t}){let s=A.useContext(ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Bs.Provider,{value:n},t)}function pA(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let f=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);yt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let h=!1,p=-1;if(t)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=f),g.route.id){let{loaderData:y,errors:E}=t,T=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||T){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((f,g,y)=>{let E,T=!1,R=null,P=null;t&&(E=l&&g.route.id?l[g.route.id]:void 0,R=g.route.errorElement||dA,h&&(p<0&&y===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,P=null):p===y&&(T=!0,P=g.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,y+1)),O=()=>{let j;return E?j=R:T?j=P:g.route.Component?j=A.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=f,A.createElement(mA,{match:g,routeContext:{outlet:f,matches:k,isDataRoute:t!=null},children:j})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?A.createElement(fA,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}function nv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gA(n){let e=A.useContext(ll);return yt(e,nv(n)),e}function vA(n){let e=A.useContext(of);return yt(e,nv(n)),e}function yA(n){let e=A.useContext(Bs);return yt(e,nv(n)),e}function rv(n){let e=yA(n),t=e.matches[e.matches.length-1];return yt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _A(){return rv("useRouteId")}function EA(){let n=A.useContext(tv),e=vA("useRouteError"),t=rv("useRouteError");return n!==void 0?n:e.errors?.[t]}function bA(){let{router:n}=gA("useNavigate"),e=rv("useNavigate"),t=A.useRef(!1);return mb(()=>{t.current=!0}),A.useCallback(async(a,l={})=>{Zr(t.current,fb),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var L2={};function vb(n,e,t){!e&&!L2[n]&&(L2[n]=!0,Zr(!1,t))}A.memo(TA);function TA({routes:n,future:e,state:t}){return gb(n,void 0,t,e)}function Uo(n){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SA({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){yt(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=A.useMemo(()=>({basename:h,navigator:a,static:l,future:{}}),[h,a,l]);typeof t=="string"&&(t=ol(t));let{pathname:f="/",search:g="",hash:y="",state:E=null,key:T="default"}=t,R=A.useMemo(()=>{let P=Ms(f,h);return P==null?null:{location:{pathname:P,search:g,hash:y,state:E,key:T},navigationType:s}},[h,f,g,y,E,T,s]);return Zr(R!=null,`<Router basename="${h}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:A.createElement(Jr.Provider,{value:p},A.createElement(cu.Provider,{children:e,value:R}))}function wA({children:n,location:e}){return uA(gg(n),e)}function gg(n,e=[]){let t=[];return A.Children.forEach(n,(s,a)=>{if(!A.isValidElement(s))return;let l=[...e,a];if(s.type===A.Fragment){t.push.apply(t,gg(s.props.children,l));return}yt(s.type===Uo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=gg(s.props.children,l)),t.push(h)}),t}var cd="get",ud="application/x-www-form-urlencoded";function lf(n){return n!=null&&typeof n.tagName=="string"}function xA(n){return lf(n)&&n.tagName.toLowerCase()==="button"}function AA(n){return lf(n)&&n.tagName.toLowerCase()==="form"}function CA(n){return lf(n)&&n.tagName.toLowerCase()==="input"}function RA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NA(n,e){return n.button===0&&(!e||e==="_self")&&!RA(n)}var Xh=null;function IA(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var DA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(n){return n!=null&&!DA.has(n)?(Zr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ud}"`),null):n}function jA(n,e){let t,s,a,l,h;if(AA(n)){let p=n.getAttribute("action");s=p?Ms(p,e):null,t=n.getAttribute("method")||cd,a=$p(n.getAttribute("enctype"))||ud,l=new FormData(n)}else if(xA(n)||CA(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||p.getAttribute("action");if(s=f?Ms(f,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||cd,a=$p(n.getAttribute("formenctype"))||$p(p.getAttribute("enctype"))||ud,l=new FormData(p,n),!IA()){let{name:g,type:y,value:E}=n;if(y==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,E)}}else{if(lf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cd,s=null,a=ud,h=n}return l&&a==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OA(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ms(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function MA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function VA(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let h=await MA(l,t);return h.links?h.links():[]}return[]}));return zA(s.flat(1).filter(PA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function U2(n,e,t,s,a,l){let h=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,p=(f,g)=>t[g].pathname!==f.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,g)=>h(f,g)||p(f,g)):l==="data"?e.filter((f,g)=>{let y=s.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(h(f,g)||p(f,g))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function kA(n,e,{includeHydrateFallback:t}={}){return LA(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function LA(n){return[...new Set(n)]}function UA(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function zA(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(UA(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function yb(){let n=A.useContext(ll);return sv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BA(){let n=A.useContext(of);return sv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iv=A.createContext(void 0);iv.displayName="FrameworkContext";function _b(){let n=A.useContext(iv);return sv(n,"You must render this element inside a <HydratedRouter> element"),n}function FA(n,e){let t=A.useContext(iv),[s,a]=A.useState(!1),[l,h]=A.useState(!1),{onFocus:p,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=e,T=A.useRef(null);A.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let k=j=>{j.forEach(B=>{h(B.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[n]),A.useEffect(()=>{if(s){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[s]);let R=()=>{a(!0)},P=()=>{a(!1),h(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Cc(p,R),onBlur:Cc(f,P),onMouseEnter:Cc(g,R),onMouseLeave:Cc(y,P),onTouchStart:Cc(E,R)}]:[!1,T,{}]}function Cc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HA({page:n,...e}){let{router:t}=yb(),s=A.useMemo(()=>ab(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?A.createElement(GA,{page:n,matches:s,...e}):null}function qA(n){let{manifest:e,routeModules:t}=_b(),[s,a]=A.useState([]);return A.useEffect(()=>{let l=!1;return VA(n,e,t).then(h=>{l||a(h)}),()=>{l=!0}},[n,e,t]),s}function GA({page:n,matches:e,...t}){let s=ka(),{manifest:a,routeModules:l}=_b(),{basename:h}=yb(),{loaderData:p,matches:f}=BA(),g=A.useMemo(()=>U2(n,e,f,a,s,"data"),[n,e,f,a,s]),y=A.useMemo(()=>U2(n,e,f,a,s,"assets"),[n,e,f,a,s]),E=A.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let P=new Set,k=!1;if(e.forEach(j=>{let B=a.routes[j.route.id];!B||!B.hasLoader||(!g.some(F=>F.route.id===j.route.id)&&j.route.id in p&&l[j.route.id]?.shouldRevalidate||B.hasClientLoader?k=!0:P.add(j.route.id))}),P.size===0)return[];let O=OA(n,h,"data");return k&&P.size>0&&O.searchParams.set("_routes",e.filter(j=>P.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[h,p,s,a,g,e,n,l]),T=A.useMemo(()=>kA(y,a),[y,a]),R=qA(y);return A.createElement(A.Fragment,null,E.map(P=>A.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),T.map(P=>A.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),R.map(({key:P,link:k})=>A.createElement("link",{key:P,...k})))}function $A(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Eb&&(window.__reactRouterVersion="7.7.0")}catch{}function KA({basename:n,children:e,window:t}){let s=A.useRef();s.current==null&&(s.current=Px({window:t,v5Compat:!0}));let a=s.current,[l,h]=A.useState({action:a.action,location:a.location}),p=A.useCallback(f=>{A.startTransition(()=>h(f))},[h]);return A.useLayoutEffect(()=>a.listen(p),[a,p]),A.createElement(SA,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tb=A.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:h,state:p,target:f,to:g,preventScrollReset:y,viewTransition:E,...T},R){let{basename:P}=A.useContext(Jr),k=typeof g=="string"&&bb.test(g),O,j=!1;if(typeof g=="string"&&k&&(O=g,Eb))try{let V=new URL(window.location.href),C=g.startsWith("//")?new URL(V.protocol+g):new URL(g),L=Ms(C.pathname,P);C.origin===V.origin&&L!=null?g=L+C.search+C.hash:j=!0}catch{Zr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=lA(g,{relative:a}),[F,q,U]=FA(s,T),K=ZA(g,{replace:h,state:p,target:f,preventScrollReset:y,relative:a,viewTransition:E});function I(V){e&&e(V),V.defaultPrevented||K(V)}let w=A.createElement("a",{...T,...U,href:O||B,onClick:j||l?e:I,ref:$A(R,q),target:f,"data-discover":!k&&t==="render"?"true":void 0});return F&&!k?A.createElement(A.Fragment,null,w,A.createElement(HA,{page:B})):w});Tb.displayName="Link";var YA=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:h,viewTransition:p,children:f,...g},y){let E=hu(h,{relative:g.relative}),T=ka(),R=A.useContext(of),{navigator:P,basename:k}=A.useContext(Jr),O=R!=null&&n6(E)&&p===!0,j=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,B=T.pathname,F=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(B=B.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&k&&(F=Ms(F,k)||F);const q=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let U=B===j||!a&&B.startsWith(j)&&B.charAt(q)==="/",K=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),I={isActive:U,isPending:K,isTransitioning:O},w=U?e:void 0,V;typeof s=="function"?V=s(I):V=[s,U?"active":null,K?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(I):l;return A.createElement(Tb,{...g,"aria-current":w,className:V,ref:y,style:C,to:h,viewTransition:p},typeof f=="function"?f(I):f)});YA.displayName="NavLink";var QA=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:h=cd,action:p,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:E,...T},R)=>{let P=e6(),k=t6(p,{relative:g}),O=h.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&bb.test(p),B=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let q=F.nativeEvent.submitter,U=q?.getAttribute("formmethod")||h;P(q||F.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:E})};return A.createElement("form",{ref:R,method:O,action:k,onSubmit:s?f:B,...T,"data-discover":!j&&n==="render"?"true":void 0})});QA.displayName="Form";function XA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sb(n){let e=A.useContext(ll);return yt(e,XA(n)),e}function ZA(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:h}={}){let p=pb(),f=ka(),g=hu(n,{relative:l});return A.useCallback(y=>{if(NA(y,e)){y.preventDefault();let E=t!==void 0?t:Gc(f)===Gc(g);p(n,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:h})}},[f,p,g,t,s,e,n,a,l,h])}var WA=0,JA=()=>`__${String(++WA)}__`;function e6(){let{router:n}=Sb("useSubmit"),{basename:e}=A.useContext(Jr),t=_A();return A.useCallback(async(s,a={})=>{let{action:l,method:h,encType:p,formData:f,body:g}=jA(s,e);if(a.navigate===!1){let y=a.fetcherKey||JA();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||h,formEncType:a.encType||p,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||h,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function t6(n,{relative:e}={}){let{basename:t}=A.useContext(Jr),s=A.useContext(Bs);yt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...hu(n||".",{relative:e})},h=ka();if(n==null){l.search=h.search;let p=new URLSearchParams(l.search),f=p.getAll("index");if(f.some(y=>y==="")){p.delete("index"),f.filter(E=>E).forEach(E=>p.append("index",E));let y=p.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Rs([t,l.pathname])),Gc(l)}function n6(n,e={}){let t=A.useContext(db);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Sb("useViewTransitionState"),a=hu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ms(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Ms(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ad(a.pathname,h)!=null||Ad(a.pathname,l)!=null}var r6=ib();const Rc={HOME:"/",LOGIN:"/login",REGISTER:"/register",DASHBOARD_ZELADOR:"/dashboard",DASHBOARD_GERENTE:"/gerente-dashboard"},wb=A.createContext(void 0);function Fs(){const n=A.useContext(wb);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}const La=()=>{const n=pb();return{goTo:t=>{n(t)}}},s6=()=>{};var z2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},i6=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],h=n[t++],p=n[t++],f=((a&7)<<18|(l&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],h=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],h=a+1<n.length,p=h?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,y=l>>2,E=(l&3)<<4|p>>4;let T=(p&15)<<2|g>>6,R=g&63;f||(R=64,h||(T=64)),s.push(t[y],t[E],t[T],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],p=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||p==null||g==null||E==null)throw new a6;const T=l<<2|p>>4;if(s.push(T),g!==64){const R=p<<4&240|g>>2;if(s.push(R),E!==64){const P=g<<6&192|E;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class a6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o6=function(n){const e=xb(n);return Ab.encodeByteArray(e,!0)},Cd=function(n){return o6(n).replace(/\./g,"")},Cb=function(n){try{return Ab.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=()=>l6().__FIREBASE_DEFAULTS__,u6=()=>{if(typeof process>"u"||typeof z2>"u")return;const n=z2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},h6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Cb(n[1]);return e&&JSON.parse(e)},cf=()=>{try{return s6()||c6()||u6()||h6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rb=n=>cf()?.emulatorHosts?.[n],d6=n=>{const e=Rb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Nb=()=>cf()?.config,Ib=n=>cf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Db(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Cd(JSON.stringify(t)),Cd(JSON.stringify(h)),""].join(".")}const Uc={};function p6(){const n={prod:[],emulator:[]};for(const e of Object.keys(Uc))Uc[e]?n.emulator.push(e):n.prod.push(e);return n}function g6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let B2=!1;function jb(n,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Uc[n]===e||Uc[n]||B2)return;Uc[n]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=p6().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{B2=!0,h()},T}function y(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=g6(s),R=t("text"),P=document.getElementById(R)||document.createElement("span"),k=t("learnmore"),O=document.getElementById(k)||document.createElement("a"),j=t("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;p(F),y(O,k);const q=g();f(B,j),F.append(B,P,O,q),document.body.appendChild(F)}l?(P.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function y6(){const n=cf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function b6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T6(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function S6(){return!y6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w6(){try{return typeof indexedDB=="object"}catch{return!1}}function x6(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="FirebaseError";class Hs extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=A6,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],h=l?C6(l,s):"Error",p=`${this.serviceName}: ${h} (${a}).`;return new Hs(a,p,s)}}function C6(n,e){return n.replace(R6,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const R6=/\{\$([^}]+)}/g;function N6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Na(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],h=e[a];if(F2(l)&&F2(h)){if(!Na(l,h))return!1}else if(l!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function F2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function jc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function I6(n,e){const t=new D6(n,e);return t.subscribe.bind(t)}class D6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");j6(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Kp),a.error===void 0&&(a.error=Kp),a.complete===void 0&&(a.complete=Kp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(n){return n&&n._delegate?n._delegate:n}class Ia{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new f6;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P6(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&h.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:M6(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M6(n){return n===Aa?void 0:n}function P6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new O6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const k6={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},L6=He.INFO,U6={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},z6=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=U6[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class av{constructor(e){this.name=e,this._logLevel=L6,this._logHandler=z6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const B6=(n,e)=>e.some(t=>n instanceof t);let H2,q2;function F6(){return H2||(H2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H6(){return q2||(q2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ob=new WeakMap,vg=new WeakMap,Mb=new WeakMap,Yp=new WeakMap,ov=new WeakMap;function q6(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Ci(n.result)),a()},h=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ob.set(t,n)}).catch(()=>{}),ov.set(e,n),e}function G6(n){if(vg.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),a()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});vg.set(n,e)}let yg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Mb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ci(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $6(n){yg=n(yg)}function K6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Qp(this),e,...t);return Mb.set(s,e.sort?e.sort():[e]),Ci(s)}:H6().includes(n)?function(...e){return n.apply(Qp(this),e),Ci(Ob.get(this))}:function(...e){return Ci(n.apply(Qp(this),e))}}function Y6(n){return typeof n=="function"?K6(n):(n instanceof IDBTransaction&&G6(n),B6(n,F6())?new Proxy(n,yg):n)}function Ci(n){if(n instanceof IDBRequest)return q6(n);if(Yp.has(n))return Yp.get(n);const e=Y6(n);return e!==n&&(Yp.set(n,e),ov.set(e,n)),e}const Qp=n=>ov.get(n);function Q6(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const h=indexedDB.open(n,e),p=Ci(h);return s&&h.addEventListener("upgradeneeded",f=>{s(Ci(h.result),f.oldVersion,f.newVersion,Ci(h.transaction),f)}),t&&h.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),p.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const X6=["get","getKey","getAll","getAllKeys","count"],Z6=["put","add","delete","clear"],Xp=new Map;function G2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=Z6.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||X6.includes(t)))return;const l=async function(h,...p){const f=this.transaction(h,a?"readwrite":"readonly");let g=f.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),a&&f.done]))[0]};return Xp.set(e,l),l}$6(n=>({...n,get:(e,t,s)=>G2(e,t)||n.get(e,t,s),has:(e,t)=>!!G2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(J6(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function J6(n){return n.getComponent()?.type==="VERSION"}const _g="@firebase/app",$2="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new av("@firebase/app"),eC="@firebase/app-compat",tC="@firebase/analytics-compat",nC="@firebase/analytics",rC="@firebase/app-check-compat",sC="@firebase/app-check",iC="@firebase/auth",aC="@firebase/auth-compat",oC="@firebase/database",lC="@firebase/data-connect",cC="@firebase/database-compat",uC="@firebase/functions",hC="@firebase/functions-compat",dC="@firebase/installations",fC="@firebase/installations-compat",mC="@firebase/messaging",pC="@firebase/messaging-compat",gC="@firebase/performance",vC="@firebase/performance-compat",yC="@firebase/remote-config",_C="@firebase/remote-config-compat",EC="@firebase/storage",bC="@firebase/storage-compat",TC="@firebase/firestore",SC="@firebase/ai",wC="@firebase/firestore-compat",xC="firebase",AC="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="[DEFAULT]",CC={[_g]:"fire-core",[eC]:"fire-core-compat",[nC]:"fire-analytics",[tC]:"fire-analytics-compat",[sC]:"fire-app-check",[rC]:"fire-app-check-compat",[iC]:"fire-auth",[aC]:"fire-auth-compat",[oC]:"fire-rtdb",[lC]:"fire-data-connect",[cC]:"fire-rtdb-compat",[uC]:"fire-fn",[hC]:"fire-fn-compat",[dC]:"fire-iid",[fC]:"fire-iid-compat",[mC]:"fire-fcm",[pC]:"fire-fcm-compat",[gC]:"fire-perf",[vC]:"fire-perf-compat",[yC]:"fire-rc",[_C]:"fire-rc-compat",[EC]:"fire-gcs",[bC]:"fire-gcs-compat",[TC]:"fire-fst",[wC]:"fire-fst-compat",[SC]:"fire-vertex","fire-js":"fire-js",[xC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new Map,RC=new Map,bg=new Map;function K2(n,e){try{n.container.addComponent(e)}catch(t){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zo(n){const e=n.name;if(bg.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,n);for(const t of Rd.values())K2(t,n);for(const t of RC.values())K2(t,n);return!0}function lv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new du("app","Firebase",NC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=AC;function Pb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Eg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ri.create("bad-app-name",{appName:String(a)});if(t||(t=Nb()),!t)throw Ri.create("no-options");const l=Rd.get(a);if(l){if(Na(t,l.options)&&Na(s,l.config))return l;throw Ri.create("duplicate-app",{appName:a})}const h=new V6(a);for(const f of bg.values())h.addComponent(f);const p=new IC(t,s,h);return Rd.set(a,p),p}function Vb(n=Eg){const e=Rd.get(n);if(!e&&n===Eg&&Nb())return Pb();if(!e)throw Ri.create("no-app",{appName:n});return e}function Ni(n,e,t){let s=CC[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(h.join(" "));return}Zo(new Ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firebase-heartbeat-database",jC=1,$c="firebase-heartbeat-store";let Zp=null;function kb(){return Zp||(Zp=Q6(DC,jC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($c)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ri.create("idb-open",{originalErrorMessage:n.message})})),Zp}async function OC(n){try{const t=(await kb()).transaction($c),s=await t.objectStore($c).get(Lb(n));return await t.done,s}catch(e){if(e instanceof Hs)Ps.warn(e.message);else{const t=Ri.create("idb-get",{originalErrorMessage:e?.message});Ps.warn(t.message)}}}async function Y2(n,e){try{const s=(await kb()).transaction($c,"readwrite");await s.objectStore($c).put(e,Lb(n)),await s.done}catch(t){if(t instanceof Hs)Ps.warn(t.message);else{const s=Ri.create("idb-set",{originalErrorMessage:t?.message});Ps.warn(s.message)}}}function Lb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1024,PC=30;class VC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>PC){const a=UC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q2(),{heartbeatsToSend:t,unsentEntries:s}=kC(this._heartbeatsCache.heartbeats),a=Cd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ps.warn(e),""}}}function Q2(){return new Date().toISOString().substring(0,10)}function kC(n,e=MC){const t=[];let s=n.slice();for(const a of n){const l=t.find(h=>h.agent===a.agent);if(l){if(l.dates.push(a.date),X2(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),X2(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class LC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w6()?x6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X2(n){return Cd(JSON.stringify({version:2,heartbeats:n})).length}function UC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){Zo(new Ia("platform-logger",e=>new W6(e),"PRIVATE")),Zo(new Ia("heartbeat",e=>new VC(e),"PRIVATE")),Ni(_g,$2,n),Ni(_g,$2,"esm2020"),Ni("fire-js","")}zC("");var Z2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,Ub;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function V(){}V.prototype=w.prototype,I.D=w.prototype,I.prototype=new V,I.prototype.constructor=I,I.C=function(C,L,N){for(var M=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)M[Te-2]=arguments[Te];return w.prototype[L].apply(C,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,w,V){V||(V=0);var C=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)C[L]=w.charCodeAt(V++)|w.charCodeAt(V++)<<8|w.charCodeAt(V++)<<16|w.charCodeAt(V++)<<24;else for(L=0;16>L;++L)C[L]=w[V++]|w[V++]<<8|w[V++]<<16|w[V++]<<24;w=I.g[0],V=I.g[1],L=I.g[2];var N=I.g[3],M=w+(N^V&(L^N))+C[0]+3614090360&4294967295;w=V+(M<<7&4294967295|M>>>25),M=N+(L^w&(V^L))+C[1]+3905402710&4294967295,N=w+(M<<12&4294967295|M>>>20),M=L+(V^N&(w^V))+C[2]+606105819&4294967295,L=N+(M<<17&4294967295|M>>>15),M=V+(w^L&(N^w))+C[3]+3250441966&4294967295,V=L+(M<<22&4294967295|M>>>10),M=w+(N^V&(L^N))+C[4]+4118548399&4294967295,w=V+(M<<7&4294967295|M>>>25),M=N+(L^w&(V^L))+C[5]+1200080426&4294967295,N=w+(M<<12&4294967295|M>>>20),M=L+(V^N&(w^V))+C[6]+2821735955&4294967295,L=N+(M<<17&4294967295|M>>>15),M=V+(w^L&(N^w))+C[7]+4249261313&4294967295,V=L+(M<<22&4294967295|M>>>10),M=w+(N^V&(L^N))+C[8]+1770035416&4294967295,w=V+(M<<7&4294967295|M>>>25),M=N+(L^w&(V^L))+C[9]+2336552879&4294967295,N=w+(M<<12&4294967295|M>>>20),M=L+(V^N&(w^V))+C[10]+4294925233&4294967295,L=N+(M<<17&4294967295|M>>>15),M=V+(w^L&(N^w))+C[11]+2304563134&4294967295,V=L+(M<<22&4294967295|M>>>10),M=w+(N^V&(L^N))+C[12]+1804603682&4294967295,w=V+(M<<7&4294967295|M>>>25),M=N+(L^w&(V^L))+C[13]+4254626195&4294967295,N=w+(M<<12&4294967295|M>>>20),M=L+(V^N&(w^V))+C[14]+2792965006&4294967295,L=N+(M<<17&4294967295|M>>>15),M=V+(w^L&(N^w))+C[15]+1236535329&4294967295,V=L+(M<<22&4294967295|M>>>10),M=w+(L^N&(V^L))+C[1]+4129170786&4294967295,w=V+(M<<5&4294967295|M>>>27),M=N+(V^L&(w^V))+C[6]+3225465664&4294967295,N=w+(M<<9&4294967295|M>>>23),M=L+(w^V&(N^w))+C[11]+643717713&4294967295,L=N+(M<<14&4294967295|M>>>18),M=V+(N^w&(L^N))+C[0]+3921069994&4294967295,V=L+(M<<20&4294967295|M>>>12),M=w+(L^N&(V^L))+C[5]+3593408605&4294967295,w=V+(M<<5&4294967295|M>>>27),M=N+(V^L&(w^V))+C[10]+38016083&4294967295,N=w+(M<<9&4294967295|M>>>23),M=L+(w^V&(N^w))+C[15]+3634488961&4294967295,L=N+(M<<14&4294967295|M>>>18),M=V+(N^w&(L^N))+C[4]+3889429448&4294967295,V=L+(M<<20&4294967295|M>>>12),M=w+(L^N&(V^L))+C[9]+568446438&4294967295,w=V+(M<<5&4294967295|M>>>27),M=N+(V^L&(w^V))+C[14]+3275163606&4294967295,N=w+(M<<9&4294967295|M>>>23),M=L+(w^V&(N^w))+C[3]+4107603335&4294967295,L=N+(M<<14&4294967295|M>>>18),M=V+(N^w&(L^N))+C[8]+1163531501&4294967295,V=L+(M<<20&4294967295|M>>>12),M=w+(L^N&(V^L))+C[13]+2850285829&4294967295,w=V+(M<<5&4294967295|M>>>27),M=N+(V^L&(w^V))+C[2]+4243563512&4294967295,N=w+(M<<9&4294967295|M>>>23),M=L+(w^V&(N^w))+C[7]+1735328473&4294967295,L=N+(M<<14&4294967295|M>>>18),M=V+(N^w&(L^N))+C[12]+2368359562&4294967295,V=L+(M<<20&4294967295|M>>>12),M=w+(V^L^N)+C[5]+4294588738&4294967295,w=V+(M<<4&4294967295|M>>>28),M=N+(w^V^L)+C[8]+2272392833&4294967295,N=w+(M<<11&4294967295|M>>>21),M=L+(N^w^V)+C[11]+1839030562&4294967295,L=N+(M<<16&4294967295|M>>>16),M=V+(L^N^w)+C[14]+4259657740&4294967295,V=L+(M<<23&4294967295|M>>>9),M=w+(V^L^N)+C[1]+2763975236&4294967295,w=V+(M<<4&4294967295|M>>>28),M=N+(w^V^L)+C[4]+1272893353&4294967295,N=w+(M<<11&4294967295|M>>>21),M=L+(N^w^V)+C[7]+4139469664&4294967295,L=N+(M<<16&4294967295|M>>>16),M=V+(L^N^w)+C[10]+3200236656&4294967295,V=L+(M<<23&4294967295|M>>>9),M=w+(V^L^N)+C[13]+681279174&4294967295,w=V+(M<<4&4294967295|M>>>28),M=N+(w^V^L)+C[0]+3936430074&4294967295,N=w+(M<<11&4294967295|M>>>21),M=L+(N^w^V)+C[3]+3572445317&4294967295,L=N+(M<<16&4294967295|M>>>16),M=V+(L^N^w)+C[6]+76029189&4294967295,V=L+(M<<23&4294967295|M>>>9),M=w+(V^L^N)+C[9]+3654602809&4294967295,w=V+(M<<4&4294967295|M>>>28),M=N+(w^V^L)+C[12]+3873151461&4294967295,N=w+(M<<11&4294967295|M>>>21),M=L+(N^w^V)+C[15]+530742520&4294967295,L=N+(M<<16&4294967295|M>>>16),M=V+(L^N^w)+C[2]+3299628645&4294967295,V=L+(M<<23&4294967295|M>>>9),M=w+(L^(V|~N))+C[0]+4096336452&4294967295,w=V+(M<<6&4294967295|M>>>26),M=N+(V^(w|~L))+C[7]+1126891415&4294967295,N=w+(M<<10&4294967295|M>>>22),M=L+(w^(N|~V))+C[14]+2878612391&4294967295,L=N+(M<<15&4294967295|M>>>17),M=V+(N^(L|~w))+C[5]+4237533241&4294967295,V=L+(M<<21&4294967295|M>>>11),M=w+(L^(V|~N))+C[12]+1700485571&4294967295,w=V+(M<<6&4294967295|M>>>26),M=N+(V^(w|~L))+C[3]+2399980690&4294967295,N=w+(M<<10&4294967295|M>>>22),M=L+(w^(N|~V))+C[10]+4293915773&4294967295,L=N+(M<<15&4294967295|M>>>17),M=V+(N^(L|~w))+C[1]+2240044497&4294967295,V=L+(M<<21&4294967295|M>>>11),M=w+(L^(V|~N))+C[8]+1873313359&4294967295,w=V+(M<<6&4294967295|M>>>26),M=N+(V^(w|~L))+C[15]+4264355552&4294967295,N=w+(M<<10&4294967295|M>>>22),M=L+(w^(N|~V))+C[6]+2734768916&4294967295,L=N+(M<<15&4294967295|M>>>17),M=V+(N^(L|~w))+C[13]+1309151649&4294967295,V=L+(M<<21&4294967295|M>>>11),M=w+(L^(V|~N))+C[4]+4149444226&4294967295,w=V+(M<<6&4294967295|M>>>26),M=N+(V^(w|~L))+C[11]+3174756917&4294967295,N=w+(M<<10&4294967295|M>>>22),M=L+(w^(N|~V))+C[2]+718787259&4294967295,L=N+(M<<15&4294967295|M>>>17),M=V+(N^(L|~w))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+N&4294967295}s.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var V=w-this.blockSize,C=this.B,L=this.h,N=0;N<w;){if(L==0)for(;N<=V;)a(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<w;)if(C[L++]=I.charCodeAt(N++),L==this.blockSize){a(this,C),L=0;break}}else for(;N<w;)if(C[L++]=I[N++],L==this.blockSize){a(this,C),L=0;break}}this.h=L,this.o+=w},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var V=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=V&255,V/=256;for(this.u(I),I=Array(16),w=V=0;4>w;++w)for(var C=0;32>C;C+=8)I[V++]=this.g[w]>>>C&255;return I};function l(I,w){var V=p;return Object.prototype.hasOwnProperty.call(V,I)?V[I]:V[I]=w(I)}function h(I,w){this.h=w;for(var V=[],C=!0,L=I.length-1;0<=L;L--){var N=I[L]|0;C&&N==w||(V[L]=N,C=!1)}this.g=V}var p={};function f(I){return-128<=I&&128>I?l(I,function(w){return new h([w|0],0>w?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(0>I)return O(g(-I));for(var w=[],V=1,C=0;I>=V;C++)w[C]=I/V|0,V*=4294967296;return new h(w,0)}function y(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return O(y(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=g(Math.pow(w,8)),C=E,L=0;L<I.length;L+=8){var N=Math.min(8,I.length-L),M=parseInt(I.substring(L,L+N),w);8>N?(N=g(Math.pow(w,N)),C=C.j(N).add(g(M))):(C=C.j(V),C=C.add(g(M)))}return C}var E=f(0),T=f(1),R=f(16777216);n=h.prototype,n.m=function(){if(k(this))return-O(this).m();for(var I=0,w=1,V=0;V<this.g.length;V++){var C=this.i(V);I+=(0<=C?C:4294967296+C)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(k(this))return"-"+O(this).toString(I);for(var w=g(Math.pow(I,6)),V=this,C="";;){var L=q(V,w).g;V=j(V,L.j(w));var N=((0<V.g.length?V.g[0]:V.h)>>>0).toString(I);if(V=L,P(V))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function k(I){return I.h==-1}n.l=function(I){return I=j(this,I),k(I)?-1:P(I)?0:1};function O(I){for(var w=I.g.length,V=[],C=0;C<w;C++)V[C]=~I.g[C];return new h(V,~I.h).add(T)}n.abs=function(){return k(this)?O(this):this},n.add=function(I){for(var w=Math.max(this.g.length,I.g.length),V=[],C=0,L=0;L<=w;L++){var N=C+(this.i(L)&65535)+(I.i(L)&65535),M=(N>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);C=M>>>16,N&=65535,M&=65535,V[L]=M<<16|N}return new h(V,V[V.length-1]&-2147483648?-1:0)};function j(I,w){return I.add(O(w))}n.j=function(I){if(P(this)||P(I))return E;if(k(this))return k(I)?O(this).j(O(I)):O(O(this).j(I));if(k(I))return O(this.j(O(I)));if(0>this.l(R)&&0>I.l(R))return g(this.m()*I.m());for(var w=this.g.length+I.g.length,V=[],C=0;C<2*w;C++)V[C]=0;for(C=0;C<this.g.length;C++)for(var L=0;L<I.g.length;L++){var N=this.i(C)>>>16,M=this.i(C)&65535,Te=I.i(L)>>>16,Se=I.i(L)&65535;V[2*C+2*L]+=M*Se,B(V,2*C+2*L),V[2*C+2*L+1]+=N*Se,B(V,2*C+2*L+1),V[2*C+2*L+1]+=M*Te,B(V,2*C+2*L+1),V[2*C+2*L+2]+=N*Te,B(V,2*C+2*L+2)}for(C=0;C<w;C++)V[C]=V[2*C+1]<<16|V[2*C];for(C=w;C<2*w;C++)V[C]=0;return new h(V,0)};function B(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function F(I,w){this.g=I,this.h=w}function q(I,w){if(P(w))throw Error("division by zero");if(P(I))return new F(E,E);if(k(I))return w=q(O(I),w),new F(O(w.g),O(w.h));if(k(w))return w=q(I,O(w)),new F(O(w.g),w.h);if(30<I.g.length){if(k(I)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var V=T,C=w;0>=C.l(I);)V=U(V),C=U(C);var L=K(V,1),N=K(C,1);for(C=K(C,2),V=K(V,2);!P(C);){var M=N.add(C);0>=M.l(I)&&(L=L.add(V),N=M),C=K(C,1),V=K(V,1)}return w=j(I,L.j(w)),new F(L,w)}for(L=E;0<=I.l(w);){for(V=Math.max(1,Math.floor(I.m()/w.m())),C=Math.ceil(Math.log(V)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=g(V),M=N.j(w);k(M)||0<M.l(I);)V-=C,N=g(V),M=N.j(w);P(N)&&(N=T),L=L.add(N),I=j(I,M)}return new F(L,I)}n.A=function(I){return q(this,I).h},n.and=function(I){for(var w=Math.max(this.g.length,I.g.length),V=[],C=0;C<w;C++)V[C]=this.i(C)&I.i(C);return new h(V,this.h&I.h)},n.or=function(I){for(var w=Math.max(this.g.length,I.g.length),V=[],C=0;C<w;C++)V[C]=this.i(C)|I.i(C);return new h(V,this.h|I.h)},n.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),V=[],C=0;C<w;C++)V[C]=this.i(C)^I.i(C);return new h(V,this.h^I.h)};function U(I){for(var w=I.g.length+1,V=[],C=0;C<w;C++)V[C]=I.i(C)<<1|I.i(C-1)>>>31;return new h(V,I.h)}function K(I,w){var V=w>>5;w%=32;for(var C=I.g.length-V,L=[],N=0;N<C;N++)L[N]=0<w?I.i(N+V)>>>w|I.i(N+V+1)<<32-w:I.i(N+V);return new h(L,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ub=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=y,Ii=h}).apply(typeof Z2<"u"?Z2:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zb,Oc,Bb,hd,Tg,Fb,Hb,qb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,b){return d==Array.prototype||d==Object.prototype||(d[_]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var _=0;_<d.length;++_){var b=d[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function a(d,_){if(_)e:{var b=s;d=d.split(".");for(var D=0;D<d.length-1;D++){var X=d[D];if(!(X in b))break e;b=b[X]}d=d[d.length-1],D=b[d],_=_(D),_!=D&&_!=null&&e(b,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var b=0,D=!1,X={next:function(){if(!D&&b<d.length){var te=b++;return{value:_(te,d[te]),done:!1}}return D=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,b){return d.call.apply(d.bind,arguments)}function E(d,_,b){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,D),d.apply(_,X)}}return function(){return d.apply(_,arguments)}}function T(d,_,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,T.apply(null,arguments)}function R(d,_){var b=Array.prototype.slice.call(arguments,1);return function(){var D=b.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function P(d,_){function b(){}b.prototype=_.prototype,d.aa=_.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(D,X,te){for(var ue=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ue[$e-2]=arguments[$e];return _.prototype[X].apply(D,ue)}}function k(d){const _=d.length;if(0<_){const b=Array(_);for(let D=0;D<_;D++)b[D]=d[D];return b}return[]}function O(d,_){for(let b=1;b<arguments.length;b++){const D=arguments[b];if(f(D)){const X=d.length||0,te=D.length||0;d.length=X+te;for(let ue=0;ue<te;ue++)d[X+ue]=D[ue]}else d.push(D)}}class j{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=p.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var U=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function K(d,_,b){for(const D in d)_.call(b,d[D],D,d)}function I(d,_){for(const b in d)_.call(void 0,d[b],b,d)}function w(d){const _={};for(const b in d)_[b]=d[b];return _}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,_){let b,D;for(let X=1;X<arguments.length;X++){D=arguments[X];for(b in D)d[b]=D[b];for(let te=0;te<V.length;te++)b=V[te],Object.prototype.hasOwnProperty.call(D,b)&&(d[b]=D[b])}}function L(d){var _=1;d=d.split(":");const b=[];for(;0<_&&d.length;)b.push(d.shift()),_--;return d.length&&b.push(d.join(":")),b}function N(d){p.setTimeout(()=>{throw d},0)}function M(){var d=Pe;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Te{constructor(){this.h=this.g=null}add(_,b){const D=Se.get();D.set(_,b),this.h?this.h.next=D:this.g=D,this.h=D}}var Se=new j(()=>new $,d=>d.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,Pe=new Te,H=()=>{const d=p.Promise.resolve(void 0);le=()=>{d.then(Q)}};var Q=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(b){N(b)}var _=Se;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}de=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};p.addEventListener("test",b,_),p.removeEventListener("test",b,_)}catch{}return d}();function Ce(d,_){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(U){e:{try{q(_.nodeName);var X=!0;break e}catch{}X=!1}X||(_=null)}}else b=="mouseover"?_=d.fromElement:b=="mouseout"&&(_=d.toElement);this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ce.aa.h.call(this)}}P(Ce,oe);var ve={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function _n(d,_,b,D,X){this.listener=d,this.proxy=null,this.src=_,this.type=b,this.capture=!!D,this.ha=X,this.key=++Fe,this.da=this.fa=!1}function br(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Kn(d){this.src=d,this.g={},this.h=0}Kn.prototype.add=function(d,_,b,D,X){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var ue=es(d,_,D,X);return-1<ue?(_=d[ue],b||(_.fa=!1)):(_=new _n(_,this.src,te,!!D,X),_.fa=b,d.push(_)),_};function Tr(d,_){var b=_.type;if(b in d.g){var D=d.g[b],X=Array.prototype.indexOf.call(D,_,void 0),te;(te=0<=X)&&Array.prototype.splice.call(D,X,1),te&&(br(_),d.g[b].length==0&&(delete d.g[b],d.h--))}}function es(d,_,b,D){for(var X=0;X<d.length;++X){var te=d[X];if(!te.da&&te.listener==_&&te.capture==!!b&&te.ha==D)return X}return-1}var Sr="closure_lm_"+(1e6*Math.random()|0),qi={};function Au(d,_,b,D,X){if(Array.isArray(_)){for(var te=0;te<_.length;te++)Au(d,_[te],b,D,X);return null}return b=Cu(b),d&&d[ht]?d.K(_,b,g(D)?!!D.capture:!1,X):Yn(d,_,b,!1,D,X)}function Yn(d,_,b,D,X,te){if(!_)throw Error("Invalid event type");var ue=g(X)?!!X.capture:!!X,$e=Ga(d);if($e||(d[Sr]=$e=new Kn(d)),b=$e.add(_,b,D,ue,te),b.proxy)return b;if(D=Uf(),b.proxy=D,D.src=d,D.listener=b,d.addEventListener)pe||(X=ue),X===void 0&&(X=!1),d.addEventListener(_.toString(),D,X);else if(d.attachEvent)d.attachEvent(Gi(_.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Uf(){function d(b){return _.call(d.src,d.listener,b)}const _=zf;return d}function yl(d,_,b,D,X){if(Array.isArray(_))for(var te=0;te<_.length;te++)yl(d,_[te],b,D,X);else D=g(D)?!!D.capture:!!D,b=Cu(b),d&&d[ht]?(d=d.i,_=String(_).toString(),_ in d.g&&(te=d.g[_],b=es(te,b,D,X),-1<b&&(br(te[b]),Array.prototype.splice.call(te,b,1),te.length==0&&(delete d.g[_],d.h--)))):d&&(d=Ga(d))&&(_=d.g[_.toString()],d=-1,_&&(d=es(_,b,D,X)),(b=-1<d?_[d]:null)&&qa(b))}function qa(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ht])Tr(_.i,d);else{var b=d.type,D=d.proxy;_.removeEventListener?_.removeEventListener(b,D,d.capture):_.detachEvent?_.detachEvent(Gi(b),D):_.addListener&&_.removeListener&&_.removeListener(D),(b=Ga(_))?(Tr(b,d),b.h==0&&(b.src=null,_[Sr]=null)):br(d)}}}function Gi(d){return d in qi?qi[d]:qi[d]="on"+d}function zf(d,_){if(d.da)d=!0;else{_=new Ce(_,this);var b=d.listener,D=d.ha||d.src;d.fa&&qa(d),d=b.call(D,_)}return d}function Ga(d){return d=d[Sr],d instanceof Kn?d:null}var _l="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(d){return typeof d=="function"?d:(d[_l]||(d[_l]=function(_){return d.handleEvent(_)}),d[_l])}function Et(){ce.call(this),this.i=new Kn(this),this.M=this,this.F=null}P(Et,ce),Et.prototype[ht]=!0,Et.prototype.removeEventListener=function(d,_,b,D){yl(this,d,_,b,D)};function rt(d,_){var b,D=d.F;if(D)for(b=[];D;D=D.F)b.push(D);if(d=d.M,D=_.type||_,typeof _=="string")_=new oe(_,d);else if(_ instanceof oe)_.target=_.target||d;else{var X=_;_=new oe(D,d),C(_,X)}if(X=!0,b)for(var te=b.length-1;0<=te;te--){var ue=_.g=b[te];X=Pn(ue,D,!0,_)&&X}if(ue=_.g=d,X=Pn(ue,D,!0,_)&&X,X=Pn(ue,D,!1,_)&&X,b)for(te=0;te<b.length;te++)ue=_.g=b[te],X=Pn(ue,D,!1,_)&&X}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var b=d.g[_],D=0;D<b.length;D++)br(b[D]);delete d.g[_],d.h--}}this.F=null},Et.prototype.K=function(d,_,b,D){return this.i.add(String(d),_,!1,b,D)},Et.prototype.L=function(d,_,b,D){return this.i.add(String(d),_,!0,b,D)};function Pn(d,_,b,D){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var X=!0,te=0;te<_.length;++te){var ue=_[te];if(ue&&!ue.da&&ue.capture==b){var $e=ue.listener,zt=ue.ha||ue.src;ue.fa&&Tr(d.i,ue),X=$e.call(zt,D)!==!1&&X}}return X&&!D.defaultPrevented}function hn(d,_,b){if(typeof d=="function")b&&(d=T(d,b));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:p.setTimeout(d,_||0)}function Ru(d){d.g=hn(()=>{d.g=null,d.i&&(d.i=!1,Ru(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Bf extends ce{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(d){ce.call(this),this.h=d,this.g={}}P($i,ce);var Ki=[];function Yi(d){K(d.g,function(_,b){this.g.hasOwnProperty(b)&&qa(_)},d),d.g={}}$i.prototype.N=function(){$i.aa.N.call(this),Yi(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=p.JSON.stringify,$a=p.JSON.parse,Qi=class{stringify(d){return p.JSON.stringify(d,void 0)}parse(d){return p.JSON.parse(d,void 0)}};function El(){}El.prototype.h=null;function bl(d){return d.h||(d.h=d.i())}function Tl(){}var ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ns(){oe.call(this,"d")}P(ns,oe);function Sl(){oe.call(this,"c")}P(Sl,oe);var wr={},wl=null;function Gs(){return wl=wl||new Et}wr.La="serverreachability";function Ka(d){oe.call(this,wr.La,d)}P(Ka,oe);function $s(d){const _=Gs();rt(_,new Ka(_))}wr.STAT_EVENT="statevent";function Nu(d,_){oe.call(this,wr.STAT_EVENT,d),this.stat=_}P(Nu,oe);function pt(d){const _=Gs();rt(_,new Nu(_,d))}wr.Ma="timingevent";function Ut(d,_){oe.call(this,wr.Ma,d),this.size=_}P(Ut,oe);function It(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){d()},_)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function xl(d,_,b,D,X,te){d.info(function(){if(d.g)if(te)for(var ue="",$e=te.split("&"),zt=0;zt<$e.length;zt++){var Ke=$e[zt].split("=");if(1<Ke.length){var $t=Ke[0];Ke=Ke[1];var Bt=$t.split("_");ue=2<=Bt.length&&Bt[1]=="type"?ue+($t+"="+Ke+"&"):ue+($t+"=redacted&")}}else ue=null;else ue=te;return"XMLHTTP REQ ("+D+") [attempt "+X+"]: "+_+`
`+b+`
`+ue})}function Ff(d,_,b,D,X,te,ue){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+X+"]: "+_+`
`+b+`
`+te+" "+ue})}function Ks(d,_,b,D){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xi(d,b)+(D?" "+D:"")})}function Iu(d,_){d.info(function(){return"TIMEOUT: "+_})}Qn.prototype.info=function(){};function Xi(d,_){if(!d.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var D=b[d];if(!(2>D.length)){var X=D[1];if(Array.isArray(X)&&!(1>X.length)){var te=X[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ue=1;ue<X.length;ue++)X[ue]=""}}}}return ur(b)}catch{return _}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function Ar(){}P(Ar,El),Ar.prototype.g=function(){return new XMLHttpRequest},Ar.prototype.i=function(){return{}},xr=new Ar;function En(d,_,b,D){this.j=d,this.i=_,this.l=b,this.R=D||1,this.U=new $i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var Al={},Ya={};function hr(d,_,b){d.L=1,d.v=ta(Vn(_)),d.m=b,d.P=!0,ss(d,null)}function ss(d,_){d.F=Date.now(),Zi(d),d.A=Vn(d.v);var b=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),jl(b.i,"t",D),d.C=0,b=d.j.J,d.h=new wt,d.g=$u(d.j,b?_:null,!d.m),0<d.O&&(d.M=new Bf(T(d.Y,d,d.g),d.O)),_=d.U,b=d.g,D=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(Ki[0]=X.toString()),X=Ki);for(var te=0;te<X.length;te++){var ue=Au(b,X[te],D||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),$s(),xl(d.i,d.u,d.A,d.l,d.R,d.m)}En.prototype.ca=function(d){d=d.target;const _=this.M;_&&Jn(d)==3?_.j():this.Y(d)},En.prototype.Y=function(d){try{if(d==this.g)e:{const Bt=Jn(this.g);var _=this.g.Ba();const ds=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||Bt!=4||_==7||(_==8||0>=ds?$s(3):$s(2)),Qs(this);var b=this.g.Z();this.X=b;t:if(Du(this)){var D=Lu(this.g);d="";var X=D.length,te=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Cr(this);var ue="";break t}this.h.i=new p.TextDecoder}for(_=0;_<X;_++)this.h.h=!0,d+=this.h.i.decode(D[_],{stream:!(te&&_==X-1)});D.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Ff(this.i,this.u,this.A,this.l,this.R,Bt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,zt=this.g;if(($e=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B($e)){var Ke=$e;break t}}Ke=null}if(b=Ke)Ks(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wi(this,b);else{this.o=!1,this.s=3,pt(12),en(this),Cr(this);break e}}if(this.P){b=!0;let tn;for(;!this.J&&this.C<ue.length;)if(tn=ju(this,ue),tn==Ya){Bt==4&&(this.s=4,pt(14),b=!1),Ks(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Al){this.s=4,pt(15),Ks(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else Ks(this.i,this.l,tn,null),Wi(this,tn);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ue.length!=0||this.h.h||(this.s=1,pt(16),b=!1),this.o=this.o&&b,!b)Ks(this.i,this.l,ue,"[Invalid Chunked Response]"),en(this),Cr(this);else if(0<ue.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ca($t),$t.M=!0,pt(11))}}else Ks(this.i,this.l,ue,null),Wi(this,ue);Bt==4&&en(this),this.o&&!this.J&&(Bt==4?Hu(this.j,this):(this.o=!1,Zi(this)))}else Kf(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),en(this),Cr(this)}}}catch{}finally{}};function Du(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ju(d,_){var b=d.C,D=_.indexOf(`
`,b);return D==-1?Ya:(b=Number(_.substring(b,D)),isNaN(b)?Al:(D+=1,D+b>_.length?Ya:(_=_.slice(D,D+b),d.C=D+b,_)))}En.prototype.cancel=function(){this.J=!0,en(this)};function Zi(d){d.S=Date.now()+d.I,Ou(d,d.I)}function Ou(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=It(T(d.ba,d),_)}function Qs(d){d.B&&(p.clearTimeout(d.B),d.B=null)}En.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Iu(this.i,this.A),this.L!=2&&($s(),pt(17)),en(this),this.s=2,Cr(this)):Ou(this,this.S-d)};function Cr(d){d.j.G==0||d.J||Hu(d.j,d)}function en(d){Qs(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Yi(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Wi(d,_){try{var b=d.j;if(b.G!=0&&(b.g==d||Cl(b.h,d))){if(!d.K&&Cl(b.h,d)&&b.G==3){try{var D=b.Da.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var X=D;if(X[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)ao(b),so(b);else break e;kl(b),pt(18)}}else b.za=X[1],0<b.za-b.T&&37500>X[2]&&b.F&&b.v==0&&!b.C&&(b.C=It(T(b.Za,b),6e3));if(1>=Xa(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else hs(b,11)}else if((d.K||b.g==d)&&ao(b),!B(_))for(X=b.Da.g.parse(_),_=0;_<X.length;_++){let Ke=X[_];if(b.T=Ke[0],Ke=Ke[1],b.G==2)if(Ke[0]=="c"){b.K=Ke[1],b.ia=Ke[2];const $t=Ke[3];$t!=null&&(b.la=$t,b.j.info("VER="+b.la));const Bt=Ke[4];Bt!=null&&(b.Aa=Bt,b.j.info("SVER="+b.Aa));const ds=Ke[5];ds!=null&&typeof ds=="number"&&0<ds&&(D=1.5*ds,b.L=D,b.j.info("backChannelRequestTimeoutMs_="+D)),D=b;const tn=d.g;if(tn){const Mr=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var te=D.h;te.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Za(te,te.h),te.h=null))}if(D.D){const Ul=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ul&&(D.ya=Ul,ot(D.I,D.D,Ul))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),D=b;var ue=d;if(D.qa=Gu(D,D.J?D.ia:null,D.W),ue.K){bn(D.h,ue);var $e=ue,zt=D.L;zt&&($e.I=zt),$e.B&&(Qs($e),Zi($e)),D.g=ue}else Bu(D);0<b.i.length&&io(b)}else Ke[0]!="stop"&&Ke[0]!="close"||hs(b,7);else b.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?hs(b,7):Pl(b):Ke[0]!="noop"&&b.l&&b.l.ta(Ke),b.v=0)}}$s(4)}catch{}}var Mu=class{constructor(d,_){this.g=d,this.map=_}};function is(d){this.l=d||10,p.PerformanceNavigationTiming?(d=p.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xa(d){return d.h?1:d.g?d.g.size:0}function Cl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Za(d,_){d.g?d.g.add(_):d.h=_}function bn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}is.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const b of d.g.values())_=_.concat(b.D);return _}return k(d.i)}function Hf(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],b=d.length,D=0;D<b;D++)_.push(d[D]);return _}_=[],b=0;for(D in d)_[b++]=d[D];return _}function Wa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var b=0;b<d;b++)_.push(b);return _}_=[],b=0;for(const D in d)_[b++]=D;return _}}}function Nl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var b=Wa(d),D=Hf(d),X=D.length,te=0;te<X;te++)_.call(void 0,D[te],b&&b[te],d)}var Ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qf(d,_){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var D=d[b].indexOf("="),X=null;if(0<=D){var te=d[b].substring(0,D);X=d[b].substring(D+1)}else te=d[b];_(te,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Dt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Dt){this.h=d.h,ea(this,d.j),this.o=d.o,this.g=d.g,Xs(this,d.s),this.l=d.l;var _=d.i,b=new os;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),as(this,b),this.m=d.m}else d&&(_=String(d).match(Ji))?(this.h=!1,ea(this,_[1]||"",!0),this.o=Xn(_[2]||""),this.g=Xn(_[3]||"",!0),Xs(this,_[4]),this.l=Xn(_[5]||"",!0),as(this,_[6]||"",!0),this.m=Xn(_[7]||"")):(this.h=!1,this.i=new os(null,this.h))}Dt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(na(_,Il,!0),":");var b=this.g;return(b||_=="file")&&(d.push("//"),(_=this.o)&&d.push(na(_,Il,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(na(b,b.charAt(0)=="/"?Gf:Dl,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",na(b,Ja)),d.join("")};function Vn(d){return new Dt(d)}function ea(d,_,b){d.j=b?Xn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Xs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function as(d,_,b){_ instanceof os?(d.i=_,Vu(d.i,d.h)):(b||(_=na(_,$f)),d.i=new os(_,d.h))}function ot(d,_,b){d.i.set(_,b)}function ta(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Xn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function na(d,_,b){return typeof d=="string"?(d=encodeURI(d).replace(_,Pu),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Pu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Il=/[#\/\?@]/g,Dl=/[#\?:]/g,Gf=/[#\?]/g,$f=/[#\?@]/g,Ja=/#/g;function os(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Zn(d){d.g||(d.g=new Map,d.h=0,d.i&&qf(d.i,function(_,b){d.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=os.prototype,n.add=function(d,_){Zn(this),this.i=null,d=Rr(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(_),this.h+=1,this};function ls(d,_){Zn(d),_=Rr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function cs(d,_){return Zn(d),_=Rr(d,_),d.g.has(_)}n.forEach=function(d,_){Zn(this),this.g.forEach(function(b,D){b.forEach(function(X){d.call(_,X,D,this)},this)},this)},n.na=function(){Zn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let D=0;D<_.length;D++){const X=d[D];for(let te=0;te<X.length;te++)b.push(_[D])}return b},n.V=function(d){Zn(this);let _=[];if(typeof d=="string")cs(this,d)&&(_=_.concat(this.g.get(Rr(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)_=_.concat(d[b])}return _},n.set=function(d,_){return Zn(this),this.i=null,d=Rr(this,d),cs(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function jl(d,_,b){ls(d,_),0<b.length&&(d.i=null,d.g.set(Rr(d,_),k(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var D=_[b];const te=encodeURIComponent(String(D)),ue=this.V(D);for(D=0;D<ue.length;D++){var X=te;ue[D]!==""&&(X+="="+encodeURIComponent(String(ue[D]))),d.push(X)}}return this.i=d.join("&")};function Rr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Vu(d,_){_&&!d.j&&(Zn(d),d.i=null,d.g.forEach(function(b,D){var X=D.toLowerCase();D!=X&&(ls(this,D),jl(this,X,b))},d)),d.j=_}function ra(d,_){const b=new Qn;if(p.Image){const D=new Image;D.onload=R(Wn,b,"TestLoadImage: loaded",!0,_,D),D.onerror=R(Wn,b,"TestLoadImage: error",!1,_,D),D.onabort=R(Wn,b,"TestLoadImage: abort",!1,_,D),D.ontimeout=R(Wn,b,"TestLoadImage: timeout",!1,_,D),p.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else _(!1)}function dr(d,_){const b=new Qn,D=new AbortController,X=setTimeout(()=>{D.abort(),Wn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:D.signal}).then(te=>{clearTimeout(X),te.ok?Wn(b,"TestPingServer: ok",!0,_):Wn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),Wn(b,"TestPingServer: error",!1,_)})}function Wn(d,_,b,D,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),D(b)}catch{}}function sa(){this.g=new Qi}function Nr(d,_,b){const D=b||"";try{Nl(d,function(X,te){let ue=X;g(X)&&(ue=ur(X)),_.push(D+te+"="+encodeURIComponent(ue))})}catch(X){throw _.push(D+"type="+encodeURIComponent("_badmap")),X}}function Zs(d){this.l=d.Ub||null,this.j=d.eb||!1}P(Zs,El),Zs.prototype.g=function(){return new us(this.l,this.j)},Zs.prototype.i=function(d){return function(){return d}}({});function us(d,_){Et.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(us,Et),n=us.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Dr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||p).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ir(this):Dr(this),this.readyState==3&&Ol(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ir(this))},n.Qa=function(d){this.g&&(this.response=d,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Dr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=_.next();return d.join(`\r
`)};function Dr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ml(d){let _="";return K(d,function(b,D){_+=D,_+=":",_+=b,_+=`\r
`}),_}function Gt(d,_,b){e:{for(D in b){var D=!1;break e}D=!0}D||(b=Ml(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):ot(d,_,b))}function et(d){Et.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(et,Et);var eo=/^https?$/i,ia=["POST","PUT"];n=et.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,b,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?bl(this.o):bl(xr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(te){ku(this,te);return}if(d=b||"",b=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var X in D)b.set(X,D[X]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())b.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(b.keys()).find(te=>te.toLowerCase()=="content-type"),X=p.FormData&&d instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ia,_,void 0))||D||X||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ue]of b)this.g.setRequestHeader(te,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){ku(this,te)}};function ku(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,to(d),jr(d)}function to(d){d.A||(d.A=!0,rt(d,"complete"),rt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,rt(this,"complete"),rt(this,"abort"),jr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?no(this):this.bb())},n.bb=function(){no(this)};function no(d){if(d.h&&typeof h<"u"&&(!d.v[1]||Jn(d)!=4||d.Z()!=2)){if(d.u&&Jn(d)==4)hn(d.Ea,0,d);else if(rt(d,"readystatechange"),Jn(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var D;if(D=ue===0){var X=String(d.D).match(Ji)[1]||null;!X&&p.self&&p.self.location&&(X=p.self.location.protocol.slice(0,-1)),D=!eo.test(X?X.toLowerCase():"")}b=D}if(b)rt(d,"complete"),rt(d,"success");else{d.m=6;try{var te=2<Jn(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",to(d)}}finally{jr(d)}}}}function jr(d,_){if(d.g){aa(d);const b=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||rt(d,"ready");try{b.onreadystatechange=D}catch{}}}function aa(d){d.I&&(p.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Jn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),$a(_)}};function Lu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Kf(d){const _={};d=(d.g&&2<=Jn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(B(d[D]))continue;var b=L(d[D]);const X=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const te=_[X]||[];_[X]=te,te.push(b)}I(_,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(d,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||_}function ro(d){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,d),this.cb=oa("retryDelaySeedMs",1e4,d),this.Wa=oa("forwardChannelMaxRetries",2,d),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new is(d&&d.concurrentRequestLimit),this.Da=new sa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ro.prototype,n.la=8,n.G=1,n.connect=function(d,_,b,D){pt(0),this.W=d,this.H=_||{},b&&D!==void 0&&(this.H.OSID=b,this.H.OAID=D),this.F=this.X,this.I=Gu(this,null,this.W),io(this)};function Pl(d){if(Uu(d),d.G==3){var _=d.U++,b=Vn(d.I);if(ot(b,"SID",d.K),ot(b,"RID",_),ot(b,"TYPE","terminate"),la(d,b),_=new En(d,d.j,_),_.L=2,_.v=ta(Vn(b)),b=!1,p.navigator&&p.navigator.sendBeacon)try{b=p.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&p.Image&&(new Image().src=_.v,b=!0),b||(_.g=$u(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Zi(_)}qu(d)}function so(d){d.g&&(ca(d),d.g.cancel(),d.g=null)}function Uu(d){so(d),d.u&&(p.clearTimeout(d.u),d.u=null),ao(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&p.clearTimeout(d.s),d.s=null)}function io(d){if(!Qa(d.h)&&!d.s){d.s=!0;var _=d.Ga;le||H(),de||(le(),de=!0),Pe.add(_,d),d.B=0}}function Yf(d,_){return Xa(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=It(T(d.Ga,d,_),Ll(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new En(this,this.j,d);let te=this.o;if(this.S&&(te?(te=w(te),C(te,this.S)):te=this.S),this.m!==null||this.O||(X.H=te,te=null),this.P)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var D=this.i[b];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,4096<_){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=zu(this,X,_),b=Vn(this.I),ot(b,"RID",d),ot(b,"CVER",22),this.D&&ot(b,"X-HTTP-Session-Id",this.D),la(this,b),te&&(this.O?_="headers="+encodeURIComponent(String(Ml(te)))+"&"+_:this.m&&Gt(b,this.m,te)),Za(this.h,X),this.Ua&&ot(b,"TYPE","init"),this.P?(ot(b,"$req",_),ot(b,"SID","null"),X.T=!0,hr(X,b,null)):hr(X,b,_),this.G=2}}else this.G==3&&(d?Vl(this,d):this.i.length==0||Qa(this.h)||Vl(this))};function Vl(d,_){var b;_?b=_.l:b=d.U++;const D=Vn(d.I);ot(D,"SID",d.K),ot(D,"RID",b),ot(D,"AID",d.T),la(d,D),d.m&&d.o&&Gt(D,d.m,d.o),b=new En(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),_&&(d.i=_.D.concat(d.i)),_=zu(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Za(d.h,b),hr(b,D,_)}function la(d,_){d.H&&K(d.H,function(b,D){ot(_,D,b)}),d.l&&Nl({},function(b,D){ot(_,D,b)})}function zu(d,_,b){b=Math.min(d.i.length,b);var D=d.l?T(d.l.Na,d.l,d):null;e:{var X=d.i;let te=-1;for(;;){const ue=["count="+b];te==-1?0<b?(te=X[0].g,ue.push("ofs="+te)):te=0:ue.push("ofs="+te);let $e=!0;for(let zt=0;zt<b;zt++){let Ke=X[zt].g;const $t=X[zt].map;if(Ke-=te,0>Ke)te=Math.max(0,X[zt].g-100),$e=!1;else try{Nr($t,ue,"req"+Ke+"_")}catch{D&&D($t)}}if($e){D=ue.join("&");break e}}}return d=d.i.splice(0,b),_.D=d,D}function Bu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;le||H(),de||(le(),de=!0),Pe.add(_,d),d.v=0}}function kl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=It(T(d.Fa,d),Ll(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=It(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),so(this),Fu(this))};function ca(d){d.A!=null&&(p.clearTimeout(d.A),d.A=null)}function Fu(d){d.g=new En(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Vn(d.qa);ot(_,"RID","rpc"),ot(_,"SID",d.K),ot(_,"AID",d.T),ot(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(_,"TO",d.ja),ot(_,"TYPE","xmlhttp"),la(d,_),d.m&&d.o&&Gt(_,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=ta(Vn(_)),b.m=null,b.P=!0,ss(b,d)}n.Za=function(){this.C!=null&&(this.C=null,so(this),kl(this),pt(19))};function ao(d){d.C!=null&&(p.clearTimeout(d.C),d.C=null)}function Hu(d,_){var b=null;if(d.g==_){ao(d),ca(d),d.g=null;var D=2}else if(Cl(d.h,_))b=_.D,bn(d.h,_),D=1;else return;if(d.G!=0){if(_.o)if(D==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var X=d.B;D=Gs(),rt(D,new Ut(D,b)),io(d)}else Bu(d);else if(X=_.s,X==3||X==0&&0<_.X||!(D==1&&Yf(d,_)||D==2&&kl(d)))switch(b&&0<b.length&&(_=d.h,_.i=_.i.concat(b)),X){case 1:hs(d,5);break;case 4:hs(d,10);break;case 3:hs(d,6);break;default:hs(d,2)}}}function Ll(d,_){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*_}function hs(d,_){if(d.j.info("Error code "+_),_==2){var b=T(d.fb,d),D=d.Xa;const X=!D;D=new Dt(D||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ea(D,"https"),ta(D),X?ra(D.toString(),b):dr(D.toString(),b)}else pt(2);d.G=0,d.l&&d.l.sa(_),qu(d),Uu(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function qu(d){if(d.G=0,d.ka=[],d.l){const _=Rl(d.h);(_.length!=0||d.i.length!=0)&&(O(d.ka,_),O(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function Gu(d,_,b){var D=b instanceof Dt?Vn(b):new Dt(b);if(D.g!="")_&&(D.g=_+"."+D.g),Xs(D,D.s);else{var X=p.location;D=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;var te=new Dt(null);D&&ea(te,D),_&&(te.g=_),X&&Xs(te,X),b&&(te.l=b),D=te}return b=d.D,_=d.ya,b&&_&&ot(D,b,_),ot(D,"VER",d.la),la(d,D),D}function $u(d,_,b){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new et(new Zs({eb:b})):new et(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}n=Ku.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oo(){}oo.prototype.g=function(d,_){return new Tn(d,_)};function Tn(d,_){Et.call(this),this.g=new ro(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!B(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Or(this)}P(Tn,Et),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Pl(this.g)},Tn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=ur(d),d=b);_.i.push(new Mu(_.Ya++,d)),_.G==3&&io(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,Tn.aa.N.call(this)};function Yu(d){ns.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const b in _){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}P(Yu,ns);function Qu(){Sl.call(this),this.status=1}P(Qu,Sl);function Or(d){this.g=d}P(Or,Ku),Or.prototype.ua=function(){rt(this.g,"a")},Or.prototype.ta=function(d){rt(this.g,new Yu(d))},Or.prototype.sa=function(d){rt(this.g,new Qu)},Or.prototype.ra=function(){rt(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,qb=function(){return new oo},Hb=function(){return Gs()},Fb=wr,Tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,hd=Ys,rs.COMPLETE="complete",Bb=rs,Tl.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Oc=Tl,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,zb=et}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const W2="@firebase/firestore",J2="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new av("@firebase/firestore");function zo(){return Da.logLevel}function me(n,...e){if(Da.logLevel<=He.DEBUG){const t=e.map(cv);Da.debug(`Firestore (${hl}): ${n}`,...t)}}function Vs(n,...e){if(Da.logLevel<=He.ERROR){const t=e.map(cv);Da.error(`Firestore (${hl}): ${n}`,...t)}}function Wo(n,...e){if(Da.logLevel<=He.WARN){const t=e.map(cv);Da.warn(`Firestore (${hl}): ${n}`,...t)}}function cv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Gb(n,s,t)}function Gb(n,e,t){let s=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Vs(s),new Error(s)}function nt(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||Gb(e,a,s)}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Hs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HC{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,t(f)):Promise.resolve();let l=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ns,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},p=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(f=>p(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?p(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ns)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new $b(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class qC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $C{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new e_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=KC(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function qe(n,e){return n<e?-1:n>e?1:0}function Sg(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return Wp(a)===Wp(l)?qe(a,l):Wp(a)?1:-1}return qe(n.length,e.length)}const YC=55296,QC=57343;function Wp(n){const e=n.charCodeAt(0);return e>=YC&&e<=QC}function Jo(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="__name__";class zr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ne(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=zr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const s=zr.isNumericId(e),a=zr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?zr.extractNumericId(e).compare(zr.extractNumericId(t)):Sg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ii.fromString(e.substring(4,e.length-2))}}class mt extends zr{construct(e,t,s){return new mt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends zr{construct(e,t,s){return new cn(e,t,s)}static isValidIdentifier(e){return XC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t_}static keyField(){return new cn([t_])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new fe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else p==="`"?(h=!h,a++):p!=="."||h?(s+=p,a++):(l(),a++)}if(l(),h)throw new fe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(mt.fromString(e))}static fromName(e){return new Ee(mt.fromString(e).popFirst(5))}static empty(){return new Ee(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n,e,t){if(!t)throw new fe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZC(n,e,t,s){if(e===!0&&s===!0)throw new fe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n_(n){if(!Ee.isDocumentKey(n))throw new fe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r_(n){if(Ee.isDocumentKey(n))throw new fe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function uf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uf(n);throw new fe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n,e){const t={typeString:n};return e&&(t.value=e),t}function mu(n,e){if(!Yb(n))throw new fe(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const h=n[s];if(a&&typeof h!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new fe(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-62135596800,i_=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*i_);return new Oe(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<s_)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,Oe._jsonSchema))return new Oe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:Lt("string",Oe._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Oe(0,0))}static max(){return new je(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=-1;function WC(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=je.fromTimestamp(s===1e9?new Oe(t+1,0):new Oe(t,s));return new Oi(a,Ee.empty(),e)}function JC(n){return new Oi(n.readTime,n.key,Kc)}class Oi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Oi(je.min(),Ee.empty(),Kc)}static max(){return new Oi(je.max(),Ee.empty(),Kc)}}function eR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==tR)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,s)=>{t(e)})}static reject(e){return new ae((t,s)=>{s(e)})}static waitFor(e){return new ae((t,s)=>{let a=0,l=0,h=!1;e.forEach(p=>{++a,p.next(()=>{++l,h&&l===a&&t()},f=>s(f))}),h=!0,l===a&&t()})}static or(e){let t=ae.resolve(!1);for(const s of e)t=t.next(a=>a?ae.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ae((s,a)=>{const l=e.length,h=new Array(l);let p=0;for(let f=0;f<l;f++){const g=f;t(e[g]).next(y=>{h[g]=y,++p,p===l&&s(h)},y=>a(y))}})}static doWhile(e,t){return new ae((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function rR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=-1;function df(n){return n==null}function Nd(n){return n===0&&1/n==-1/0}function sR(n){return typeof n=="number"&&Number.isInteger(n)&&!Nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="";function iR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=a_(e)),e=aR(n.get(t),e);return a_(e)}function aR(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Qb:t+="";break;default:t+=l}}return t}function a_(n){return n+Qb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Xb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new an(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(e){return new l_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class l_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new qn([])}unionWith(e){let t=new qt(cn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Zb("Invalid base64 string: "+l):l}}(e);return new un(t)}static fromUint8Array(e){const t=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const oR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=oR.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pi(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="server_timestamp",Jb="__type__",eT="__previous_value__",tT="__local_write_time__";function dv(n){return(n?.mapValue?.fields||{})[Jb]?.stringValue===Wb}function ff(n){const e=n.mapValue.fields[eT];return dv(e)?ff(e):e}function Yc(n){const e=Mi(n.mapValue.fields[tT].timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t,s,a,l,h,p,f,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=y}}const Id="(default)";class Qc{constructor(e,t){this.projectId=e,this.database=t||Id}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Id}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__type__",cR="__max__",Jh={mapValue:{}},rT="__vector__",Dd="value";function Vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dv(n)?4:hR(n)?9007199254740991:uR(n)?10:11:Ne(28295,{value:n})}function Wr(n,e){if(n===e)return!0;const t=Vi(n);if(t!==Vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yc(n).isEqual(Yc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=Mi(a.timestampValue),p=Mi(l.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Pi(a.bytesValue).isEqual(Pi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=Ct(a.doubleValue),p=Ct(l.doubleValue);return h===p?Nd(h)===Nd(p):isNaN(h)&&isNaN(p)}return!1}(n,e);case 9:return Jo(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(a,l){const h=a.mapValue.fields||{},p=l.mapValue.fields||{};if(o_(h)!==o_(p))return!1;for(const f in h)if(h.hasOwnProperty(f)&&(p[f]===void 0||!Wr(h[f],p[f])))return!1;return!0}(n,e);default:return Ne(52216,{left:n})}}function Xc(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function el(n,e){if(n===e)return 0;const t=Vi(n),s=Vi(e);if(t!==s)return qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(l,h){const p=Ct(l.integerValue||l.doubleValue),f=Ct(h.integerValue||h.doubleValue);return p<f?-1:p>f?1:p===f?0:isNaN(p)?isNaN(f)?0:-1:1}(n,e);case 3:return c_(n.timestampValue,e.timestampValue);case 4:return c_(Yc(n),Yc(e));case 5:return Sg(n.stringValue,e.stringValue);case 6:return function(l,h){const p=Pi(l),f=Pi(h);return p.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const p=l.split("/"),f=h.split("/");for(let g=0;g<p.length&&g<f.length;g++){const y=qe(p[g],f[g]);if(y!==0)return y}return qe(p.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const p=qe(Ct(l.latitude),Ct(h.latitude));return p!==0?p:qe(Ct(l.longitude),Ct(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return u_(n.arrayValue,e.arrayValue);case 10:return function(l,h){const p=l.fields||{},f=h.fields||{},g=p[Dd]?.arrayValue,y=f[Dd]?.arrayValue,E=qe(g?.values?.length||0,y?.values?.length||0);return E!==0?E:u_(g,y)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Jh.mapValue&&h===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(h===Jh.mapValue)return-1;const p=l.fields||{},f=Object.keys(p),g=h.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let E=0;E<f.length&&E<y.length;++E){const T=Sg(f[E],y[E]);if(T!==0)return T;const R=el(p[f[E]],g[y[E]]);if(R!==0)return R}return qe(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function c_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Mi(n),s=Mi(e),a=qe(t.seconds,s.seconds);return a!==0?a:qe(t.nanos,s.nanos)}function u_(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=el(t[a],s[a]);if(l)return l}return qe(t.length,s.length)}function tl(n){return wg(n)}function wg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Mi(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=wg(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const h of s)l?l=!1:a+=",",a+=`${h}:${wg(t.fields[h])}`;return a+"}"}(n.mapValue):Ne(61005,{value:n})}function dd(n){switch(Vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(n);return e?16+dd(e):16;case 5:return 2*n.stringValue.length;case 6:return Pi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+dd(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return zi(s.fields,(l,h)=>{a+=l.length+dd(h)}),a}(n.mapValue);default:throw Ne(13486,{value:n})}}function h_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xg(n){return!!n&&"integerValue"in n}function fv(n){return!!n&&"arrayValue"in n}function d_(n){return!!n&&"nullValue"in n}function f_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fd(n){return!!n&&"mapValue"in n}function uR(n){return(n?.mapValue?.fields||{})[nT]?.stringValue===rT}function zc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return zi(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=zc(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zc(n.arrayValue.values[t]);return e}return{...n}}function hR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(t)}setAll(e){let t=cn.emptyPath(),s={},a=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const f=this.getFieldsMap(t);this.applyChanges(f,s,a),s={},a=[],t=p.popLast()}h?s[p.lastSegment()]=zc(h):a.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];fd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){zi(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new In(zc(this.value))}}function sT(n){const e=[];return zi(n.fields,(t,s)=>{const a=new cn([t]);if(fd(s)){const l=sT(s.mapValue).fields;if(l.length===0)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,s,a,l,h,p){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=h,this.documentState=p}static newInvalidDocument(e){return new vn(e,0,je.min(),je.min(),je.min(),In.empty(),0)}static newFoundDocument(e,t,s,a){return new vn(e,1,t,je.min(),s,a,0)}static newNoDocument(e,t){return new vn(e,2,t,je.min(),je.min(),In.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,je.min(),je.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t){this.position=e,this.inclusive=t}}function m_(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(l.field.isKeyField()?s=Ee.comparator(Ee.fromName(h.referenceValue),t.key):s=el(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function p_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function dR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class Vt extends iT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new mR(e,t,s):t==="array-contains"?new vR(e,s):t==="in"?new yR(e,s):t==="not-in"?new _R(e,s):t==="array-contains-any"?new ER(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new pR(e,s):new gR(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(el(t,this.value)):t!==null&&Vi(this.value)===Vi(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends iT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yr(e,t)}matches(e){return aT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(n){return n.op==="and"}function oT(n){return fR(n)&&aT(n)}function fR(n){for(const e of n.filters)if(e instanceof yr)return!1;return!0}function Ag(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+tl(n.value);if(oT(n))return n.filters.map(e=>Ag(e)).join(",");{const e=n.filters.map(t=>Ag(t)).join(",");return`${n.op}(${e})`}}function lT(n,e){return n instanceof Vt?function(s,a){return a instanceof Vt&&s.op===a.op&&s.field.isEqual(a.field)&&Wr(s.value,a.value)}(n,e):n instanceof yr?function(s,a){return a instanceof yr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,h,p)=>l&&lT(h,a.filters[p]),!0):!1}(n,e):void Ne(19439)}function cT(n){return n instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`}(n):n instanceof yr?function(t){return t.op.toString()+" {"+t.getFilters().map(cT).join(" ,")+"}"}(n):"Filter"}class mR extends Vt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class pR extends Vt{constructor(e,t){super(e,"in",t),this.keys=uT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gR extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=uT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uT(n,e){return(e.arrayValue?.values||[]).map(t=>Ee.fromName(t.referenceValue))}class vR extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fv(t)&&Xc(t.arrayValue,this.value)}}class yR extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xc(this.value.arrayValue,t)}}class _R extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xc(this.value.arrayValue,t)}}class ER extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Xc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t=null,s=[],a=[],l=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=p,this.Te=null}}function g_(n,e=null,t=[],s=[],a=null,l=null,h=null){return new bR(n,e,t,s,a,l,h)}function mv(n){const e=Me(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ag(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>tl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>tl(s)).join(",")),e.Te=t}return e.Te}function pv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!p_(n.startAt,e.startAt)&&p_(n.endAt,e.endAt)}function Cg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t=null,s=[],a=[],l=null,h="F",p=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=p,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TR(n,e,t,s,a,l,h,p){return new ml(n,e,t,s,a,l,h,p)}function gv(n){return new ml(n)}function v_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hT(n){return n.collectionGroup!==null}function Bc(n){const e=Me(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new qt(cn.comparator);return h.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Zc(l,s))}),t.has(cn.keyField().canonicalString())||e.Ie.push(new Zc(cn.keyField(),s))}return e.Ie}function qr(n){const e=Me(n);return e.Ee||(e.Ee=SR(e,Bc(n))),e.Ee}function SR(n,e){if(n.limitType==="F")return g_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Zc(a.field,l)});const t=n.endAt?new jd(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new jd(n.startAt.position,n.startAt.inclusive):null;return g_(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Rg(n,e){const t=n.filters.concat([e]);return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ng(n,e,t){return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mf(n,e){return pv(qr(n),qr(e))&&n.limitType===e.limitType}function dT(n){return`${mv(qr(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>cT(a)).join(", ")}]`),df(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>tl(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>tl(a)).join(",")),`Target(${s})`}(qr(n))}; limitType=${n.limitType})`}function pf(n,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ee.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,a){for(const l of Bc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(h,p,f){const g=m_(h,p,f);return h.inclusive?g<=0:g<0}(s.startAt,Bc(s),a)||s.endAt&&!function(h,p,f){const g=m_(h,p,f);return h.inclusive?g>=0:g>0}(s.endAt,Bc(s),a))}(n,e)}function wR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fT(n){return(e,t)=>{let s=!1;for(const a of Bc(n)){const l=xR(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function xR(n,e,t){const s=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,h,p){const f=h.data.field(l),g=p.data.field(l);return f!==null&&g!==null?el(f,g):Ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Xb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new _t(Ee.comparator);function ks(){return AR}const mT=new _t(Ee.comparator);function Mc(...n){let e=mT;for(const t of n)e=e.insert(t.key,t);return e}function pT(n){let e=mT;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ca(){return Fc()}function gT(){return Fc()}function Fc(){return new Ua(n=>n.toString(),(n,e)=>n.isEqual(e))}const CR=new _t(Ee.comparator),RR=new qt(Ee.comparator);function Ge(...n){let e=RR;for(const t of n)e=e.add(t);return e}const NR=new qt(qe);function IR(){return NR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function vT(n){return{integerValue:""+n}}function DR(n,e){return sR(e)?vT(e):vv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function jR(n,e,t){return n instanceof Od?function(a,l){const h={fields:{[Jb]:{stringValue:Wb},[tT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&dv(l)&&(l=ff(l)),l&&(h.fields[eT]=l),{mapValue:h}}(t,e):n instanceof Wc?_T(n,e):n instanceof Jc?ET(n,e):function(a,l){const h=yT(a,l),p=y_(h)+y_(a.Ae);return xg(h)&&xg(a.Ae)?vT(p):vv(a.serializer,p)}(n,e)}function OR(n,e,t){return n instanceof Wc?_T(n,e):n instanceof Jc?ET(n,e):t}function yT(n,e){return n instanceof Md?function(s){return xg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Od extends gf{}class Wc extends gf{constructor(e){super(),this.elements=e}}function _T(n,e){const t=bT(e);for(const s of n.elements)t.some(a=>Wr(a,s))||t.push(s);return{arrayValue:{values:t}}}class Jc extends gf{constructor(e){super(),this.elements=e}}function ET(n,e){let t=bT(e);for(const s of n.elements)t=t.filter(a=>!Wr(a,s));return{arrayValue:{values:t}}}class Md extends gf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function y_(n){return Ct(n.integerValue||n.doubleValue)}function bT(n){return fv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function MR(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof Wc&&a instanceof Wc||s instanceof Jc&&a instanceof Jc?Jo(s.elements,a.elements,Wr):s instanceof Md&&a instanceof Md?Wr(s.Ae,a.Ae):s instanceof Od&&a instanceof Od}(n.transform,e.transform)}class PR{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function md(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vf{}function TT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yv(n.key,cr.none()):new pu(n.key,n.data,cr.none());{const t=n.data,s=In.empty();let a=new qt(cn.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),a=a.add(l)}return new Bi(n.key,s,new qn(a.toArray()),cr.none())}}function VR(n,e,t){n instanceof pu?function(a,l,h){const p=a.value.clone(),f=E_(a.fieldTransforms,l,h.transformResults);p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Bi?function(a,l,h){if(!md(a.precondition,l))return void l.convertToUnknownDocument(h.version);const p=E_(a.fieldTransforms,l,h.transformResults),f=l.data;f.setAll(ST(a)),f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(n,e,t):function(a,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Hc(n,e,t,s){return n instanceof pu?function(l,h,p,f){if(!md(l.precondition,h))return p;const g=l.value.clone(),y=b_(l.fieldTransforms,f,h);return g.setAll(y),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof Bi?function(l,h,p,f){if(!md(l.precondition,h))return p;const g=b_(l.fieldTransforms,f,h),y=h.data;return y.setAll(ST(l)),y.setAll(g),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,s):function(l,h,p){return md(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p}(n,e,t)}function kR(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=yT(s.transform,a||null);l!=null&&(t===null&&(t=In.empty()),t.set(s.field,l))}return t||null}function __(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Jo(s,a,(l,h)=>MR(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pu extends vf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bi extends vf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ST(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function E_(n,e,t){const s=new Map;nt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,p=e.data.field(l.field);s.set(l.field,OR(h,p,t[a]))}return s}function b_(n,e,t){const s=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);s.set(a.field,jR(l,h,e))}return s}class yv extends vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LR extends vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&VR(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Hc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Hc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=gT();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let p=this.applyToLocalView(h,l.mutatedFields);p=t.has(a.key)?null:p;const f=TT(h,p);f!==null&&s.set(a.key,f),h.isValidDocument()||h.convertToNoDocument(je.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(t,s)=>__(t,s))&&Jo(this.baseMutations,e.baseMutations,(t,s)=>__(t,s))}}class _v{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return CR}();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new _v(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Qe;function FR(n){switch(n){case se.OK:return Ne(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function wT(n){if(n===void 0)return Vs("GRPC error has no .code"),se.UNKNOWN;switch(n){case Mt.OK:return se.OK;case Mt.CANCELLED:return se.CANCELLED;case Mt.UNKNOWN:return se.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return se.INTERNAL;case Mt.UNAVAILABLE:return se.UNAVAILABLE;case Mt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Mt.NOT_FOUND:return se.NOT_FOUND;case Mt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Mt.ABORTED:return se.ABORTED;case Mt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Mt.DATA_LOSS:return se.DATA_LOSS;default:return Ne(39323,{code:n})}}(Qe=Mt||(Mt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Ii([4294967295,4294967295],0);function T_(n){const e=HR().encode(n),t=new Ub;return t.update(e),new Uint8Array(t.digest())}function S_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ii([t,s],0),new Ii([a,l],0)]}class Ev{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(s<0)throw new Pc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ii.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Ii.fromNumber(s)));return a.compare(qR)===1&&(a=new Ii([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=T_(e),[s,a]=S_(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,a,l);if(!this.we(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Ev(l,a,t);return s.forEach(p=>h.insert(p)),h}insert(e){if(this.ge===0)return;const t=T_(e),[s,a]=S_(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,a,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new yf(je.min(),a,new _t(qe),ks(),Ge())}}class gu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new gu(s,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class xT{constructor(e,t){this.targetId=e,this.Ce=t}}class AT{constructor(e,t,s=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class w_{constructor(){this.ve=0,this.Fe=x_(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),s=Ge();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ne(38017,{changeType:l})}}),new gu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=x_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=ed(),this.He=ed(),this.Ye=new _t(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Cg(l))if(s===0){const h=new Ee(l.path);this.et(t,h,vn.newNoDocument(h,je.min()))}else nt(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const p=this.ut(e),f=p?this.ct(p,e,h):1;if(f!==0){this.it(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let h,p;try{h=Pi(s).toUint8Array()}catch(f){if(f instanceof Zb)return Wo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{p=new Ev(h,a,l)}catch(f){return Wo(f instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,h)=>{const p=this.ot(h);if(p){if(l.current&&Cg(p.target)){const f=new Ee(p.target.path);this.It(f).has(h)||this.Et(h,f)||this.et(h,f,vn.newNoDocument(f,e))}l.Be&&(t.set(h,l.ke()),l.qe())}});let s=Ge();this.He.forEach((l,h)=>{let p=!0;h.forEachWhile(f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(l))}),this.je.forEach((l,h)=>h.setReadTime(e));const a=new yf(e,t,this.Ye,this.je,s);return this.je=ks(),this.Je=ed(),this.He=ed(),this.Ye=new _t(qe),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new w_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ed(){return new _t(Ee.comparator)}function x_(){return new _t(Ee.comparator)}const $R={asc:"ASCENDING",desc:"DESCENDING"},KR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YR={and:"AND",or:"OR"};class QR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ig(n,e){return n.useProto3Json||df(e)?e:{value:e}}function Pd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XR(n,e){return Pd(n,e.toTimestamp())}function Gr(n){return nt(!!n,49232),je.fromTimestamp(function(t){const s=Mi(t);return new Oe(s.seconds,s.nanos)}(n))}function bv(n,e){return Dg(n,e).canonicalString()}function Dg(n,e){const t=function(a){return new mt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RT(n){const e=mt.fromString(n);return nt(OT(e),10190,{key:e.toString()}),e}function jg(n,e){return bv(n.databaseId,e.path)}function Jp(n,e){const t=RT(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(IT(t))}function NT(n,e){return bv(n.databaseId,e)}function ZR(n){const e=RT(n);return e.length===4?mt.emptyPath():IT(e)}function Og(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IT(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function A_(n,e,t){return{name:jg(n,e),fields:t.value.mapValue.fields}}function WR(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(nt(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):(nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(g){const y=g.code===void 0?se.UNKNOWN:wT(g.code);return new fe(y,g.message||"")}(h);t=new AT(s,a,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Jp(n,s.document.name),l=Gr(s.document.updateTime),h=s.document.createTime?Gr(s.document.createTime):je.min(),p=new In({mapValue:{fields:s.document.fields}}),f=vn.newFoundDocument(a,l,h,p),g=s.targetIds||[],y=s.removedTargetIds||[];t=new pd(g,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Jp(n,s.document),l=s.readTime?Gr(s.readTime):je.min(),h=vn.newNoDocument(a,l),p=s.removedTargetIds||[];t=new pd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Jp(n,s.document),l=s.removedTargetIds||[];t=new pd([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,h=new BR(a,l),p=s.targetId;t=new xT(p,h)}}return t}function JR(n,e){let t;if(e instanceof pu)t={update:A_(n,e.key,e.value)};else if(e instanceof yv)t={delete:jg(n,e.key)};else if(e instanceof Bi)t={update:A_(n,e.key,e.data),updateMask:lN(e.fieldMask)};else{if(!(e instanceof LR))return Ne(16599,{Vt:e.type});t={verify:jg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const p=h.transform;if(p instanceof Od)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Jc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Md)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:XR(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)}(n,e.precondition)),t}function eN(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map(t=>function(a,l){let h=a.updateTime?Gr(a.updateTime):Gr(l);return h.isEqual(je.min())&&(h=Gr(l)),new PR(h,a.transformResults||[])}(t,e))):[]}function tN(n,e){return{documents:[NT(n,e.path)]}}function nN(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=NT(n,a);const l=function(g){if(g.length!==0)return jT(yr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(y=>function(T){return{field:Fo(T.field),direction:iN(T.dir)}}(y))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Ig(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:a}}function rN(n){let e=ZR(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){nt(s===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(E){const T=DT(E);return T instanceof yr&&oT(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(E){return E.map(T=>function(P){return new Zc(Ho(P.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let p=null;t.limit&&(p=function(E){let T;return T=typeof E=="object"?E.value:E,df(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(E){const T=!!E.before,R=E.values||[];return new jd(R,T)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const T=!E.before,R=E.values||[];return new jd(R,T)}(t.endAt)),TR(e,a,h,l,p,"F",f,g)}function sN(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ho(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ho(t.unaryFilter.field);return Vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ho(t.unaryFilter.field);return Vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ho(t.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(n):n.fieldFilter!==void 0?function(t){return Vt.create(Ho(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yr.create(t.compositeFilter.filters.map(s=>DT(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(t.compositeFilter.op))}(n):Ne(30097,{filter:n})}function iN(n){return $R[n]}function aN(n){return KR[n]}function oN(n){return YR[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return cn.fromServerFormat(n.fieldPath)}function jT(n){return n instanceof Vt?function(t){if(t.op==="=="){if(f_(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(d_(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(f_(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(d_(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:aN(t.op),value:t.value}}}(n):n instanceof yr?function(t){const s=t.getFilters().map(a=>jT(a));return s.length===1?s[0]:{compositeFilter:{op:oN(t.op),filters:s}}}(n):Ne(54877,{filter:n})}function lN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t,s,a,l=je.min(),h=je.min(),p=un.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=f}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.yt=e}}function uN(n){const e=rN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Cn=new dN}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Oi.min())}updateCollectionGroup(e,t,s){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class dN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qt(mt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MT=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(MT,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",fN=1048576;function N_([n,e],[t,s]){const a=qe(n,t);return a===0?qe(e,s):a}class mN{constructor(e){this.Ir=e,this.buffer=new qt(N_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();N_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(R_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fl(t)?me(R_,"Ignoring IndexedDB error during garbage collection: ",t):await dl(t)}await this.Vr(3e5)})}}class gN{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(hf.ce);const s=new mN(t);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(C_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,h,p,f,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,h=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(s=E,p=Date.now(),this.removeTargets(e,s,t))).next(E=>(l=E,f=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(g=Date.now(),zo()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-y}ms
	Determined least recently used ${a} in `+(p-h)+`ms
	Removed ${l} targets in `+(f-p)+`ms
	Removed ${E} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function vN(n,e){return new gN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.changes=new Ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ae.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&Hc(s.mutation,a,qn.empty(),Oe.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ge()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ge()){const a=Ca();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let h=Mc();return l.forEach((p,f)=>{h=h.insert(p,f.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ca();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ge()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,p)=>{t.set(h,p)})})}computeViews(e,t,s,a){let l=ks();const h=Fc(),p=function(){return Fc()}();return t.forEach((f,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Bi)?l=l.insert(g.key,g):y!==void 0?(h.set(g.key,y.mutation.getFieldMask()),Hc(y.mutation,g,y.mutation.getFieldMask(),Oe.now())):h.set(g.key,qn.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((g,y)=>h.set(g,y)),t.forEach((g,y)=>p.set(g,new _N(y,h.get(g)??null))),p))}recalculateAndSaveOverlays(e,t){const s=Fc();let a=new _t((h,p)=>h-p),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const p of h)p.keys().forEach(f=>{const g=t.get(f);if(g===null)return;let y=s.get(f)||qn.empty();y=p.applyToLocalView(g,y),s.set(f,y);const E=(a.get(p.batchId)||Ge()).add(f);a=a.insert(p.batchId,E)})}).next(()=>{const h=[],p=a.getReverseIterator();for(;p.hasNext();){const f=p.getNext(),g=f.key,y=f.value,E=gT();y.forEach(T=>{if(!l.has(T)){const R=TT(t.get(T),s.get(T));R!==null&&E.set(T,R),l=l.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ae.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ae.resolve(Ca());let p=Kc,f=l;return h.next(g=>ae.forEach(g,(y,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{f=f.insert(y,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,f,g,Ge())).next(y=>({batchId:p,changes:pT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(s=>{let a=Mc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let h=Mc();return this.indexManager.getCollectionParents(e,l).next(p=>ae.forEach(p,f=>{const g=function(E,T){return new ml(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(y=>{y.forEach((E,T)=>{h=h.insert(E,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(h=>{l.forEach((f,g)=>{const y=g.getKey();h.get(y)===null&&(h=h.insert(y,vn.newInvalidDocument(y)))});let p=Mc();return h.forEach((f,g)=>{const y=l.get(f);y!==void 0&&Hc(y.mutation,g,qn.empty(),Oe.now()),pf(t,g)&&(p=p.insert(f,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Gr(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:uN(a.bundledQuery),readTime:Gr(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ca();return ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,t,s){const a=Ca(),l=t.length+1,h=new Ee(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const f=p.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&f.largestBatchId>s&&a.set(f.getKey(),f)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new _t((g,y)=>g-y);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Ca(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const p=Ca(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>p.set(g,y)),!(p.size()>=a)););return ae.resolve(p)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new zR(t,s));let l=this.qr.get(t);l===void 0&&(l=Ge(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Qr=new qt(Xt.$r),this.Ur=new qt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Xt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Ee(new mt([])),s=new Xt(t,e),a=new Xt(t,e+1),l=[];return this.Ur.forEachInRange([s,a],h=>{this.Gr(h),l.push(h.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new mt([])),s=new Xt(t,e),a=new Xt(t,e+1);let l=Ge();return this.Ur.forEachInRange([s,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Xt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Xt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new UR(l,t,s,a);this.mutationQueue.push(h);for(const p of a)this.Zr=this.Zr.add(new Xt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?hv:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],h=>{const p=this.Xr(h.Yr);l.push(p)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(qe);return t.forEach(a=>{const l=new Xt(a,0),h=new Xt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],p=>{s=s.add(p.Yr)})}),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ee.isDocumentKey(l)||(l=l.child(""));const h=new Xt(new Ee(l),0);let p=new qt(qe);return this.Zr.forEachWhile(f=>{const g=f.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(p=p.add(f.Yr)),!0)},h),ae.resolve(this.ti(p))}ti(e){const t=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){nt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(t.mutations,a=>{const l=new Xt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Xt(t,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.ri=e,this.docs=function(){return new _t(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ae.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let s=ks();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),ae.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=ks();const h=t.path,p=new Ee(h.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(p);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||eR(JC(y),s)<=0||(a.has(y.key)||pf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Ne(9500)}ii(e,t){return ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new AN(this)}getSize(e){return ae.resolve(this.size)}}class AN extends yN{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.persistence=e,this.si=new Ua(t=>mv(t),pv),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Tv,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,t){return this.si.forEach((s,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach((h,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ae.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ae.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ae.resolve(s)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new SN,this.referenceDelegate=e(this),this.Pi=new CN(this),this.indexManager=new hN,this.remoteDocumentCache=function(a){return new xN(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new cN(t),this.Ii=new bN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new wN(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){me("MemoryPersistence","Starting transaction:",e);const a=new RN(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return ae.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class RN extends nR{constructor(e){super(),this.currentSequenceNumber=e}}class Sv{constructor(e){this.persistence=e,this.Ri=new Tv,this.Vi=null}static mi(e){return new Sv(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,s=>{const a=Ee.fromPath(s);return this.gi(e,a).next(l=>{l||t.removeEntry(a,je.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Vd{constructor(e,t){this.persistence=e,this.pi=new Ua(s=>iR(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=vN(this,t)}static mi(e,t){return new Vd(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ae.forEach(this.pi,(s,a)=>this.br(e,s,a).next(l=>l?ae.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,h=>this.br(e,h,t).next(p=>{p||(s++,l.removeEntry(h,je.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dd(e.data.value)),t}br(e,t,s){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Ge(),a=Ge();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new wv(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return S6()?8:rR(yn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ws(e,t,a,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new NN;return this.Ss(e,t,h).next(p=>{if(l.result=p,this.Vs)return this.bs(e,t,h,p.size)})}).next(()=>l.result)}bs(e,t,s,a){return s.documentReadCount<this.fs?(zo()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(zo()<=He.DEBUG&&me("QueryEngine","Query:",Bo(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(zo()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):ae.resolve())}ys(e,t){if(v_(t))return ae.resolve(null);let s=qr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Ng(t,null,"F"),s=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ge(...l);return this.ps.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,s).next(f=>{const g=this.Ds(t,p);return this.Cs(t,g,h,f.readTime)?this.ys(e,Ng(t,null,"F")):this.vs(e,g,t,f)}))})))}ws(e,t,s,a){return v_(t)||a.isEqual(je.min())?ae.resolve(null):this.ps.getDocuments(e,s).next(l=>{const h=this.Ds(t,l);return this.Cs(t,h,s,a)?ae.resolve(null):(zo()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(t)),this.vs(e,h,t,WC(a,Kc)).next(p=>p))})}Ds(e,t){let s=new qt(fT(e));return t.forEach((a,l)=>{pf(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return zo()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,Oi.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LocalStore",DN=3e8;class jN{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new _t(qe),this.xs=new Ua(l=>mv(l),pv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ON(n,e,t,s){return new jN(n,e,t,s)}async function VT(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],p=[];let f=Ge();for(const g of a){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of l){p.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(s,f).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:p}))})})}function MN(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(p,f,g,y){const E=g.batch,T=E.keys();let R=ae.resolve();return T.forEach(P=>{R=R.next(()=>y.getEntry(f,P)).next(k=>{const O=g.docVersions.get(P);nt(O!==null,48541),k.version.compareTo(O)<0&&(E.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),y.addEntry(k)))})}),R.next(()=>p.mutationQueue.removeMutationBatch(f,E))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let f=Ge();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(f=f.add(p.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function kT(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function PN(n,e){const t=Me(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const p=[];e.targetChanges.forEach((y,E)=>{const T=a.get(E);if(!T)return;p.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,E).next(()=>t.Pi.addMatchingKeys(l,y.addedDocuments,E)));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(un.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(E,R),function(k,O,j){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=DN?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(T,R,y)&&p.push(t.Pi.updateTargetData(l,R))});let f=ks(),g=Ge();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),p.push(VN(l,h,e.documentUpdates).next(y=>{f=y.ks,g=y.qs})),!s.isEqual(je.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next(E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));p.push(y)}return ae.waitFor(p).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,g)).next(()=>f)}).then(l=>(t.Ms=a,l))}function VN(n,e,t){let s=Ge(),a=Ge();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let h=ks();return t.forEach((p,f)=>{const g=l.get(p);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(p)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(p,f.readTime),h=h.insert(p,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),h=h.insert(p,f)):me(xv,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",f.version)}),{ks:h,qs:a}})}function kN(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=hv),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function LN(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Pi.getTargetData(s,e).next(l=>l?(a=l,ae.resolve(a)):t.Pi.allocateTargetId(s).next(h=>(a=new wi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Mg(n,e,t){const s=Me(n),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!fl(h))throw h;me(xv,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function I_(n,e,t){const s=Me(n);let a=je.min(),l=Ge();return s.persistence.runTransaction("Execute query","readwrite",h=>function(f,g,y){const E=Me(f),T=E.xs.get(y);return T!==void 0?ae.resolve(E.Ms.get(T)):E.Pi.getTargetData(g,y)}(s,h,qr(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next(f=>{l=f})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?a:je.min(),t?l:Ge())).next(p=>(UN(s,wR(e),p),{documents:p,Qs:l})))}function UN(n,e,t){let s=n.Os.get(e)||je.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Os.set(e,s)}class D_{constructor(){this.activeTargetIds=IR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zN{constructor(){this.Mo=new D_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="ConnectivityMonitor";class O_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(j_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(j_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function Pg(){return td===null?td=function(){return 268435456+Math.round(2147483648*Math.random())}():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="RestConnection",FN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Id?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const h=Pg(),p=this.zo(e,t.toUriEncodedString());me(eg,`Sending RPC '${e}' ${h}:`,p,s);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:g}=new URL(p),y=cl(g);return this.Jo(e,p,f,s,y).then(E=>(me(eg,`Received RPC '${e}' ${h}: `,E),E),E=>{throw Wo(eg,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",s),E})}Ho(e,t,s,a,l,h){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const s=FN[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class GN extends HN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const h=Pg();return new Promise((p,f)=>{const g=new zb;g.setWithCredentials(!0),g.listenOnce(Bb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hd.NO_ERROR:const E=g.getResponseJson();me(mn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case hd.TIMEOUT:me(mn,`RPC '${e}' ${h} timed out`),f(new fe(se.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:const T=g.getStatus();if(me(mn,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R?.error;if(P&&P.status&&P.message){const k=function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(B)>=0?B:se.UNKNOWN}(P.status);f(new fe(k,P.message))}else f(new fe(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new fe(se.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(mn,`RPC '${e}' ${h} completed.`)}});const y=JSON.stringify(a);me(mn,`RPC '${e}' ${h} sending request:`,a),g.send(t,"POST",y,s,15)})}T_(e,t,s){const a=Pg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=qb(),p=Hb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,s),f.encodeInitMessageHeaders=!0;const y=l.join("");me(mn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const E=h.createWebChannel(y,f);this.I_(E);let T=!1,R=!1;const P=new qN({Yo:O=>{R?me(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(T||(me(mn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),T=!0),me(mn,`RPC '${e}' stream ${a} sending:`,O),E.send(O))},Zo:()=>E.close()}),k=(O,j,B)=>{O.listen(j,F=>{try{B(F)}catch(q){setTimeout(()=>{throw q},0)}})};return k(E,Oc.EventType.OPEN,()=>{R||(me(mn,`RPC '${e}' stream ${a} transport opened.`),P.o_())}),k(E,Oc.EventType.CLOSE,()=>{R||(R=!0,me(mn,`RPC '${e}' stream ${a} transport closed`),P.a_(),this.E_(E))}),k(E,Oc.EventType.ERROR,O=>{R||(R=!0,Wo(mn,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),P.a_(new fe(se.UNAVAILABLE,"The operation could not be completed")))}),k(E,Oc.EventType.MESSAGE,O=>{if(!R){const j=O.data[0];nt(!!j,16349);const B=j,F=B?.error||B[0]?.error;if(F){me(mn,`RPC '${e}' stream ${a} received error:`,F);const q=F.status;let U=function(w){const V=Mt[w];if(V!==void 0)return wT(V)}(q),K=F.message;U===void 0&&(U=se.INTERNAL,K="Unknown error status: "+q+" with message "+F.message),R=!0,P.a_(new fe(U,K)),E.close()}else me(mn,`RPC '${e}' stream ${a} received:`,j),P.u_(j)}}),k(p,Fb.STAT_EVENT,O=>{O.stat===Tg.PROXY?me(mn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Tg.NOPROXY&&me(mn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){return new QR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class UT{constructor(e,t,s,a,l,h,p,f){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===t&&this.G_(s,a)},s=>{e(()=>{const a=new fe(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(me(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $N extends UT{constructor(e,t,s,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=WR(this.serializer,e),s=function(l){if(!("targetChange"in l))return je.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?je.min():h.readTime?Gr(h.readTime):je.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Og(this.serializer),t.addTarget=function(l,h){let p;const f=h.target;if(p=Cg(f)?{documents:tN(l,f)}:{query:nN(l,f).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=CT(l,h.resumeToken);const g=Ig(l,h.expectedCount);g!==null&&(p.expectedCount=g)}else if(h.snapshotVersion.compareTo(je.min())>0){p.readTime=Pd(l,h.snapshotVersion.toTimestamp());const g=Ig(l,h.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=sN(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Og(this.serializer),t.removeTarget=e,this.q_(t)}}class KN extends UT{constructor(e,t,s,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=eN(e.writeResults,e.commitTime),s=Gr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Og(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>JR(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{}class QN extends YN{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Go(e,Dg(t,s),a,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(se.UNKNOWN,l.toString())})}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Ho(e,Dg(t,s),a,h,p,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(se.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class ZN{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{za(this)&&(me(ja,"Restarting streams for network reachability change."),await async function(f){const g=Me(f);g.Ea.add(4),await vu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ef(g)}(this))})}),this.Ra=new XN(s,a)}}async function Ef(n){if(za(n))for(const e of n.da)await e(!0)}async function vu(n){for(const e of n.da)await e(!1)}function zT(n,e){const t=Me(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Nv(t)?Rv(t):pl(t).O_()&&Cv(t,e))}function Av(n,e){const t=Me(n),s=pl(t);t.Ia.delete(e),s.O_()&&BT(t,e),t.Ia.size===0&&(s.O_()?s.L_():za(t)&&t.Ra.set("Unknown"))}function Cv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(n).Y_(e)}function BT(n,e){n.Va.Ue(e),pl(n).Z_(e)}function Rv(n){n.Va=new GR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),pl(n).start(),n.Ra.ua()}function Nv(n){return za(n)&&!pl(n).x_()&&n.Ia.size>0}function za(n){return Me(n).Ea.size===0}function FT(n){n.Va=void 0}async function WN(n){n.Ra.set("Online")}async function JN(n){n.Ia.forEach((e,t)=>{Cv(n,e)})}async function e3(n,e){FT(n),Nv(n)?(n.Ra.ha(e),Rv(n)):n.Ra.set("Unknown")}async function t3(n,e,t){if(n.Ra.set("Online"),e instanceof AT&&e.state===2&&e.cause)try{await async function(a,l){const h=l.cause;for(const p of l.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,h),a.Ia.delete(p),a.Va.removeTarget(p))}(n,e)}catch(s){me(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kd(n,s)}else if(e instanceof pd?n.Va.Ze(e):e instanceof xT?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const s=await kT(n.localStore);t.compareTo(s)>=0&&await function(l,h){const p=l.Va.Tt(h);return p.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(f.resumeToken,h))}}),p.targetMismatches.forEach((f,g)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),BT(l,f);const E=new wi(y.target,f,g,y.sequenceNumber);Cv(l,E)}),l.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(s){me(ja,"Failed to raise snapshot:",s),await kd(n,s)}}async function kd(n,e,t){if(!fl(e))throw e;n.Ea.add(1),await vu(n),n.Ra.set("Offline"),t||(t=()=>kT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me(ja,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ef(n)})}function HT(n,e){return e().catch(t=>kd(n,t,e))}async function bf(n){const e=Me(n),t=ki(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hv;for(;n3(e);)try{const a=await kN(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,r3(e,a)}catch(a){await kd(e,a)}qT(e)&&GT(e)}function n3(n){return za(n)&&n.Ta.length<10}function r3(n,e){n.Ta.push(e);const t=ki(n);t.O_()&&t.X_&&t.ea(e.mutations)}function qT(n){return za(n)&&!ki(n).x_()&&n.Ta.length>0}function GT(n){ki(n).start()}async function s3(n){ki(n).ra()}async function i3(n){const e=ki(n);for(const t of n.Ta)e.ea(t.mutations)}async function a3(n,e,t){const s=n.Ta.shift(),a=_v.from(s,e,t);await HT(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await bf(n)}async function o3(n,e){e&&ki(n).X_&&await async function(s,a){if(function(h){return FR(h)&&h!==se.ABORTED}(a.code)){const l=s.Ta.shift();ki(s).B_(),await HT(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await bf(s)}}(n,e),qT(n)&&GT(n)}async function P_(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),me(ja,"RemoteStore received new credentials");const s=za(t);t.Ea.add(3),await vu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ef(t)}async function l3(n,e){const t=Me(n);e?(t.Ea.delete(2),await Ef(t)):e||(t.Ea.add(2),await vu(t),t.Ra.set("Unknown"))}function pl(n){return n.ma||(n.ma=function(t,s,a){const l=Me(t);return l.sa(),new $N(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:WN.bind(null,n),t_:JN.bind(null,n),r_:e3.bind(null,n),H_:t3.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Nv(n)?Rv(n):n.Ra.set("Unknown")):(await n.ma.stop(),FT(n))})),n.ma}function ki(n){return n.fa||(n.fa=function(t,s,a){const l=Me(t);return l.sa(),new KN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:s3.bind(null,n),r_:o3.bind(null,n),ta:i3.bind(null,n),na:a3.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await bf(n)):(await n.fa.stop(),n.Ta.length>0&&(me(ja,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const h=Date.now()+s,p=new Iv(e,t,h,a,l);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(n,e){if(Vs("AsyncQueue",`${e}: ${n}`),fl(n))return new fe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=Mc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.ga=new _t(Ee.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class rl{constructor(e,t,s,a,l,h,p,f,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const h=[];return t.forEach(p=>{h.push({type:0,doc:p})}),new rl(e,t,Go.emptySet(t),h,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class u3{constructor(){this.queries=k_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Me(t),l=a.queries;a.queries=k_(),l.forEach((h,p)=>{for(const f of p.Sa)f.onError(s)})})(this,new fe(se.ABORTED,"Firestore shutting down"))}}function k_(){return new Ua(n=>dT(n),mf)}async function $T(n,e){const t=Me(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new c3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const p=Dv(h,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(p)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&jv(t)}async function KT(n,e){const t=Me(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function h3(n,e){const t=Me(n);let s=!1;for(const a of e){const l=a.query,h=t.queries.get(l);if(h){for(const p of h.Sa)p.Fa(a)&&(s=!0);h.wa=a}}s&&jv(t)}function d3(n,e,t){const s=Me(n),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function jv(n){n.Ca.forEach(e=>{e.next()})}var Vg,L_;(L_=Vg||(Vg={})).Ma="default",L_.Cache="cache";class YT{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class f3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=fT(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new V_,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,p=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,E)=>{const T=a.get(y),R=pf(this.query,E)?E:null,P=!!T&&this.mutatedKeys.has(T.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let O=!1;T&&R?T.data.isEqual(R.data)?P!==k&&(s.track({type:3,doc:R}),O=!0):this.su(T,R)||(s.track({type:2,doc:R}),O=!0,(f&&this.eu(R,f)>0||g&&this.eu(R,g)<0)&&(p=!0)):!T&&R?(s.track({type:0,doc:R}),O=!0):T&&!R&&(s.track({type:1,doc:T}),O=!0,(f||g)&&(p=!0)),O&&(R?(h=h.add(R),l=k?l.add(y):l.delete(y)):(h=h.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const y=this.query.limitType==="F"?h.last():h.first();h=h.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:h,iu:s,Cs:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((y,E)=>function(R,P){const k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:O})}};return k(R)-k(P)}(y.type,E.type)||this.eu(y.doc,E.doc)),this.ou(s),a=a??!1;const p=t&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,g=f!==this.Za;return this.Za=f,h.length!==0||g?{snapshot:new rl(this.query,e.tu,l,h,e.mutatedKeys,f===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new XT(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new QT(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ov="SyncEngine";class m3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class p3{constructor(e){this.key=e,this.hu=!1}}class g3{constructor(e,t,s,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ua(p=>dT(p),mf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new Tv,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v3(n,e,t=!0){const s=nS(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ZT(s,e,t,!0),a}async function y3(n,e){const t=nS(n);await ZT(t,e,!0,!1)}async function ZT(n,e,t,s){const a=await LN(n.localStore,qr(e)),l=a.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await _3(n,e,l,h==="current",a.resumeToken)),n.isPrimaryClient&&t&&zT(n.remoteStore,a),p}async function _3(n,e,t,s,a){n.pu=(E,T,R)=>async function(k,O,j,B){let F=O.view.ru(j);F.Cs&&(F=await I_(k.localStore,O.query,!1).then(({documents:I})=>O.view.ru(I,F)));const q=B&&B.targetChanges.get(O.targetId),U=B&&B.targetMismatches.get(O.targetId)!=null,K=O.view.applyChanges(F,k.isPrimaryClient,q,U);return z_(k,O.targetId,K.au),K.snapshot}(n,E,T,R);const l=await I_(n.localStore,e,!0),h=new f3(e,l.Qs),p=h.ru(l.documents),f=gu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),g=h.applyChanges(p,n.isPrimaryClient,f);z_(n,t,g.au);const y=new m3(e,t,h);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function E3(n,e,t){const s=Me(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(h=>!mf(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Mg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Av(s.remoteStore,a.targetId),kg(s,a.targetId)}).catch(dl)):(kg(s,a.targetId),await Mg(s.localStore,a.targetId,!0))}async function b3(n,e){const t=Me(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Av(t.remoteStore,s.targetId))}async function T3(n,e,t){const s=N3(n);try{const a=await function(h,p){const f=Me(h),g=Oe.now(),y=p.reduce((R,P)=>R.add(P.key),Ge());let E,T;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=ks(),k=Ge();return f.Ns.getEntries(R,y).next(O=>{P=O,P.forEach((j,B)=>{B.isValidDocument()||(k=k.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,P)).next(O=>{E=O;const j=[];for(const B of p){const F=kR(B,E.get(B.key).overlayedDocument);F!=null&&j.push(new Bi(B.key,F,sT(F.value.mapValue),cr.exists(!0)))}return f.mutationQueue.addMutationBatch(R,g,j,p)}).next(O=>{T=O;const j=O.applyToLocalDocumentSet(E,k);return f.documentOverlayCache.saveOverlays(R,O.batchId,j)})}).then(()=>({batchId:T.batchId,changes:pT(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,p,f){let g=h.Vu[h.currentUser.toKey()];g||(g=new _t(qe)),g=g.insert(p,f),h.Vu[h.currentUser.toKey()]=g}(s,a.batchId,t),await yu(s,a.changes),await bf(s.remoteStore)}catch(a){const l=Dv(a,"Failed to persist write");t.reject(l)}}async function WT(n,e){const t=Me(n);try{const s=await PN(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Au.get(l);h&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?nt(h.hu,14607):a.removedDocuments.size>0&&(nt(h.hu,42227),h.hu=!1))}),await yu(t,s,e)}catch(s){await dl(s)}}function U_(n,e,t){const s=Me(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach((l,h)=>{const p=h.view.va(e);p.snapshot&&a.push(p.snapshot)}),function(h,p){const f=Me(h);f.onlineState=p;let g=!1;f.queries.forEach((y,E)=>{for(const T of E.Sa)T.va(p)&&(g=!0)}),g&&jv(f)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function S3(n,e,t){const s=Me(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let h=new _t(Ee.comparator);h=h.insert(l,vn.newNoDocument(l,je.min()));const p=Ge().add(l),f=new yf(je.min(),new Map,new _t(qe),h,p);await WT(s,f),s.du=s.du.remove(l),s.Au.delete(e),Mv(s)}else await Mg(s.localStore,e,!1).then(()=>kg(s,e,t)).catch(dl)}async function w3(n,e){const t=Me(n),s=e.batch.batchId;try{const a=await MN(t.localStore,e);eS(t,s,null),JT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await yu(t,a)}catch(a){await dl(a)}}async function x3(n,e,t){const s=Me(n);try{const a=await function(h,p){const f=Me(h);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,p).next(E=>(nt(E!==null,37113),y=E.keys(),f.mutationQueue.removeMutationBatch(g,E))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,p)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(s.localStore,e);eS(s,e,t),JT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await yu(s,a)}catch(a){await dl(a)}}function JT(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function eS(n,e,t){const s=Me(n);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function kg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(s=>{n.Ru.containsKey(s)||tS(n,s)})}function tS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Av(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Mv(n))}function z_(n,e,t){for(const s of t)s instanceof QT?(n.Ru.addReference(s.key,e),A3(n,s)):s instanceof XT?(me(Ov,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||tS(n,s.key)):Ne(19791,{wu:s})}function A3(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(me(Ov,"New document in limbo: "+t),n.Eu.add(s),Mv(n))}function Mv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(mt.fromString(e)),s=n.fu.next();n.Au.set(s,new p3(t)),n.du=n.du.insert(t,s),zT(n.remoteStore,new wi(qr(gv(t.path)),s,"TargetPurposeLimboResolution",hf.ce))}}async function yu(n,e,t){const s=Me(n),a=[],l=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((p,f)=>{h.push(s.pu(f,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const y=g?!g.fromCache:t?.targetChanges.get(f.targetId)?.current;s.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(g){a.push(g);const y=wv.As(f.targetId,g);l.push(y)}}))}),await Promise.all(h),s.Pu.H_(a),await async function(f,g){const y=Me(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ae.forEach(g,T=>ae.forEach(T.Es,R=>y.persistence.referenceDelegate.addReference(E,T.targetId,R)).next(()=>ae.forEach(T.ds,R=>y.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))}catch(E){if(!fl(E))throw E;me(xv,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const R=y.Ms.get(T),P=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(P);y.Ms=y.Ms.insert(T,k)}}}(s.localStore,l))}async function C3(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){me(Ov,"User change. New user:",e.toKey());const s=await VT(t.localStore,e);t.currentUser=e,function(l,h){l.mu.forEach(p=>{p.forEach(f=>{f.reject(new fe(se.CANCELLED,h))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(t,s.Ls)}}function R3(n,e){const t=Me(n),s=t.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let a=Ge();const l=t.Iu.get(e);if(!l)return a;for(const h of l){const p=t.Tu.get(h);a=a.unionWith(p.view.nu)}return a}}function nS(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S3.bind(null,e),e.Pu.H_=h3.bind(null,e.eventManager),e.Pu.yu=d3.bind(null,e.eventManager),e}function N3(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x3.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ON(this.persistence,new IN,e.initialUser,this.serializer)}Cu(e){return new PT(Sv.mi,this.serializer)}Du(e){return new zN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class I3 extends Ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nt(this.persistence.referenceDelegate instanceof Vd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pN(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new PT(s=>Vd.mi(s,t),this.serializer)}}class Lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=C3.bind(null,this.syncEngine),await l3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u3}()}createDatastore(e){const t=_f(e.databaseInfo.databaseId),s=function(l){return new GN(l)}(e.databaseInfo);return function(l,h,p,f){return new QN(l,h,p,f)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,h,p){return new ZN(s,a,l,h,p)}(this.localStore,this.datastore,e.asyncQueue,t=>U_(this.syncEngine,t,0),function(){return O_.v()?new O_:new BN}())}createSyncEngine(e,t){return function(a,l,h,p,f,g,y){const E=new g3(a,l,h,p,f,g);return y&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Me(t);me(ja,"RemoteStore shutting down."),s.Ea.add(5),await vu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class D3{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{me(Li,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me(Li,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Dv(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ng(n,e){n.asyncQueue.verifyOperationInProgress(),me(Li,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await VT(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function B_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await j3(n);me(Li,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>P_(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>P_(e.remoteStore,a)),n._onlineComponents=e}async function j3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Li,"Using user provided OfflineComponentProvider");try{await ng(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),await ng(n,new Ld)}}else me(Li,"Using default OfflineComponentProvider"),await ng(n,new I3(void 0));return n._offlineComponents}async function sS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Li,"Using user provided OnlineComponentProvider"),await B_(n,n._uninitializedComponentsProvider._online)):(me(Li,"Using default OnlineComponentProvider"),await B_(n,new Lg))),n._onlineComponents}function O3(n){return sS(n).then(e=>e.syncEngine)}async function iS(n){const e=await sS(n),t=e.eventManager;return t.onListen=v3.bind(null,e.syncEngine),t.onUnlisten=E3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=y3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=b3.bind(null,e.syncEngine),t}function M3(n,e,t={}){const s=new Ns;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,p,f,g){const y=new rS({next:T=>{y.Nu(),h.enqueueAndForget(()=>KT(l,E));const R=T.docs.has(p);!R&&T.fromCache?g.reject(new fe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&f&&f.source==="server"?g.reject(new fe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new YT(gv(p.path),y,{includeMetadataChanges:!0,qa:!0});return $T(l,E)}(await iS(n),n.asyncQueue,e,t,s)),s.promise}function P3(n,e,t={}){const s=new Ns;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,p,f,g){const y=new rS({next:T=>{y.Nu(),h.enqueueAndForget(()=>KT(l,E)),T.fromCache&&f.source==="server"?g.reject(new fe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new YT(p,y,{includeMetadataChanges:!0,qa:!0});return $T(l,E)}(await iS(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firestore.googleapis.com",H_=!0;class q_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oS,this.ssl=H_}else this.host=e.host,this.ssl=e.ssl??H_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fN)throw new fe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BC;switch(s.type){case"firstParty":return new GC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=F_.get(t);s&&(me("ComponentProvider","Removing Datastore"),F_.delete(t),s.terminate())}(this),Promise.resolve()}}function V3(n,e,t,s={}){n=vr(n,Tf);const a=cl(e),l=n._getSettings(),h={...l,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;a&&(Db(`https://${p}`),jb("Firestore",!0)),l.host!==oS&&l.host!==p&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:p,ssl:a,emulatorOptions:s};if(!Na(f,h)&&(n._setSettings(f),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=gn.MOCK_USER;else{g=m6(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new fe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new gn(E)}n._authCredentials=new FC(new $b(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ba(this.firestore,e,this._query)}}class Nt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(mu(t,Nt._jsonSchema))return new Nt(e,s||null,new Ee(mt.fromString(t.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Lt("string",Nt._jsonSchemaVersion),referencePath:Lt("string")};class Di extends Ba{constructor(e,t,s){super(e,t,gv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new Ee(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function Zt(n,e,...t){if(n=Jt(n),Kb("collection","path",e),n instanceof Tf){const s=mt.fromString(e,...t);return r_(s),new Di(n,null,s)}{if(!(n instanceof Nt||n instanceof Di))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(mt.fromString(e,...t));return r_(s),new Di(n.firestore,null,s)}}function kt(n,e,...t){if(n=Jt(n),arguments.length===1&&(e=uv.newId()),Kb("doc","path",e),n instanceof Tf){const s=mt.fromString(e,...t);return n_(s),new Nt(n,null,new Ee(s))}{if(!(n instanceof Nt||n instanceof Di))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(mt.fromString(e,...t));return n_(s),new Nt(n.firestore,n instanceof Di?n.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LT(this,"async_queue_retry"),this._c=()=>{const s=tg();s&&me(G_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=tg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=tg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ns;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;me(G_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",K_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Iv.createAndSchedule(this,e,t,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:K_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function K_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Fa extends Tf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new $_,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function k3(n,e){const t=typeof n=="object"?n:Vb(),s=typeof n=="string"?n:Id,a=lv(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=d6("firestore");l&&V3(a,...l)}return a}function Pv(n){if(n._terminated)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L3(n),n._firestoreClient}function L3(n){const e=n._freezeSettings(),t=function(a,l,h,p){return new lR(a,l,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,aS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new D3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(un.fromBase64String(e))}catch(t){throw new fe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:Lt("string",lr._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(mu(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:Lt("string",$r._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Kr(e.vectorValues);throw new fe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Lt("string",Kr._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=/^__.*__$/;class z3{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new pu(e,this.data,t,this.fieldTransforms)}}class lS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class kv{constructor(e,t,s,a,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cS(this.Ac)&&U3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class B3{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_f(e)}Cc(e,t,s,a=!1){return new kv({Ac:e,methodName:t,Dc:s,path:cn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wf(n){const e=n._freezeSettings(),t=_f(n._databaseId);return new B3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uS(n,e,t,s,a,l={}){const h=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);Lv("Data must be an object, but it was:",h,s);const p=hS(s,h);let f,g;if(l.merge)f=new qn(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const T=Ug(e,E,t);if(!h.contains(T))throw new fe(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);fS(y,T)||y.push(T)}f=new qn(y),g=h.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,g=h.fieldTransforms;return new z3(new In(p),f,g)}class _u extends Vv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _u}}function F3(n,e,t,s){const a=n.Cc(1,e,t);Lv("Data must be an object, but it was:",a,s);const l=[],h=In.empty();zi(s,(f,g)=>{const y=Uv(e,f,t);g=Jt(g);const E=a.yc(y);if(g instanceof _u)l.push(y);else{const T=Eu(g,E);T!=null&&(l.push(y),h.set(y,T))}});const p=new qn(l);return new lS(h,p,a.fieldTransforms)}function H3(n,e,t,s,a,l){const h=n.Cc(1,e,t),p=[Ug(e,s,t)],f=[a];if(l.length%2!=0)throw new fe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)p.push(Ug(e,l[T])),f.push(l[T+1]);const g=[],y=In.empty();for(let T=p.length-1;T>=0;--T)if(!fS(g,p[T])){const R=p[T];let P=f[T];P=Jt(P);const k=h.yc(R);if(P instanceof _u)g.push(R);else{const O=Eu(P,k);O!=null&&(g.push(R),y.set(R,O))}}const E=new qn(g);return new lS(y,E,h.fieldTransforms)}function q3(n,e,t,s=!1){return Eu(t,n.Cc(s?4:3,e))}function Eu(n,e){if(dS(n=Jt(n)))return Lv("Unsupported field value:",e,n),hS(n,e);if(n instanceof Vv)return function(s,a){if(!cS(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const l=[];let h=0;for(const p of s){let f=Eu(p,a.wc(h));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),h++}return{arrayValue:{values:l}}}(n,e)}return function(s,a){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DR(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Oe.fromDate(s);return{timestampValue:Pd(a.serializer,l)}}if(s instanceof Oe){const l=new Oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pd(a.serializer,l)}}if(s instanceof $r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof lr)return{bytesValue:CT(a.serializer,s._byteString)};if(s instanceof Nt){const l=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:bv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Kr)return function(h,p){return{mapValue:{fields:{[nT]:{stringValue:rT},[Dd]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return vv(p.serializer,g)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${uf(s)}`)}(n,e)}function hS(n,e){const t={};return Xb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(n,(s,a)=>{const l=Eu(a,e.mc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function dS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Oe||n instanceof $r||n instanceof lr||n instanceof Nt||n instanceof Vv||n instanceof Kr)}function Lv(n,e,t){if(!dS(t)||!Yb(t)){const s=uf(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Ug(n,e,t){if((e=Jt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return Uv(n,e);throw Ud("Field path arguments must be of type string or ",n,!1,void 0,t)}const G3=new RegExp("[~\\*/\\[\\]]");function Uv(n,e,t){if(e.search(G3)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sf(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ud(n,e,t,s,a){const l=s&&!s.isEmpty(),h=a!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let f="";return(l||h)&&(f+=" (found",l&&(f+=` in field ${s}`),h&&(f+=` in document ${a}`),f+=")"),new fe(se.INVALID_ARGUMENT,p+n+f)}function fS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $3 extends mS{data(){return super.data()}}function xf(n,e){return typeof e=="string"?Uv(n,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zv{}class pS extends zv{}function on(n,e,...t){let s=[];e instanceof zv&&s.push(e),s=s.concat(t),function(l){const h=l.filter(f=>f instanceof Bv).length,p=l.filter(f=>f instanceof Af).length;if(h>1||h>0&&p>0)throw new fe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Af extends pS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Af(e,t,s)}_apply(e){const t=this._parse(e);return gS(e._query,t),new Ba(e.firestore,e.converter,Rg(e._query,t))}_parse(e){const t=wf(e.firestore);return function(l,h,p,f,g,y,E){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Q_(E,y);const P=[];for(const k of E)P.push(Y_(f,l,k));T={arrayValue:{values:P}}}else T=Y_(f,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Q_(E,y),T=q3(p,h,E,y==="in"||y==="not-in");return Vt.create(g,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Nn(n,e,t){const s=e,a=xf("where",n);return Af._create(a,s,t)}class Bv extends zv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bv(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:yr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let h=a;const p=l.getFlattenedFilters();for(const f of p)gS(h,f),h=Rg(h,f)}(e._query,t),new Ba(e.firestore,e.converter,Rg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fv extends pS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fv(e,t)}_apply(e){const t=function(a,l,h){if(a.startAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(l,h)}(e._query,this._field,this._direction);return new Ba(e.firestore,e.converter,function(a,l){const h=a.explicitOrderBy.concat([l]);return new ml(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function xi(n,e="asc"){const t=e,s=xf("orderBy",n);return Fv._create(s,t)}function Y_(n,e,t){if(typeof(t=Jt(t))=="string"){if(t==="")throw new fe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(e)&&t.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(mt.fromString(t));if(!Ee.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h_(n,new Ee(s))}if(t instanceof Nt)return h_(n,t._key);throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(t)}.`)}function Q_(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gS(n,e){const t=function(a,l){for(const h of a)for(const p of h.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Y3{convertValue(e,t="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return zi(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){const t=e.fields?.[Dd].arrayValue?.values?.map(s=>Ct(s.doubleValue));return new Kr(t)}convertGeoPoint(e){return new $r(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ff(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new Oe(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mt.fromString(e);nt(OT(s),9688,{name:e});const a=new Qc(s.get(1),s.get(3)),l=new Ee(s.popFirst(5));return a.isEqual(t)||Vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends mS{constructor(e,t,s,a,l,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(xf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ra._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Lt("string",Ra._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class gd extends Ra{data(e={}){return super.data(e)}}class $o{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new gd(this._firestore,this._userDataWriter,s.key,s,new Vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(p=>{const f=new gd(a._firestore,a._userDataWriter,p.doc.key,p.doc,new Vc(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:f,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(p=>l||p.type!==3).map(p=>{const f=new gd(a._firestore,a._userDataWriter,p.doc.key,p.doc,new Vc(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return p.type!==0&&(g=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),y=h.indexOf(p.doc.key)),{type:Q3(p.type),doc:f,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Q3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n){n=vr(n,Nt);const e=vr(n.firestore,Fa);return M3(Pv(e),n._key).then(t=>X3(e,n,t))}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:Lt("string",$o._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class yS extends Y3{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function Dn(n){n=vr(n,Ba);const e=vr(n.firestore,Fa),t=Pv(e),s=new yS(e);return K3(n._query),P3(t,n._query).then(a=>new $o(e,s,n,a))}function X_(n,e,t){n=vr(n,Nt);const s=vr(n.firestore,Fa),a=vS(n.converter,e);return Nf(s,[uS(wf(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,cr.none())])}function eu(n,e,t,...s){n=vr(n,Nt);const a=vr(n.firestore,Fa),l=wf(a);let h;return h=typeof(e=Jt(e))=="string"||e instanceof Sf?H3(l,"updateDoc",n._key,e,t,s):F3(l,"updateDoc",n._key,e),Nf(a,[h.toMutation(n._key,cr.exists(!0))])}function Cf(n){return Nf(vr(n.firestore,Fa),[new yv(n._key,cr.none())])}function Rf(n,e){const t=vr(n.firestore,Fa),s=kt(n),a=vS(n.converter,e);return Nf(t,[uS(wf(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,cr.exists(!1))]).then(()=>s)}function Nf(n,e){return function(s,a){const l=new Ns;return s.asyncQueue.enqueueAndForget(async()=>T3(await O3(s),a,l)),l.promise}(Pv(n),e)}function X3(n,e,t){const s=t.docs.get(e._key),a=new yS(n);return new Ra(n,a,e._key,s,new Vc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(){return new _u("deleteField")}(function(e,t=!0){(function(a){hl=a})(ul),Zo(new Ia("firestore",(s,{instanceIdentifier:a,options:l})=>{const h=s.getProvider("app").getImmediate(),p=new Fa(new HC(s.getProvider("auth-internal")),new $C(h,s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(g.options.projectId,y)}(h,a),h);return l={useFetchStreams:t,...l},p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),Ni(W2,J2,e),Ni(W2,J2,"esm2020")})();var On=(n=>(n.ADMIN="ADMIN",n.GERENTE="GERENTE",n.ZELADOR="ZELADOR",n))(On||{});const W3=new Date().getFullYear(),_S=({theme:n="light",useGradient:e=!1,gradientColors:t=["#4A00E0","#8E2DE2"],gradientDirection:s="to right",backgroundColor:a=n==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:l=n})=>{const h=n==="dark",p=e?{backgroundImage:`linear-gradient(${s}, ${t[0]}, ${t[1]})`}:{backgroundColor:a},f=h?"#ffffff":"#333333",g=l==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return u.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"1.5rem 1rem"},p),{color:f}),children:[u.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:u.jsx("img",{src:g,alt:"Logo Borderless",style:{height:48,marginBottom:12}})}),u.jsxs("p",{style:{margin:0,fontSize:"1rem",fontWeight:500},children:["Desenvolvido por Borderless © ",W3]})]})},J3=({children:n})=>u.jsx("div",{className:"login-container",children:u.jsx("div",{className:"login-card",children:n})}),ES=({title:n,subtitle:e})=>u.jsxs("div",{className:"login-header",children:[u.jsx("h1",{children:n}),u.jsx("p",{children:e})]}),tu=({loading:n=!1,disabled:e=!1,type:t="button",children:s,onClick:a,className:l="",variant:h="default"})=>u.jsx("button",{className:h==="link"?`link-button ${l}`:`button ${l}`,type:t,disabled:e||n,onClick:a,children:n?"Loading...":s});var bS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Z_=Ai.createContext&&Ai.createContext(bS),eI=["attr","size","title"];function tI(n,e){if(n==null)return{};var t=nI(n,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function nI(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function zd(){return zd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},zd.apply(this,arguments)}function W_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Bd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(t),!0).forEach(function(s){rI(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W_(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function rI(n,e,t){return e=sI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sI(n){var e=iI(n,"string");return typeof e=="symbol"?e:e+""}function iI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TS(n){return n&&n.map((e,t)=>Ai.createElement(e.tag,Bd({key:t},e.attr),TS(e.child)))}function De(n){return e=>Ai.createElement(aI,zd({attr:Bd({},n.attr)},e),TS(n.child))}function aI(n){var e=t=>{var{attr:s,size:a,title:l}=n,h=tI(n,eI),p=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ai.createElement("svg",zd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:f,style:Bd(Bd({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&Ai.createElement("title",null,l),n.children)};return Z_!==void 0?Ai.createElement(Z_.Consumer,null,t=>e(t)):e(bS)}function oI(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function SS(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function lI(n){return De({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(n)}function Ls(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(n)}function Fd(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function Hv(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(n)}function wS(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function nu(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function jn(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function Hd(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function qv(n){return De({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function Wt(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function cI(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function uI(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function Gv(n){return De({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function $v(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function hI(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function _r(n){return De({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function zg(n){return De({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function ru(n){return De({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Ds(n){return De({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function dI(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(n)}function xS(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(n)}function fI(n){return De({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64z"},child:[]}]})(n)}function rg(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function ko(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(n)}function qd(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function If(n){return De({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function sl(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function mI(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(n)}function Oa(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(n)}function pI(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}function Kv(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function AS(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function wn(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(n)}function gI(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(n)}function vI(n){return De({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function il(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function Ui(n){return De({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function Gd(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Yv(n){return De({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(n)}function yI(n){return De({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(n)}function _I(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(n)}function Gn(n){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Bg(n){return De({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function CS(n){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(n)}const EI=({email:n,password:e,onEmailChange:t,onPasswordChange:s,onSubmit:a,loading:l=!1,error:h=""})=>{const[p,f]=A.useState(!1);return u.jsxs("form",{onSubmit:a,children:[u.jsxs("div",{className:"input-with-icon-login",children:[u.jsx("span",{className:"input-icon",children:u.jsx($v,{})}),u.jsx("input",{type:"email",value:n,onChange:g=>t(g.target.value),placeholder:"Email",required:!0})]}),u.jsxs("div",{className:"input-with-icon-login",children:[u.jsx("span",{className:"input-icon",children:u.jsx(qd,{})}),u.jsx("input",{type:p?"text":"password",value:e,onChange:g=>s(g.target.value),placeholder:"Senha",required:!0}),u.jsx("button",{type:"button",className:"eye-button",onClick:()=>f(g=>!g),tabIndex:-1,children:p?u.jsx(ru,{}):u.jsx(zg,{})})]}),h&&u.jsx("div",{className:"error-message",children:h}),u.jsx(tu,{className:"login-button",loading:l,disabled:l,type:"submit",children:l?"Entrando...":"Entrar"})]})},bI=({onRegisterClick:n})=>u.jsx("div",{className:"login-footer",children:u.jsxs("p",{children:["Não tem uma conta?"," ",u.jsx("button",{type:"button",className:"link-button",onClick:n,children:"Cadastre-se"})]})}),J_=()=>{const[n,e]=A.useState(""),[t,s]=A.useState(""),[a,l]=A.useState(!1),[h,p]=A.useState(""),{login:f}=Fs(),{goTo:g}=La(),y=async E=>{E.preventDefault(),l(!0),p("");try{const T=await f(n,t);T.role===On.ZELADOR?g("/dashboard"):T.role===On.ADMIN?p("Área de admin em desenvolvimento. Fale com o suporte."):T.role===On.GERENTE?g("/gerente-dashboard"):p("Perfil não reconhecido. Fale com o suporte.")}catch(T){p("Erro ao fazer login: "+T)}finally{l(!1)}};return u.jsxs("div",{style:{position:"relative",minHeight:"100vh"},children:[u.jsxs(J3,{children:[u.jsx(ES,{title:"Sistema de limpeza e manutenção",subtitle:"Aeroporto Internacional"}),u.jsx(EI,{email:n,password:t,onEmailChange:e,onPasswordChange:s,onSubmit:y,loading:a,error:h}),u.jsx(bI,{onRegisterClick:()=>g("/register")})]}),u.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0},children:u.jsx(_S,{theme:"light",backgroundColor:"transparent",useGradient:!1})})]})},TI=({children:n})=>u.jsx("div",{className:"register-card",children:n});function Ma(n){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(n)}function SI(n,e){if(Ma(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(Ma(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RS(n){var e=SI(n,"string");return Ma(e)=="symbol"?e:e+""}function kc(n,e,t){return(e=RS(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function be(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(t),!0).forEach(function(s){kc(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function wI(n){if(Array.isArray(n))return n}function xI(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,l,h,p=[],f=!0,g=!1;try{if(l=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(s=l.call(t)).done)&&(p.push(s.value),p.length!==e);f=!0);}catch(y){g=!0,a=y}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(g)throw a}}return p}}function Fg(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function NS(n,e){if(n){if(typeof n=="string")return Fg(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fg(n,e):void 0}}function AI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function js(n,e){return wI(n)||xI(n,e)||NS(n,e)||AI()}function CI(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)!==-1)continue;t[s]=n[s]}return t}function qs(n,e){if(n==null)return{};var t,s,a=CI(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)t=l[s],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var RI=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function NI(n){var e=n.defaultInputValue,t=e===void 0?"":e,s=n.defaultMenuIsOpen,a=s===void 0?!1:s,l=n.defaultValue,h=l===void 0?null:l,p=n.inputValue,f=n.menuIsOpen,g=n.onChange,y=n.onInputChange,E=n.onMenuClose,T=n.onMenuOpen,R=n.value,P=qs(n,RI),k=A.useState(p!==void 0?p:t),O=js(k,2),j=O[0],B=O[1],F=A.useState(f!==void 0?f:a),q=js(F,2),U=q[0],K=q[1],I=A.useState(R!==void 0?R:h),w=js(I,2),V=w[0],C=w[1],L=A.useCallback(function(de,Pe){typeof g=="function"&&g(de,Pe),C(de)},[g]),N=A.useCallback(function(de,Pe){var H;typeof y=="function"&&(H=y(de,Pe)),B(H!==void 0?H:de)},[y]),M=A.useCallback(function(){typeof T=="function"&&T(),K(!0)},[T]),Te=A.useCallback(function(){typeof E=="function"&&E(),K(!1)},[E]),Se=p!==void 0?p:j,$=f!==void 0?f:U,le=R!==void 0?R:V;return be(be({},P),{},{inputValue:Se,menuIsOpen:$,onChange:L,onInputChange:N,onMenuClose:Te,onMenuOpen:M,value:le})}function Ae(){return Ae=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Ae.apply(null,arguments)}function II(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tE(n,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,RS(s.key),s)}}function DI(n,e,t){return e&&tE(n.prototype,e),t&&tE(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Hg(n,e){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Hg(n,e)}function jI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Hg(n,e)}function $d(n){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$d(n)}function IS(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IS=function(){return!!n})()}function OI(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function MI(n,e){if(e&&(Ma(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OI(n)}function PI(n){var e=IS();return function(){var t,s=$d(n);if(e){var a=$d(this).constructor;t=Reflect.construct(s,arguments,a)}else t=s.apply(this,arguments);return MI(this,t)}}function VI(n){if(Array.isArray(n))return Fg(n)}function kI(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function LI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qv(n){return VI(n)||kI(n)||NS(n)||LI()}function UI(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function zI(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var BI=function(){function n(t){var s=this;this._insertTag=function(a){var l;s.tags.length===0?s.insertionPoint?l=s.insertionPoint.nextSibling:s.prepend?l=s.container.firstChild:l=s.before:l=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(a,l),s.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(s){s.forEach(this._insertTag)},e.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zI(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var l=UI(a);try{l.insertRule(s,l.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(s));this.ctr++},e.flush=function(){this.tags.forEach(function(s){var a;return(a=s.parentNode)==null?void 0:a.removeChild(s)}),this.tags=[],this.ctr=0},n}(),pn="-ms-",Kd="-moz-",We="-webkit-",DS="comm",Xv="rule",Zv="decl",FI="@import",jS="@keyframes",HI="@layer",qI=Math.abs,Df=String.fromCharCode,GI=Object.assign;function $I(n,e){return ln(n,0)^45?(((e<<2^ln(n,0))<<2^ln(n,1))<<2^ln(n,2))<<2^ln(n,3):0}function OS(n){return n.trim()}function KI(n,e){return(n=e.exec(n))?n[0]:n}function Je(n,e,t){return n.replace(e,t)}function qg(n,e){return n.indexOf(e)}function ln(n,e){return n.charCodeAt(e)|0}function su(n,e,t){return n.slice(e,t)}function Br(n){return n.length}function Wv(n){return n.length}function nd(n,e){return e.push(n),n}function YI(n,e){return n.map(e).join("")}var jf=1,al=1,MS=0,Mn=0,Pt=0,gl="";function Of(n,e,t,s,a,l,h){return{value:n,root:e,parent:t,type:s,props:a,children:l,line:jf,column:al,length:h,return:""}}function Nc(n,e){return GI(Of("",null,null,"",null,null,0),n,{length:-n.length},e)}function QI(){return Pt}function XI(){return Pt=Mn>0?ln(gl,--Mn):0,al--,Pt===10&&(al=1,jf--),Pt}function $n(){return Pt=Mn<MS?ln(gl,Mn++):0,al++,Pt===10&&(al=1,jf++),Pt}function Yr(){return ln(gl,Mn)}function vd(){return Mn}function bu(n,e){return su(gl,n,e)}function iu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PS(n){return jf=al=1,MS=Br(gl=n),Mn=0,[]}function VS(n){return gl="",n}function yd(n){return OS(bu(Mn-1,Gg(n===91?n+2:n===40?n+1:n)))}function ZI(n){for(;(Pt=Yr())&&Pt<33;)$n();return iu(n)>2||iu(Pt)>3?"":" "}function WI(n,e){for(;--e&&$n()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return bu(n,vd()+(e<6&&Yr()==32&&$n()==32))}function Gg(n){for(;$n();)switch(Pt){case n:return Mn;case 34:case 39:n!==34&&n!==39&&Gg(Pt);break;case 40:n===41&&Gg(n);break;case 92:$n();break}return Mn}function JI(n,e){for(;$n()&&n+Pt!==57;)if(n+Pt===84&&Yr()===47)break;return"/*"+bu(e,Mn-1)+"*"+Df(n===47?n:$n())}function eD(n){for(;!iu(Yr());)$n();return bu(n,Mn)}function tD(n){return VS(_d("",null,null,null,[""],n=PS(n),0,[0],n))}function _d(n,e,t,s,a,l,h,p,f){for(var g=0,y=0,E=h,T=0,R=0,P=0,k=1,O=1,j=1,B=0,F="",q=a,U=l,K=s,I=F;O;)switch(P=B,B=$n()){case 40:if(P!=108&&ln(I,E-1)==58){qg(I+=Je(yd(B),"&","&\f"),"&\f")!=-1&&(j=-1);break}case 34:case 39:case 91:I+=yd(B);break;case 9:case 10:case 13:case 32:I+=ZI(P);break;case 92:I+=WI(vd()-1,7);continue;case 47:switch(Yr()){case 42:case 47:nd(nD(JI($n(),vd()),e,t),f);break;default:I+="/"}break;case 123*k:p[g++]=Br(I)*j;case 125*k:case 59:case 0:switch(B){case 0:case 125:O=0;case 59+y:j==-1&&(I=Je(I,/\f/g,"")),R>0&&Br(I)-E&&nd(R>32?rE(I+";",s,t,E-1):rE(Je(I," ","")+";",s,t,E-2),f);break;case 59:I+=";";default:if(nd(K=nE(I,e,t,g,y,a,p,F,q=[],U=[],E),l),B===123)if(y===0)_d(I,e,K,K,q,l,E,p,U);else switch(T===99&&ln(I,3)===110?100:T){case 100:case 108:case 109:case 115:_d(n,K,K,s&&nd(nE(n,K,K,0,0,a,p,F,a,q=[],E),U),a,U,E,p,s?q:U);break;default:_d(I,K,K,K,[""],U,0,p,U)}}g=y=R=0,k=j=1,F=I="",E=h;break;case 58:E=1+Br(I),R=P;default:if(k<1){if(B==123)--k;else if(B==125&&k++==0&&XI()==125)continue}switch(I+=Df(B),B*k){case 38:j=y>0?1:(I+="\f",-1);break;case 44:p[g++]=(Br(I)-1)*j,j=1;break;case 64:Yr()===45&&(I+=yd($n())),T=Yr(),y=E=Br(F=I+=eD(vd())),B++;break;case 45:P===45&&Br(I)==2&&(k=0)}}return l}function nE(n,e,t,s,a,l,h,p,f,g,y){for(var E=a-1,T=a===0?l:[""],R=Wv(T),P=0,k=0,O=0;P<s;++P)for(var j=0,B=su(n,E+1,E=qI(k=h[P])),F=n;j<R;++j)(F=OS(k>0?T[j]+" "+B:Je(B,/&\f/g,T[j])))&&(f[O++]=F);return Of(n,e,t,a===0?Xv:p,f,g,y)}function nD(n,e,t){return Of(n,e,t,DS,Df(QI()),su(n,2,-2),0)}function rE(n,e,t,s){return Of(n,e,t,Zv,su(n,0,s),su(n,s+1,-1),s)}function Ko(n,e){for(var t="",s=Wv(n),a=0;a<s;a++)t+=e(n[a],a,n,e)||"";return t}function rD(n,e,t,s){switch(n.type){case HI:if(n.children.length)break;case FI:case Zv:return n.return=n.return||n.value;case DS:return"";case jS:return n.return=n.value+"{"+Ko(n.children,s)+"}";case Xv:n.value=n.props.join(",")}return Br(t=Ko(n.children,s))?n.return=n.value+"{"+t+"}":""}function sD(n){var e=Wv(n);return function(t,s,a,l){for(var h="",p=0;p<e;p++)h+=n[p](t,s,a,l)||"";return h}}function iD(n){return function(e){e.root||(e=e.return)&&n(e)}}function aD(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var oD=function(e,t,s){for(var a=0,l=0;a=l,l=Yr(),a===38&&l===12&&(t[s]=1),!iu(l);)$n();return bu(e,Mn)},lD=function(e,t){var s=-1,a=44;do switch(iu(a)){case 0:a===38&&Yr()===12&&(t[s]=1),e[s]+=oD(Mn-1,t,s);break;case 2:e[s]+=yd(a);break;case 4:if(a===44){e[++s]=Yr()===58?"&\f":"",t[s]=e[s].length;break}default:e[s]+=Df(a)}while(a=$n());return e},cD=function(e,t){return VS(lD(PS(e),t))},sE=new WeakMap,uD=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,s=e.parent,a=e.column===s.column&&e.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!sE.get(s))&&!a){sE.set(e,!0);for(var l=[],h=cD(t,l),p=s.props,f=0,g=0;f<h.length;f++)for(var y=0;y<p.length;y++,g++)e.props[g]=l[f]?h[f].replace(/&\f/g,p[y]):p[y]+" "+h[f]}}},hD=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function kS(n,e){switch($I(n,e)){case 5103:return We+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return We+n+Kd+n+pn+n+n;case 6828:case 4268:return We+n+pn+n+n;case 6165:return We+n+pn+"flex-"+n+n;case 5187:return We+n+Je(n,/(\w+).+(:[^]+)/,We+"box-$1$2"+pn+"flex-$1$2")+n;case 5443:return We+n+pn+"flex-item-"+Je(n,/flex-|-self/,"")+n;case 4675:return We+n+pn+"flex-line-pack"+Je(n,/align-content|flex-|-self/,"")+n;case 5548:return We+n+pn+Je(n,"shrink","negative")+n;case 5292:return We+n+pn+Je(n,"basis","preferred-size")+n;case 6060:return We+"box-"+Je(n,"-grow","")+We+n+pn+Je(n,"grow","positive")+n;case 4554:return We+Je(n,/([^-])(transform)/g,"$1"+We+"$2")+n;case 6187:return Je(Je(Je(n,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),n,"")+n;case 5495:case 3959:return Je(n,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return Je(Je(n,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+n+n;case 4095:case 3583:case 4068:case 2532:return Je(n,/(.+)-inline(.+)/,We+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Br(n)-1-e>6)switch(ln(n,e+1)){case 109:if(ln(n,e+4)!==45)break;case 102:return Je(n,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+Kd+(ln(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~qg(n,"stretch")?kS(Je(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ln(n,e+1)!==115)break;case 6444:switch(ln(n,Br(n)-3-(~qg(n,"!important")&&10))){case 107:return Je(n,":",":"+We)+n;case 101:return Je(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+We+(ln(n,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+pn+"$2box$3")+n}break;case 5936:switch(ln(n,e+11)){case 114:return We+n+pn+Je(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return We+n+pn+Je(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return We+n+pn+Je(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return We+n+pn+n+n}return n}var dD=function(e,t,s,a){if(e.length>-1&&!e.return)switch(e.type){case Zv:e.return=kS(e.value,e.length);break;case jS:return Ko([Nc(e,{value:Je(e.value,"@","@"+We)})],a);case Xv:if(e.length)return YI(e.props,function(l){switch(KI(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ko([Nc(e,{props:[Je(l,/:(read-\w+)/,":"+Kd+"$1")]})],a);case"::placeholder":return Ko([Nc(e,{props:[Je(l,/:(plac\w+)/,":"+We+"input-$1")]}),Nc(e,{props:[Je(l,/:(plac\w+)/,":"+Kd+"$1")]}),Nc(e,{props:[Je(l,/:(plac\w+)/,pn+"input-$1")]})],a)}return""})}},fD=[dD],mD=function(e){var t=e.key;if(t==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(k){var O=k.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var a=e.stylisPlugins||fD,l={},h,p=[];h=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(k){for(var O=k.getAttribute("data-emotion").split(" "),j=1;j<O.length;j++)l[O[j]]=!0;p.push(k)});var f,g=[uD,hD];{var y,E=[rD,iD(function(k){y.insert(k)})],T=sD(g.concat(a,E)),R=function(O){return Ko(tD(O),T)};f=function(O,j,B,F){y=B,R(O?O+"{"+j.styles+"}":j.styles),F&&(P.inserted[j.name]=!0)}}var P={key:t,sheet:new BI({key:t,container:h,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:f};return P.sheet.hydrate(p),P},sg={exports:{}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function pD(){if(iE)return tt;iE=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,h=n?Symbol.for("react.provider"):60109,p=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,g=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,T=n?Symbol.for("react.suspense_list"):60120,R=n?Symbol.for("react.memo"):60115,P=n?Symbol.for("react.lazy"):60116,k=n?Symbol.for("react.block"):60121,O=n?Symbol.for("react.fundamental"):60117,j=n?Symbol.for("react.responder"):60118,B=n?Symbol.for("react.scope"):60119;function F(U){if(typeof U=="object"&&U!==null){var K=U.$$typeof;switch(K){case e:switch(U=U.type,U){case f:case g:case s:case l:case a:case E:return U;default:switch(U=U&&U.$$typeof,U){case p:case y:case P:case R:case h:return U;default:return K}}case t:return K}}}function q(U){return F(U)===g}return tt.AsyncMode=f,tt.ConcurrentMode=g,tt.ContextConsumer=p,tt.ContextProvider=h,tt.Element=e,tt.ForwardRef=y,tt.Fragment=s,tt.Lazy=P,tt.Memo=R,tt.Portal=t,tt.Profiler=l,tt.StrictMode=a,tt.Suspense=E,tt.isAsyncMode=function(U){return q(U)||F(U)===f},tt.isConcurrentMode=q,tt.isContextConsumer=function(U){return F(U)===p},tt.isContextProvider=function(U){return F(U)===h},tt.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},tt.isForwardRef=function(U){return F(U)===y},tt.isFragment=function(U){return F(U)===s},tt.isLazy=function(U){return F(U)===P},tt.isMemo=function(U){return F(U)===R},tt.isPortal=function(U){return F(U)===t},tt.isProfiler=function(U){return F(U)===l},tt.isStrictMode=function(U){return F(U)===a},tt.isSuspense=function(U){return F(U)===E},tt.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===s||U===g||U===l||U===a||U===E||U===T||typeof U=="object"&&U!==null&&(U.$$typeof===P||U.$$typeof===R||U.$$typeof===h||U.$$typeof===p||U.$$typeof===y||U.$$typeof===O||U.$$typeof===j||U.$$typeof===B||U.$$typeof===k)},tt.typeOf=F,tt}var aE;function gD(){return aE||(aE=1,sg.exports=pD()),sg.exports}var ig,oE;function vD(){if(oE)return ig;oE=1;var n=gD(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=s,l[n.Memo]=a;function h(P){return n.isMemo(P)?a:l[P.$$typeof]||e}var p=Object.defineProperty,f=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,T=Object.prototype;function R(P,k,O){if(typeof k!="string"){if(T){var j=E(k);j&&j!==T&&R(P,j,O)}var B=f(k);g&&(B=B.concat(g(k)));for(var F=h(P),q=h(k),U=0;U<B.length;++U){var K=B[U];if(!t[K]&&!(O&&O[K])&&!(q&&q[K])&&!(F&&F[K])){var I=y(k,K);try{p(P,K,I)}catch{}}}}return P}return ig=R,ig}vD();var yD=!0;function _D(n,e,t){var s="";return t.split(" ").forEach(function(a){n[a]!==void 0?e.push(n[a]+";"):a&&(s+=a+" ")}),s}var LS=function(e,t,s){var a=e.key+"-"+t.name;(s===!1||yD===!1)&&e.registered[a]===void 0&&(e.registered[a]=t.styles)},ED=function(e,t,s){LS(e,t,s);var a=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l=t;do e.insert(t===l?"."+a:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function bD(n){for(var e=0,t,s=0,a=n.length;a>=4;++s,a-=4)t=n.charCodeAt(s)&255|(n.charCodeAt(++s)&255)<<8|(n.charCodeAt(++s)&255)<<16|(n.charCodeAt(++s)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(s+2)&255)<<16;case 2:e^=(n.charCodeAt(s+1)&255)<<8;case 1:e^=n.charCodeAt(s)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var TD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},SD=/[A-Z]|^ms/g,wD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,US=function(e){return e.charCodeAt(1)===45},lE=function(e){return e!=null&&typeof e!="boolean"},ag=aD(function(n){return US(n)?n:n.replace(SD,"-$&").toLowerCase()}),cE=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(wD,function(s,a,l){return Fr={name:a,styles:l,next:Fr},a})}return TD[e]!==1&&!US(e)&&typeof t=="number"&&t!==0?t+"px":t};function au(n,e,t){if(t==null)return"";var s=t;if(s.__emotion_styles!==void 0)return s;switch(typeof t){case"boolean":return"";case"object":{var a=t;if(a.anim===1)return Fr={name:a.name,styles:a.styles,next:Fr},a.name;var l=t;if(l.styles!==void 0){var h=l.next;if(h!==void 0)for(;h!==void 0;)Fr={name:h.name,styles:h.styles,next:Fr},h=h.next;var p=l.styles+";";return p}return xD(n,e,t)}case"function":{if(n!==void 0){var f=Fr,g=t(n);return Fr=f,au(n,e,g)}break}}var y=t;return y}function xD(n,e,t){var s="";if(Array.isArray(t))for(var a=0;a<t.length;a++)s+=au(n,e,t[a])+";";else for(var l in t){var h=t[l];if(typeof h!="object"){var p=h;lE(p)&&(s+=ag(l)+":"+cE(l,p)+";")}else if(Array.isArray(h)&&typeof h[0]=="string"&&e==null)for(var f=0;f<h.length;f++)lE(h[f])&&(s+=ag(l)+":"+cE(l,h[f])+";");else{var g=au(n,e,h);switch(l){case"animation":case"animationName":{s+=ag(l)+":"+g+";";break}default:s+=l+"{"+g+"}"}}}return s}var uE=/label:\s*([^\s;{]+)\s*(;|$)/g,Fr;function zS(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var s=!0,a="";Fr=void 0;var l=n[0];if(l==null||l.raw===void 0)s=!1,a+=au(t,e,l);else{var h=l;a+=h[0]}for(var p=1;p<n.length;p++)if(a+=au(t,e,n[p]),s){var f=l;a+=f[p]}uE.lastIndex=0;for(var g="",y;(y=uE.exec(a))!==null;)g+="-"+y[1];var E=bD(a)+g;return{name:E,styles:a,next:Fr}}var AD=function(e){return e()},CD=R2.useInsertionEffect?R2.useInsertionEffect:!1,RD=CD||AD,BS=A.createContext(typeof HTMLElement<"u"?mD({key:"css"}):null);BS.Provider;var ND=function(e){return A.forwardRef(function(t,s){var a=A.useContext(BS);return e(t,a,s)})},ID=A.createContext({}),Jv={}.hasOwnProperty,$g="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",DD=function(e,t){var s={};for(var a in t)Jv.call(t,a)&&(s[a]=t[a]);return s[$g]=e,s},jD=function(e){var t=e.cache,s=e.serialized,a=e.isStringTag;return LS(t,s,a),RD(function(){return ED(t,s,a)}),null},OD=ND(function(n,e,t){var s=n.css;typeof s=="string"&&e.registered[s]!==void 0&&(s=e.registered[s]);var a=n[$g],l=[s],h="";typeof n.className=="string"?h=_D(e.registered,l,n.className):n.className!=null&&(h=n.className+" ");var p=zS(l,void 0,A.useContext(ID));h+=e.key+"-"+p.name;var f={};for(var g in n)Jv.call(n,g)&&g!=="css"&&g!==$g&&(f[g]=n[g]);return f.className=h,t&&(f.ref=t),A.createElement(A.Fragment,null,A.createElement(jD,{cache:e,serialized:p,isStringTag:typeof a=="string"}),A.createElement(a,f))}),MD=OD,_e=function(e,t){var s=arguments;if(t==null||!Jv.call(t,"css"))return A.createElement.apply(void 0,s);var a=s.length,l=new Array(a);l[0]=MD,l[1]=DD(e,t);for(var h=2;h<a;h++)l[h]=s[h];return A.createElement.apply(null,l)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(_e||(_e={}));function ey(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return zS(e)}function PD(){var n=ey.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function VD(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const kD=Math.min,LD=Math.max,Yd=Math.round,rd=Math.floor,Qd=n=>({x:n,y:n});function UD(n){const{x:e,y:t,width:s,height:a}=n;return{width:s,height:a,top:t,left:e,right:e+s,bottom:t+a,x:e,y:t}}function Mf(){return typeof window<"u"}function FS(n){return qS(n)?(n.nodeName||"").toLowerCase():"#document"}function Us(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function HS(n){var e;return(e=(qS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function qS(n){return Mf()?n instanceof Node||n instanceof Us(n).Node:!1}function zD(n){return Mf()?n instanceof Element||n instanceof Us(n).Element:!1}function ty(n){return Mf()?n instanceof HTMLElement||n instanceof Us(n).HTMLElement:!1}function hE(n){return!Mf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Us(n).ShadowRoot}const BD=new Set(["inline","contents"]);function GS(n){const{overflow:e,overflowX:t,overflowY:s,display:a}=ny(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!BD.has(a)}function FD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HD=new Set(["html","body","#document"]);function qD(n){return HD.has(FS(n))}function ny(n){return Us(n).getComputedStyle(n)}function GD(n){if(FS(n)==="html")return n;const e=n.assignedSlot||n.parentNode||hE(n)&&n.host||HS(n);return hE(e)?e.host:e}function $S(n){const e=GD(n);return qD(e)?n.ownerDocument?n.ownerDocument.body:n.body:ty(e)&&GS(e)?e:$S(e)}function Xd(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=$S(n),l=a===((s=n.ownerDocument)==null?void 0:s.body),h=Us(a);if(l){const p=Kg(h);return e.concat(h,h.visualViewport||[],GS(a)?a:[],p&&t?Xd(p):[])}return e.concat(a,Xd(a,[],t))}function Kg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function $D(n){const e=ny(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=ty(n),l=a?n.offsetWidth:t,h=a?n.offsetHeight:s,p=Yd(t)!==l||Yd(s)!==h;return p&&(t=l,s=h),{width:t,height:s,$:p}}function ry(n){return zD(n)?n:n.contextElement}function dE(n){const e=ry(n);if(!ty(e))return Qd(1);const t=e.getBoundingClientRect(),{width:s,height:a,$:l}=$D(e);let h=(l?Yd(t.width):t.width)/s,p=(l?Yd(t.height):t.height)/a;return(!h||!Number.isFinite(h))&&(h=1),(!p||!Number.isFinite(p))&&(p=1),{x:h,y:p}}const KD=Qd(0);function YD(n){const e=Us(n);return!FD()||!e.visualViewport?KD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function QD(n,e,t){return!1}function fE(n,e,t,s){e===void 0&&(e=!1);const a=n.getBoundingClientRect(),l=ry(n);let h=Qd(1);e&&(h=dE(n));const p=QD()?YD(l):Qd(0);let f=(a.left+p.x)/h.x,g=(a.top+p.y)/h.y,y=a.width/h.x,E=a.height/h.y;if(l){const T=Us(l),R=s;let P=T,k=Kg(P);for(;k&&s&&R!==P;){const O=dE(k),j=k.getBoundingClientRect(),B=ny(k),F=j.left+(k.clientLeft+parseFloat(B.paddingLeft))*O.x,q=j.top+(k.clientTop+parseFloat(B.paddingTop))*O.y;f*=O.x,g*=O.y,y*=O.x,E*=O.y,f+=F,g+=q,P=Us(k),k=Kg(P)}}return UD({width:y,height:E,x:f,y:g})}function KS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function XD(n,e){let t=null,s;const a=HS(n);function l(){var p;clearTimeout(s),(p=t)==null||p.disconnect(),t=null}function h(p,f){p===void 0&&(p=!1),f===void 0&&(f=1),l();const g=n.getBoundingClientRect(),{left:y,top:E,width:T,height:R}=g;if(p||e(),!T||!R)return;const P=rd(E),k=rd(a.clientWidth-(y+T)),O=rd(a.clientHeight-(E+R)),j=rd(y),F={rootMargin:-P+"px "+-k+"px "+-O+"px "+-j+"px",threshold:LD(0,kD(1,f))||1};let q=!0;function U(K){const I=K[0].intersectionRatio;if(I!==f){if(!q)return h();I?h(!1,I):s=setTimeout(()=>{h(!1,1e-7)},1e3)}I===1&&!KS(g,n.getBoundingClientRect())&&h(),q=!1}try{t=new IntersectionObserver(U,{...F,root:a.ownerDocument})}catch{t=new IntersectionObserver(U,F)}t.observe(n)}return h(!0),l}function ZD(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,g=ry(n),y=a||l?[...g?Xd(g):[],...Xd(e)]:[];y.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),l&&j.addEventListener("resize",t)});const E=g&&p?XD(g,t):null;let T=-1,R=null;h&&(R=new ResizeObserver(j=>{let[B]=j;B&&B.target===g&&R&&(R.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var F;(F=R)==null||F.observe(e)})),t()}),g&&!f&&R.observe(g),R.observe(e));let P,k=f?fE(n):null;f&&O();function O(){const j=fE(n);k&&!KS(k,j)&&t(),k=j,P=requestAnimationFrame(O)}return t(),()=>{var j;y.forEach(B=>{a&&B.removeEventListener("scroll",t),l&&B.removeEventListener("resize",t)}),E?.(),(j=R)==null||j.disconnect(),R=null,f&&cancelAnimationFrame(P)}}var Yg=A.useLayoutEffect,WD=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Zd=function(){};function JD(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function e5(n,e){for(var t=arguments.length,s=new Array(t>2?t-2:0),a=2;a<t;a++)s[a-2]=arguments[a];var l=[].concat(s);if(e&&n)for(var h in e)e.hasOwnProperty(h)&&e[h]&&l.push("".concat(JD(n,h)));return l.filter(function(p){return p}).map(function(p){return String(p).trim()}).join(" ")}var mE=function(e){return c5(e)?e.filter(Boolean):Ma(e)==="object"&&e!==null?[e]:[]},YS=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=qs(e,WD);return be({},t)},St=function(e,t,s){var a=e.cx,l=e.getStyles,h=e.getClassNames,p=e.className;return{css:l(t,e),className:a(s??{},h(t,e),p)}};function Pf(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function t5(n){return Pf(n)?window.innerHeight:n.clientHeight}function QS(n){return Pf(n)?window.pageYOffset:n.scrollTop}function Wd(n,e){if(Pf(n)){window.scrollTo(0,e);return}n.scrollTop=e}function n5(n){var e=getComputedStyle(n),t=e.position==="absolute",s=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=n;a=a.parentElement;)if(e=getComputedStyle(a),!(t&&e.position==="static")&&s.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function r5(n,e,t,s){return t*((n=n/s-1)*n*n+1)+e}function sd(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Zd,a=QS(n),l=e-a,h=10,p=0;function f(){p+=h;var g=r5(p,a,l,t);Wd(n,g),p<t?window.requestAnimationFrame(f):s(n)}f()}function pE(n,e){var t=n.getBoundingClientRect(),s=e.getBoundingClientRect(),a=e.offsetHeight/3;s.bottom+a>t.bottom?Wd(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+a,n.scrollHeight)):s.top-a<t.top&&Wd(n,Math.max(e.offsetTop-a,0))}function s5(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function gE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function i5(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var XS=!1,a5={get passive(){return XS=!0}},id=typeof window<"u"?window:{};id.addEventListener&&id.removeEventListener&&(id.addEventListener("p",Zd,a5),id.removeEventListener("p",Zd,!1));var o5=XS;function l5(n){return n!=null}function c5(n){return Array.isArray(n)}function ad(n,e,t){return n?e:t}var u5=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];var l=Object.entries(e).filter(function(h){var p=js(h,1),f=p[0];return!s.includes(f)});return l.reduce(function(h,p){var f=js(p,2),g=f[0],y=f[1];return h[g]=y,h},{})},h5=["children","innerProps"],d5=["children","innerProps"];function f5(n){var e=n.maxHeight,t=n.menuEl,s=n.minHeight,a=n.placement,l=n.shouldScroll,h=n.isFixedPosition,p=n.controlHeight,f=n5(t),g={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return g;var y=f.getBoundingClientRect(),E=y.height,T=t.getBoundingClientRect(),R=T.bottom,P=T.height,k=T.top,O=t.offsetParent.getBoundingClientRect(),j=O.top,B=h?window.innerHeight:t5(f),F=QS(f),q=parseInt(getComputedStyle(t).marginBottom,10),U=parseInt(getComputedStyle(t).marginTop,10),K=j-U,I=B-k,w=K+F,V=E-F-k,C=R-B+F+q,L=F+k-U,N=160;switch(a){case"auto":case"bottom":if(I>=P)return{placement:"bottom",maxHeight:e};if(V>=P&&!h)return l&&sd(f,C,N),{placement:"bottom",maxHeight:e};if(!h&&V>=s||h&&I>=s){l&&sd(f,C,N);var M=h?I-q:V-q;return{placement:"bottom",maxHeight:M}}if(a==="auto"||h){var Te=e,Se=h?K:w;return Se>=s&&(Te=Math.min(Se-q-p,e)),{placement:"top",maxHeight:Te}}if(a==="bottom")return l&&Wd(f,C),{placement:"bottom",maxHeight:e};break;case"top":if(K>=P)return{placement:"top",maxHeight:e};if(w>=P&&!h)return l&&sd(f,L,N),{placement:"top",maxHeight:e};if(!h&&w>=s||h&&K>=s){var $=e;return(!h&&w>=s||h&&K>=s)&&($=h?K-U:w-U),l&&sd(f,L,N),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return g}function m5(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var ZS=function(e){return e==="auto"?"bottom":e},p5=function(e,t){var s,a=e.placement,l=e.theme,h=l.borderRadius,p=l.spacing,f=l.colors;return be((s={label:"menu"},kc(s,m5(a),"100%"),kc(s,"position","absolute"),kc(s,"width","100%"),kc(s,"zIndex",1),s),t?{}:{backgroundColor:f.neutral0,borderRadius:h,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:p.menuGutter,marginTop:p.menuGutter})},WS=A.createContext(null),g5=function(e){var t=e.children,s=e.minMenuHeight,a=e.maxMenuHeight,l=e.menuPlacement,h=e.menuPosition,p=e.menuShouldScrollIntoView,f=e.theme,g=A.useContext(WS)||{},y=g.setPortalPlacement,E=A.useRef(null),T=A.useState(a),R=js(T,2),P=R[0],k=R[1],O=A.useState(null),j=js(O,2),B=j[0],F=j[1],q=f.spacing.controlHeight;return Yg(function(){var U=E.current;if(U){var K=h==="fixed",I=p&&!K,w=f5({maxHeight:a,menuEl:U,minHeight:s,placement:l,shouldScroll:I,isFixedPosition:K,controlHeight:q});k(w.maxHeight),F(w.placement),y?.(w.placement)}},[a,l,h,p,s,y,q]),t({ref:E,placerProps:be(be({},e),{},{placement:B||ZS(l),maxHeight:P})})},v5=function(e){var t=e.children,s=e.innerRef,a=e.innerProps;return _e("div",Ae({},St(e,"menu",{menu:!0}),{ref:s},a),t)},y5=v5,_5=function(e,t){var s=e.maxHeight,a=e.theme.spacing.baseUnit;return be({maxHeight:s,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:a,paddingTop:a})},E5=function(e){var t=e.children,s=e.innerProps,a=e.innerRef,l=e.isMulti;return _e("div",Ae({},St(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:a},s),t)},JS=function(e,t){var s=e.theme,a=s.spacing.baseUnit,l=s.colors;return be({textAlign:"center"},t?{}:{color:l.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},b5=JS,T5=JS,S5=function(e){var t=e.children,s=t===void 0?"No options":t,a=e.innerProps,l=qs(e,h5);return _e("div",Ae({},St(be(be({},l),{},{children:s,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),s)},w5=function(e){var t=e.children,s=t===void 0?"Loading...":t,a=e.innerProps,l=qs(e,d5);return _e("div",Ae({},St(be(be({},l),{},{children:s,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),s)},x5=function(e){var t=e.rect,s=e.offset,a=e.position;return{left:t.left,position:a,top:s,width:t.width,zIndex:1}},A5=function(e){var t=e.appendTo,s=e.children,a=e.controlElement,l=e.innerProps,h=e.menuPlacement,p=e.menuPosition,f=A.useRef(null),g=A.useRef(null),y=A.useState(ZS(h)),E=js(y,2),T=E[0],R=E[1],P=A.useMemo(function(){return{setPortalPlacement:R}},[]),k=A.useState(null),O=js(k,2),j=O[0],B=O[1],F=A.useCallback(function(){if(a){var I=s5(a),w=p==="fixed"?0:window.pageYOffset,V=I[T]+w;(V!==j?.offset||I.left!==j?.rect.left||I.width!==j?.rect.width)&&B({offset:V,rect:I})}},[a,p,T,j?.offset,j?.rect.left,j?.rect.width]);Yg(function(){F()},[F]);var q=A.useCallback(function(){typeof g.current=="function"&&(g.current(),g.current=null),a&&f.current&&(g.current=ZD(a,f.current,F,{elementResize:"ResizeObserver"in window}))},[a,F]);Yg(function(){q()},[q]);var U=A.useCallback(function(I){f.current=I,q()},[q]);if(!t&&p!=="fixed"||!j)return null;var K=_e("div",Ae({ref:U},St(be(be({},e),{},{offset:j.offset,position:p,rect:j.rect}),"menuPortal",{"menu-portal":!0}),l),s);return _e(WS.Provider,{value:P},t?r6.createPortal(K,t):K)},C5=function(e){var t=e.isDisabled,s=e.isRtl;return{label:"container",direction:s?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},R5=function(e){var t=e.children,s=e.innerProps,a=e.isDisabled,l=e.isRtl;return _e("div",Ae({},St(e,"container",{"--is-disabled":a,"--is-rtl":l}),s),t)},N5=function(e,t){var s=e.theme.spacing,a=e.isMulti,l=e.hasValue,h=e.selectProps.controlShouldRenderValue;return be({alignItems:"center",display:a&&l&&h?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px")})},I5=function(e){var t=e.children,s=e.innerProps,a=e.isMulti,l=e.hasValue;return _e("div",Ae({},St(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l}),s),t)},D5=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},j5=function(e){var t=e.children,s=e.innerProps;return _e("div",Ae({},St(e,"indicatorsContainer",{indicators:!0}),s),t)},vE,O5=["size"],M5=["innerProps","isRtl","size"],P5={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},e4=function(e){var t=e.size,s=qs(e,O5);return _e("svg",Ae({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:P5},s))},sy=function(e){return _e(e4,Ae({size:20},e),_e("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},t4=function(e){return _e(e4,Ae({size:20},e),_e("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},n4=function(e,t){var s=e.isFocused,a=e.theme,l=a.spacing.baseUnit,h=a.colors;return be({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:s?h.neutral60:h.neutral20,padding:l*2,":hover":{color:s?h.neutral80:h.neutral40}})},V5=n4,k5=function(e){var t=e.children,s=e.innerProps;return _e("div",Ae({},St(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),s),t||_e(t4,null))},L5=n4,U5=function(e){var t=e.children,s=e.innerProps;return _e("div",Ae({},St(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),s),t||_e(sy,null))},z5=function(e,t){var s=e.isDisabled,a=e.theme,l=a.spacing.baseUnit,h=a.colors;return be({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:s?h.neutral10:h.neutral20,marginBottom:l*2,marginTop:l*2})},B5=function(e){var t=e.innerProps;return _e("span",Ae({},t,St(e,"indicatorSeparator",{"indicator-separator":!0})))},F5=PD(vE||(vE=VD([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),H5=function(e,t){var s=e.isFocused,a=e.size,l=e.theme,h=l.colors,p=l.spacing.baseUnit;return be({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},t?{}:{color:s?h.neutral60:h.neutral20,padding:p*2})},og=function(e){var t=e.delay,s=e.offset;return _e("span",{css:ey({animation:"".concat(F5," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:s?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},q5=function(e){var t=e.innerProps,s=e.isRtl,a=e.size,l=a===void 0?4:a,h=qs(e,M5);return _e("div",Ae({},St(be(be({},h),{},{innerProps:t,isRtl:s,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),_e(og,{delay:0,offset:s}),_e(og,{delay:160,offset:!0}),_e(og,{delay:320,offset:!s}))},G5=function(e,t){var s=e.isDisabled,a=e.isFocused,l=e.theme,h=l.colors,p=l.borderRadius,f=l.spacing;return be({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:s?h.neutral5:h.neutral0,borderColor:s?h.neutral10:a?h.primary:h.neutral20,borderRadius:p,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(h.primary):void 0,"&:hover":{borderColor:a?h.primary:h.neutral30}})},$5=function(e){var t=e.children,s=e.isDisabled,a=e.isFocused,l=e.innerRef,h=e.innerProps,p=e.menuIsOpen;return _e("div",Ae({ref:l},St(e,"control",{control:!0,"control--is-disabled":s,"control--is-focused":a,"control--menu-is-open":p}),h,{"aria-disabled":s||void 0}),t)},K5=$5,Y5=["data"],Q5=function(e,t){var s=e.theme.spacing;return t?{}:{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},X5=function(e){var t=e.children,s=e.cx,a=e.getStyles,l=e.getClassNames,h=e.Heading,p=e.headingProps,f=e.innerProps,g=e.label,y=e.theme,E=e.selectProps;return _e("div",Ae({},St(e,"group",{group:!0}),f),_e(h,Ae({},p,{selectProps:E,theme:y,getStyles:a,getClassNames:l,cx:s}),g),_e("div",null,t))},Z5=function(e,t){var s=e.theme,a=s.colors,l=s.spacing;return be({label:"group",cursor:"default",display:"block"},t?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},W5=function(e){var t=YS(e);t.data;var s=qs(t,Y5);return _e("div",Ae({},St(e,"groupHeading",{"group-heading":!0}),s))},J5=X5,ej=["innerRef","isDisabled","isHidden","inputClassName"],tj=function(e,t){var s=e.isDisabled,a=e.value,l=e.theme,h=l.spacing,p=l.colors;return be(be({visibility:s?"hidden":"visible",transform:a?"translateZ(0)":""},nj),t?{}:{margin:h.baseUnit/2,paddingBottom:h.baseUnit/2,paddingTop:h.baseUnit/2,color:p.neutral80})},r4={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},nj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":be({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},r4)},rj=function(e){return be({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},r4)},sj=function(e){var t=e.cx,s=e.value,a=YS(e),l=a.innerRef,h=a.isDisabled,p=a.isHidden,f=a.inputClassName,g=qs(a,ej);return _e("div",Ae({},St(e,"input",{"input-container":!0}),{"data-value":s||""}),_e("input",Ae({className:t({input:!0},f),ref:l,style:rj(p),disabled:h},g)))},ij=sj,aj=function(e,t){var s=e.theme,a=s.spacing,l=s.borderRadius,h=s.colors;return be({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:h.neutral10,borderRadius:l/2,margin:a.baseUnit/2})},oj=function(e,t){var s=e.theme,a=s.borderRadius,l=s.colors,h=e.cropWithEllipsis;return be({overflow:"hidden",textOverflow:h||h===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:a/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},lj=function(e,t){var s=e.theme,a=s.spacing,l=s.borderRadius,h=s.colors,p=e.isFocused;return be({alignItems:"center",display:"flex"},t?{}:{borderRadius:l/2,backgroundColor:p?h.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:h.dangerLight,color:h.danger}})},s4=function(e){var t=e.children,s=e.innerProps;return _e("div",s,t)},cj=s4,uj=s4;function hj(n){var e=n.children,t=n.innerProps;return _e("div",Ae({role:"button"},t),e||_e(sy,{size:14}))}var dj=function(e){var t=e.children,s=e.components,a=e.data,l=e.innerProps,h=e.isDisabled,p=e.removeProps,f=e.selectProps,g=s.Container,y=s.Label,E=s.Remove;return _e(g,{data:a,innerProps:be(be({},St(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":h})),l),selectProps:f},_e(y,{data:a,innerProps:be({},St(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},t),_e(E,{data:a,innerProps:be(be({},St(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},p),selectProps:f}))},fj=dj,mj=function(e,t){var s=e.isDisabled,a=e.isFocused,l=e.isSelected,h=e.theme,p=h.spacing,f=h.colors;return be({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:l?f.primary:a?f.primary25:"transparent",color:s?f.neutral20:l?f.neutral0:"inherit",padding:"".concat(p.baseUnit*2,"px ").concat(p.baseUnit*3,"px"),":active":{backgroundColor:s?void 0:l?f.primary:f.primary50}})},pj=function(e){var t=e.children,s=e.isDisabled,a=e.isFocused,l=e.isSelected,h=e.innerRef,p=e.innerProps;return _e("div",Ae({},St(e,"option",{option:!0,"option--is-disabled":s,"option--is-focused":a,"option--is-selected":l}),{ref:h,"aria-disabled":s},p),t)},gj=pj,vj=function(e,t){var s=e.theme,a=s.spacing,l=s.colors;return be({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:l.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},yj=function(e){var t=e.children,s=e.innerProps;return _e("div",Ae({},St(e,"placeholder",{placeholder:!0}),s),t)},_j=yj,Ej=function(e,t){var s=e.isDisabled,a=e.theme,l=a.spacing,h=a.colors;return be({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:s?h.neutral40:h.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},bj=function(e){var t=e.children,s=e.isDisabled,a=e.innerProps;return _e("div",Ae({},St(e,"singleValue",{"single-value":!0,"single-value--is-disabled":s}),a),t)},Tj=bj,Sj={ClearIndicator:U5,Control:K5,DropdownIndicator:k5,DownChevron:t4,CrossIcon:sy,Group:J5,GroupHeading:W5,IndicatorsContainer:j5,IndicatorSeparator:B5,Input:ij,LoadingIndicator:q5,Menu:y5,MenuList:E5,MenuPortal:A5,LoadingMessage:w5,NoOptionsMessage:S5,MultiValue:fj,MultiValueContainer:cj,MultiValueLabel:uj,MultiValueRemove:hj,Option:gj,Placeholder:_j,SelectContainer:R5,SingleValue:Tj,ValueContainer:I5},wj=function(e){return be(be({},Sj),e.components)},yE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function xj(n,e){return!!(n===e||yE(n)&&yE(e))}function Aj(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!xj(n[t],e[t]))return!1;return!0}function Cj(n,e){e===void 0&&(e=Aj);var t=null;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(t&&t.lastThis===this&&e(a,t.lastArgs))return t.lastResult;var h=n.apply(this,a);return t={lastResult:h,lastArgs:a,lastThis:this},h}return s.clear=function(){t=null},s}var Rj={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Nj=function(e){return _e("span",Ae({css:Rj},e))},_E=Nj,Ij={guidance:function(e){var t=e.isSearchable,s=e.isMulti,a=e.tabSelectsValue,l=e.context,h=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return h?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(s?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,s=e.label,a=s===void 0?"":s,l=e.labels,h=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return h?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var t=e.context,s=e.focused,a=e.options,l=e.label,h=l===void 0?"":l,p=e.selectValue,f=e.isDisabled,g=e.isSelected,y=e.isAppleDevice,E=function(k,O){return k&&k.length?"".concat(k.indexOf(O)+1," of ").concat(k.length):""};if(t==="value"&&p)return"value ".concat(h," focused, ").concat(E(p,s),".");if(t==="menu"&&y){var T=f?" disabled":"",R="".concat(g?" selected":"").concat(T);return"".concat(h).concat(R,", ").concat(E(a,s),".")}return""},onFilter:function(e){var t=e.inputValue,s=e.resultsMessage;return"".concat(s).concat(t?" for search term "+t:"",".")}},Dj=function(e){var t=e.ariaSelection,s=e.focusedOption,a=e.focusedValue,l=e.focusableOptions,h=e.isFocused,p=e.selectValue,f=e.selectProps,g=e.id,y=e.isAppleDevice,E=f.ariaLiveMessages,T=f.getOptionLabel,R=f.inputValue,P=f.isMulti,k=f.isOptionDisabled,O=f.isSearchable,j=f.menuIsOpen,B=f.options,F=f.screenReaderStatus,q=f.tabSelectsValue,U=f.isLoading,K=f["aria-label"],I=f["aria-live"],w=A.useMemo(function(){return be(be({},Ij),E||{})},[E]),V=A.useMemo(function(){var Se="";if(t&&w.onChange){var $=t.option,le=t.options,de=t.removedValue,Pe=t.removedValues,H=t.value,Q=function(Fe){return Array.isArray(Fe)?null:Fe},ce=de||$||Q(H),oe=ce?T(ce):"",pe=le||Pe||void 0,Ce=pe?pe.map(T):[],ve=be({isDisabled:ce&&k(ce,p),label:oe,labels:Ce},t);Se=w.onChange(ve)}return Se},[t,w,k,p,T]),C=A.useMemo(function(){var Se="",$=s||a,le=!!(s&&p&&p.includes(s));if($&&w.onFocus){var de={focused:$,label:T($),isDisabled:k($,p),isSelected:le,options:l,context:$===s?"menu":"value",selectValue:p,isAppleDevice:y};Se=w.onFocus(de)}return Se},[s,a,T,k,w,l,p,y]),L=A.useMemo(function(){var Se="";if(j&&B.length&&!U&&w.onFilter){var $=F({count:l.length});Se=w.onFilter({inputValue:R,resultsMessage:$})}return Se},[l,R,j,w,B,F,U]),N=t?.action==="initial-input-focus",M=A.useMemo(function(){var Se="";if(w.guidance){var $=a?"value":j?"menu":"input";Se=w.guidance({"aria-label":K,context:$,isDisabled:s&&k(s,p),isMulti:P,isSearchable:O,tabSelectsValue:q,isInitialFocus:N})}return Se},[K,s,a,P,k,O,j,w,p,q,N]),Te=_e(A.Fragment,null,_e("span",{id:"aria-selection"},V),_e("span",{id:"aria-focused"},C),_e("span",{id:"aria-results"},L),_e("span",{id:"aria-guidance"},M));return _e(A.Fragment,null,_e(_E,{id:g},N&&Te),_e(_E,{"aria-live":I,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},h&&!N&&Te))},jj=Dj,Qg=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Oj=new RegExp("["+Qg.map(function(n){return n.letters}).join("")+"]","g"),i4={};for(var lg=0;lg<Qg.length;lg++)for(var cg=Qg[lg],ug=0;ug<cg.letters.length;ug++)i4[cg.letters[ug]]=cg.base;var a4=function(e){return e.replace(Oj,function(t){return i4[t]})},Mj=Cj(a4),EE=function(e){return e.replace(/^\s+|\s+$/g,"")},Pj=function(e){return"".concat(e.label," ").concat(e.value)},Vj=function(e){return function(t,s){if(t.data.__isNew__)return!0;var a=be({ignoreCase:!0,ignoreAccents:!0,stringify:Pj,trim:!0,matchFrom:"any"},e),l=a.ignoreCase,h=a.ignoreAccents,p=a.stringify,f=a.trim,g=a.matchFrom,y=f?EE(s):s,E=f?EE(p(t)):p(t);return l&&(y=y.toLowerCase(),E=E.toLowerCase()),h&&(y=Mj(y),E=a4(E)),g==="start"?E.substr(0,y.length)===y:E.indexOf(y)>-1}},kj=["innerRef"];function Lj(n){var e=n.innerRef,t=qs(n,kj),s=u5(t,"onExited","in","enter","exit","appear");return _e("input",Ae({ref:e},s,{css:ey({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Uj=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function zj(n){var e=n.isEnabled,t=n.onBottomArrive,s=n.onBottomLeave,a=n.onTopArrive,l=n.onTopLeave,h=A.useRef(!1),p=A.useRef(!1),f=A.useRef(0),g=A.useRef(null),y=A.useCallback(function(O,j){if(g.current!==null){var B=g.current,F=B.scrollTop,q=B.scrollHeight,U=B.clientHeight,K=g.current,I=j>0,w=q-U-F,V=!1;w>j&&h.current&&(s&&s(O),h.current=!1),I&&p.current&&(l&&l(O),p.current=!1),I&&j>w?(t&&!h.current&&t(O),K.scrollTop=q,V=!0,h.current=!0):!I&&-j>F&&(a&&!p.current&&a(O),K.scrollTop=0,V=!0,p.current=!0),V&&Uj(O)}},[t,s,a,l]),E=A.useCallback(function(O){y(O,O.deltaY)},[y]),T=A.useCallback(function(O){f.current=O.changedTouches[0].clientY},[]),R=A.useCallback(function(O){var j=f.current-O.changedTouches[0].clientY;y(O,j)},[y]),P=A.useCallback(function(O){if(O){var j=o5?{passive:!1}:!1;O.addEventListener("wheel",E,j),O.addEventListener("touchstart",T,j),O.addEventListener("touchmove",R,j)}},[R,T,E]),k=A.useCallback(function(O){O&&(O.removeEventListener("wheel",E,!1),O.removeEventListener("touchstart",T,!1),O.removeEventListener("touchmove",R,!1))},[R,T,E]);return A.useEffect(function(){if(e){var O=g.current;return P(O),function(){k(O)}}},[e,P,k]),function(O){g.current=O}}var bE=["boxSizing","height","overflow","paddingRight","position"],TE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function SE(n){n.cancelable&&n.preventDefault()}function wE(n){n.stopPropagation()}function xE(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function AE(){return"ontouchstart"in window||navigator.maxTouchPoints}var CE=!!(typeof window<"u"&&window.document&&window.document.createElement),Ic=0,Lo={capture:!1,passive:!1};function Bj(n){var e=n.isEnabled,t=n.accountForScrollbars,s=t===void 0?!0:t,a=A.useRef({}),l=A.useRef(null),h=A.useCallback(function(f){if(CE){var g=document.body,y=g&&g.style;if(s&&bE.forEach(function(P){var k=y&&y[P];a.current[P]=k}),s&&Ic<1){var E=parseInt(a.current.paddingRight,10)||0,T=document.body?document.body.clientWidth:0,R=window.innerWidth-T+E||0;Object.keys(TE).forEach(function(P){var k=TE[P];y&&(y[P]=k)}),y&&(y.paddingRight="".concat(R,"px"))}g&&AE()&&(g.addEventListener("touchmove",SE,Lo),f&&(f.addEventListener("touchstart",xE,Lo),f.addEventListener("touchmove",wE,Lo))),Ic+=1}},[s]),p=A.useCallback(function(f){if(CE){var g=document.body,y=g&&g.style;Ic=Math.max(Ic-1,0),s&&Ic<1&&bE.forEach(function(E){var T=a.current[E];y&&(y[E]=T)}),g&&AE()&&(g.removeEventListener("touchmove",SE,Lo),f&&(f.removeEventListener("touchstart",xE,Lo),f.removeEventListener("touchmove",wE,Lo)))}},[s]);return A.useEffect(function(){if(e){var f=l.current;return h(f),function(){p(f)}}},[e,h,p]),function(f){l.current=f}}var Fj=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Hj={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function qj(n){var e=n.children,t=n.lockEnabled,s=n.captureEnabled,a=s===void 0?!0:s,l=n.onBottomArrive,h=n.onBottomLeave,p=n.onTopArrive,f=n.onTopLeave,g=zj({isEnabled:a,onBottomArrive:l,onBottomLeave:h,onTopArrive:p,onTopLeave:f}),y=Bj({isEnabled:t}),E=function(R){g(R),y(R)};return _e(A.Fragment,null,t&&_e("div",{onClick:Fj,css:Hj}),e(E))}var Gj={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},$j=function(e){var t=e.name,s=e.onFocus;return _e("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:s,css:Gj,value:"",onChange:function(){}})},Kj=$j;function iy(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Yj(){return iy(/^iPhone/i)}function o4(){return iy(/^Mac/i)}function Qj(){return iy(/^iPad/i)||o4()&&navigator.maxTouchPoints>1}function Xj(){return Yj()||Qj()}function Zj(){return o4()||Xj()}var Wj=function(e){return e.label},Jj=function(e){return e.label},e8=function(e){return e.value},t8=function(e){return!!e.isDisabled},n8={clearIndicator:L5,container:C5,control:G5,dropdownIndicator:V5,group:Q5,groupHeading:Z5,indicatorsContainer:D5,indicatorSeparator:z5,input:tj,loadingIndicator:H5,loadingMessage:T5,menu:p5,menuList:_5,menuPortal:x5,multiValue:aj,multiValueLabel:oj,multiValueRemove:lj,noOptionsMessage:b5,option:mj,placeholder:vj,singleValue:Ej,valueContainer:N5},r8={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},s8=4,l4=4,i8=38,a8=l4*2,o8={baseUnit:l4,controlHeight:i8,menuGutter:a8},hg={borderRadius:s8,colors:r8,spacing:o8},l8={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:gE(),captureMenuScroll:!gE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Vj(),formatGroupLabel:Wj,getOptionLabel:Jj,getOptionValue:e8,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:t8,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!i5(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function RE(n,e,t,s){var a=h4(n,e,t),l=d4(n,e,t),h=u4(n,e),p=Jd(n,e);return{type:"option",data:e,isDisabled:a,isSelected:l,label:h,value:p,index:s}}function Ed(n,e){return n.options.map(function(t,s){if("options"in t){var a=t.options.map(function(h,p){return RE(n,h,e,p)}).filter(function(h){return IE(n,h)});return a.length>0?{type:"group",data:t,options:a,index:s}:void 0}var l=RE(n,t,e,s);return IE(n,l)?l:void 0}).filter(l5)}function c4(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Qv(t.options.map(function(s){return s.data}))):e.push(t.data),e},[])}function NE(n,e){return n.reduce(function(t,s){return s.type==="group"?t.push.apply(t,Qv(s.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(s.index,"-").concat(a.index)}}))):t.push({data:s.data,id:"".concat(e,"-").concat(s.index)}),t},[])}function c8(n,e){return c4(Ed(n,e))}function IE(n,e){var t=n.inputValue,s=t===void 0?"":t,a=e.data,l=e.isSelected,h=e.label,p=e.value;return(!m4(n)||!l)&&f4(n,{label:h,value:p,data:a},s)}function u8(n,e){var t=n.focusedValue,s=n.selectValue,a=s.indexOf(t);if(a>-1){var l=e.indexOf(t);if(l>-1)return t;if(a<e.length)return e[a]}return null}function h8(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var dg=function(e,t){var s,a=(s=e.find(function(l){return l.data===t}))===null||s===void 0?void 0:s.id;return a||null},u4=function(e,t){return e.getOptionLabel(t)},Jd=function(e,t){return e.getOptionValue(t)};function h4(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function d4(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var s=Jd(n,e);return t.some(function(a){return Jd(n,a)===s})}function f4(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var m4=function(e){var t=e.hideSelectedOptions,s=e.isMulti;return t===void 0?s:t},d8=1,p4=function(n){jI(t,n);var e=PI(t);function t(s){var a;if(II(this,t),a=e.call(this,s),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(f){a.controlRef=f},a.focusedOptionRef=null,a.getFocusedOptionRef=function(f){a.focusedOptionRef=f},a.menuListRef=null,a.getMenuListRef=function(f){a.menuListRef=f},a.inputRef=null,a.getInputRef=function(f){a.inputRef=f},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(f,g){var y=a.props,E=y.onChange,T=y.name;g.name=T,a.ariaOnChange(f,g),E(f,g)},a.setValue=function(f,g,y){var E=a.props,T=E.closeMenuOnSelect,R=E.isMulti,P=E.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:P}),T&&(a.setState({inputIsHiddenAfterUpdate:!R}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(f,{action:g,option:y})},a.selectOption=function(f){var g=a.props,y=g.blurInputOnSelect,E=g.isMulti,T=g.name,R=a.state.selectValue,P=E&&a.isOptionSelected(f,R),k=a.isOptionDisabled(f,R);if(P){var O=a.getOptionValue(f);a.setValue(R.filter(function(j){return a.getOptionValue(j)!==O}),"deselect-option",f)}else if(!k)E?a.setValue([].concat(Qv(R),[f]),"select-option",f):a.setValue(f,"select-option");else{a.ariaOnChange(f,{action:"select-option",option:f,name:T});return}y&&a.blurInput()},a.removeValue=function(f){var g=a.props.isMulti,y=a.state.selectValue,E=a.getOptionValue(f),T=y.filter(function(P){return a.getOptionValue(P)!==E}),R=ad(g,T,T[0]||null);a.onChange(R,{action:"remove-value",removedValue:f}),a.focusInput()},a.clearValue=function(){var f=a.state.selectValue;a.onChange(ad(a.props.isMulti,[],null),{action:"clear",removedValues:f})},a.popValue=function(){var f=a.props.isMulti,g=a.state.selectValue,y=g[g.length-1],E=g.slice(0,g.length-1),T=ad(f,E,E[0]||null);y&&a.onChange(T,{action:"pop-value",removedValue:y})},a.getFocusedOptionId=function(f){return dg(a.state.focusableOptionsWithIds,f)},a.getFocusableOptionsWithIds=function(){return NE(Ed(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];return e5.apply(void 0,[a.props.classNamePrefix].concat(g))},a.getOptionLabel=function(f){return u4(a.props,f)},a.getOptionValue=function(f){return Jd(a.props,f)},a.getStyles=function(f,g){var y=a.props.unstyled,E=n8[f](g,y);E.boxSizing="border-box";var T=a.props.styles[f];return T?T(E,g):E},a.getClassNames=function(f,g){var y,E;return(y=(E=a.props.classNames)[f])===null||y===void 0?void 0:y.call(E,g)},a.getElementId=function(f){return"".concat(a.state.instancePrefix,"-").concat(f)},a.getComponents=function(){return wj(a.props)},a.buildCategorizedOptions=function(){return Ed(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return c4(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(f,g){a.setState({ariaSelection:be({value:f},g)})},a.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(f){a.blockOptionHover=!1},a.onControlMouseDown=function(f){if(!f.defaultPrevented){var g=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&a.onMenuClose():g&&a.openMenu("first"):(g&&(a.openAfterFocus=!0),a.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},a.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!a.props.isDisabled){var g=a.props,y=g.isMulti,E=g.menuIsOpen;a.focusInput(),E?(a.setState({inputIsHiddenAfterUpdate:!y}),a.onMenuClose()):a.openMenu("first"),f.preventDefault()}},a.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(a.clearValue(),f.preventDefault(),a.openAfterFocus=!1,f.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(f){typeof a.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&Pf(f.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(f)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(f){var g=f.touches,y=g&&g.item(0);y&&(a.initialTouchX=y.clientX,a.initialTouchY=y.clientY,a.userIsDragging=!1)},a.onTouchMove=function(f){var g=f.touches,y=g&&g.item(0);if(y){var E=Math.abs(y.clientX-a.initialTouchX),T=Math.abs(y.clientY-a.initialTouchY),R=5;a.userIsDragging=E>R||T>R}},a.onTouchEnd=function(f){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(f.target)&&a.menuListRef&&!a.menuListRef.contains(f.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(f){a.userIsDragging||a.onControlMouseDown(f)},a.onClearIndicatorTouchEnd=function(f){a.userIsDragging||a.onClearIndicatorMouseDown(f)},a.onDropdownIndicatorTouchEnd=function(f){a.userIsDragging||a.onDropdownIndicatorMouseDown(f)},a.handleInputChange=function(f){var g=a.props.inputValue,y=f.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(y,{action:"input-change",prevInputValue:g}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(f){a.props.onFocus&&a.props.onFocus(f),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(f){var g=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(f),a.onInputChange("",{action:"input-blur",prevInputValue:g}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(f){if(!(a.blockOptionHover||a.state.focusedOption===f)){var g=a.getFocusableOptions(),y=g.indexOf(f);a.setState({focusedOption:f,focusedOptionId:y>-1?a.getFocusedOptionId(f):null})}},a.shouldHideSelectedOptions=function(){return m4(a.props)},a.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),a.focus()},a.onKeyDown=function(f){var g=a.props,y=g.isMulti,E=g.backspaceRemovesValue,T=g.escapeClearsValue,R=g.inputValue,P=g.isClearable,k=g.isDisabled,O=g.menuIsOpen,j=g.onKeyDown,B=g.tabSelectsValue,F=g.openMenuOnFocus,q=a.state,U=q.focusedOption,K=q.focusedValue,I=q.selectValue;if(!k&&!(typeof j=="function"&&(j(f),f.defaultPrevented))){switch(a.blockOptionHover=!0,f.key){case"ArrowLeft":if(!y||R)return;a.focusValue("previous");break;case"ArrowRight":if(!y||R)return;a.focusValue("next");break;case"Delete":case"Backspace":if(R)return;if(K)a.removeValue(K);else{if(!E)return;y?a.popValue():P&&a.clearValue()}break;case"Tab":if(a.isComposing||f.shiftKey||!O||!B||!U||F&&a.isOptionSelected(U,I))return;a.selectOption(U);break;case"Enter":if(f.keyCode===229)break;if(O){if(!U||a.isComposing)return;a.selectOption(U);break}return;case"Escape":O?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:R}),a.onMenuClose()):P&&T&&a.clearValue();break;case" ":if(R)return;if(!O){a.openMenu("first");break}if(!U)return;a.selectOption(U);break;case"ArrowUp":O?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":O?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!O)return;a.focusOption("pageup");break;case"PageDown":if(!O)return;a.focusOption("pagedown");break;case"Home":if(!O)return;a.focusOption("first");break;case"End":if(!O)return;a.focusOption("last");break;default:return}f.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++d8),a.state.selectValue=mE(s.value),s.menuIsOpen&&a.state.selectValue.length){var l=a.getFocusableOptionsWithIds(),h=a.buildFocusableOptions(),p=h.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=l,a.state.focusedOption=h[p],a.state.focusedOptionId=dg(l,h[p])}return a}return DI(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&pE(this.menuListRef,this.focusedOptionRef),Zj()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var l=this.props,h=l.isDisabled,p=l.menuIsOpen,f=this.state.isFocused;(f&&!h&&a.isDisabled||f&&p&&!a.menuIsOpen)&&this.focusInput(),f&&h&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!h&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(pE(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,l){this.props.onInputChange(a,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var l=this,h=this.state,p=h.selectValue,f=h.isFocused,g=this.buildFocusableOptions(),y=a==="first"?0:g.length-1;if(!this.props.isMulti){var E=g.indexOf(p[0]);E>-1&&(y=E)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:g[y],focusedOptionId:this.getFocusedOptionId(g[y])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(a){var l=this.state,h=l.selectValue,p=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=h.indexOf(p);p||(f=-1);var g=h.length-1,y=-1;if(h.length){switch(a){case"previous":f===0?y=0:f===-1?y=g:y=f-1;break;case"next":f>-1&&f<g&&(y=f+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:h[y]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,h=this.state.focusedOption,p=this.getFocusableOptions();if(p.length){var f=0,g=p.indexOf(h);h||(g=-1),a==="up"?f=g>0?g-1:p.length-1:a==="down"?f=(g+1)%p.length:a==="pageup"?(f=g-l,f<0&&(f=0)):a==="pagedown"?(f=g+l,f>p.length-1&&(f=p.length-1)):a==="last"&&(f=p.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:p[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(p[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(hg):be(be({},hg),this.props.theme):hg}},{key:"getCommonProps",value:function(){var a=this.clearValue,l=this.cx,h=this.getStyles,p=this.getClassNames,f=this.getValue,g=this.selectOption,y=this.setValue,E=this.props,T=E.isMulti,R=E.isRtl,P=E.options,k=this.hasValue();return{clearValue:a,cx:l,getStyles:h,getClassNames:p,getValue:f,hasValue:k,isMulti:T,isRtl:R,options:P,selectOption:g,selectProps:E,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,l=a.isClearable,h=a.isMulti;return l===void 0?h:l}},{key:"isOptionDisabled",value:function(a,l){return h4(this.props,a,l)}},{key:"isOptionSelected",value:function(a,l){return d4(this.props,a,l)}},{key:"filterOption",value:function(a,l){return f4(this.props,a,l)}},{key:"formatOptionLabel",value:function(a,l){if(typeof this.props.formatOptionLabel=="function"){var h=this.props.inputValue,p=this.state.selectValue;return this.props.formatOptionLabel(a,{context:l,inputValue:h,selectValue:p})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,l=a.isDisabled,h=a.isSearchable,p=a.inputId,f=a.inputValue,g=a.tabIndex,y=a.form,E=a.menuIsOpen,T=a.required,R=this.getComponents(),P=R.Input,k=this.state,O=k.inputIsHidden,j=k.ariaSelection,B=this.commonProps,F=p||this.getElementId("input"),q=be(be(be({"aria-autocomplete":"list","aria-expanded":E,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":T,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},E&&{"aria-controls":this.getElementId("listbox")}),!h&&{"aria-readonly":!0}),this.hasValue()?j?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return h?A.createElement(P,Ae({},B,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:F,innerRef:this.getInputRef,isDisabled:l,isHidden:O,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:g,form:y,type:"text",value:f},q)):A.createElement(Lj,Ae({id:F,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Zd,onFocus:this.onInputFocus,disabled:l,tabIndex:g,inputMode:"none",form:y,value:""},q))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,l=this.getComponents(),h=l.MultiValue,p=l.MultiValueContainer,f=l.MultiValueLabel,g=l.MultiValueRemove,y=l.SingleValue,E=l.Placeholder,T=this.commonProps,R=this.props,P=R.controlShouldRenderValue,k=R.isDisabled,O=R.isMulti,j=R.inputValue,B=R.placeholder,F=this.state,q=F.selectValue,U=F.focusedValue,K=F.isFocused;if(!this.hasValue()||!P)return j?null:A.createElement(E,Ae({},T,{key:"placeholder",isDisabled:k,isFocused:K,innerProps:{id:this.getElementId("placeholder")}}),B);if(O)return q.map(function(w,V){var C=w===U,L="".concat(a.getOptionLabel(w),"-").concat(a.getOptionValue(w));return A.createElement(h,Ae({},T,{components:{Container:p,Label:f,Remove:g},isFocused:C,isDisabled:k,key:L,index:V,removeProps:{onClick:function(){return a.removeValue(w)},onTouchEnd:function(){return a.removeValue(w)},onMouseDown:function(M){M.preventDefault()}},data:w}),a.formatOptionLabel(w,"value"))});if(j)return null;var I=q[0];return A.createElement(y,Ae({},T,{data:I,isDisabled:k}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),l=a.ClearIndicator,h=this.commonProps,p=this.props,f=p.isDisabled,g=p.isLoading,y=this.state.isFocused;if(!this.isClearable()||!l||f||!this.hasValue()||g)return null;var E={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(l,Ae({},h,{innerProps:E,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),l=a.LoadingIndicator,h=this.commonProps,p=this.props,f=p.isDisabled,g=p.isLoading,y=this.state.isFocused;if(!l||!g)return null;var E={"aria-hidden":"true"};return A.createElement(l,Ae({},h,{innerProps:E,isDisabled:f,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),l=a.DropdownIndicator,h=a.IndicatorSeparator;if(!l||!h)return null;var p=this.commonProps,f=this.props.isDisabled,g=this.state.isFocused;return A.createElement(h,Ae({},p,{isDisabled:f,isFocused:g}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),l=a.DropdownIndicator;if(!l)return null;var h=this.commonProps,p=this.props.isDisabled,f=this.state.isFocused,g={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(l,Ae({},h,{innerProps:g,isDisabled:p,isFocused:f}))}},{key:"renderMenu",value:function(){var a=this,l=this.getComponents(),h=l.Group,p=l.GroupHeading,f=l.Menu,g=l.MenuList,y=l.MenuPortal,E=l.LoadingMessage,T=l.NoOptionsMessage,R=l.Option,P=this.commonProps,k=this.state.focusedOption,O=this.props,j=O.captureMenuScroll,B=O.inputValue,F=O.isLoading,q=O.loadingMessage,U=O.minMenuHeight,K=O.maxMenuHeight,I=O.menuIsOpen,w=O.menuPlacement,V=O.menuPosition,C=O.menuPortalTarget,L=O.menuShouldBlockScroll,N=O.menuShouldScrollIntoView,M=O.noOptionsMessage,Te=O.onMenuScrollToTop,Se=O.onMenuScrollToBottom;if(!I)return null;var $=function(oe,pe){var Ce=oe.type,ve=oe.data,ht=oe.isDisabled,Fe=oe.isSelected,_n=oe.label,br=oe.value,Kn=k===ve,Tr=ht?void 0:function(){return a.onOptionHover(ve)},es=ht?void 0:function(){return a.selectOption(ve)},Sr="".concat(a.getElementId("option"),"-").concat(pe),qi={id:Sr,onClick:es,onMouseMove:Tr,onMouseOver:Tr,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:Fe};return A.createElement(R,Ae({},P,{innerProps:qi,data:ve,isDisabled:ht,isSelected:Fe,key:Sr,label:_n,type:Ce,value:br,isFocused:Kn,innerRef:Kn?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(oe.data,"menu"))},le;if(this.hasOptions())le=this.getCategorizedOptions().map(function(ce){if(ce.type==="group"){var oe=ce.data,pe=ce.options,Ce=ce.index,ve="".concat(a.getElementId("group"),"-").concat(Ce),ht="".concat(ve,"-heading");return A.createElement(h,Ae({},P,{key:ve,data:oe,options:pe,Heading:p,headingProps:{id:ht,data:ce.data},label:a.formatGroupLabel(ce.data)}),ce.options.map(function(Fe){return $(Fe,"".concat(Ce,"-").concat(Fe.index))}))}else if(ce.type==="option")return $(ce,"".concat(ce.index))});else if(F){var de=q({inputValue:B});if(de===null)return null;le=A.createElement(E,P,de)}else{var Pe=M({inputValue:B});if(Pe===null)return null;le=A.createElement(T,P,Pe)}var H={minMenuHeight:U,maxMenuHeight:K,menuPlacement:w,menuPosition:V,menuShouldScrollIntoView:N},Q=A.createElement(g5,Ae({},P,H),function(ce){var oe=ce.ref,pe=ce.placerProps,Ce=pe.placement,ve=pe.maxHeight;return A.createElement(f,Ae({},P,H,{innerRef:oe,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:F,placement:Ce}),A.createElement(qj,{captureEnabled:j,onTopArrive:Te,onBottomArrive:Se,lockEnabled:L},function(ht){return A.createElement(g,Ae({},P,{innerRef:function(_n){a.getMenuListRef(_n),ht(_n)},innerProps:{role:"listbox","aria-multiselectable":P.isMulti,id:a.getElementId("listbox")},isLoading:F,maxHeight:ve,focusedOption:k}),le)}))});return C||V==="fixed"?A.createElement(y,Ae({},P,{appendTo:C,controlElement:this.controlRef,menuPlacement:w,menuPosition:V}),Q):Q}},{key:"renderFormField",value:function(){var a=this,l=this.props,h=l.delimiter,p=l.isDisabled,f=l.isMulti,g=l.name,y=l.required,E=this.state.selectValue;if(y&&!this.hasValue()&&!p)return A.createElement(Kj,{name:g,onFocus:this.onValueInputFocus});if(!(!g||p))if(f)if(h){var T=E.map(function(k){return a.getOptionValue(k)}).join(h);return A.createElement("input",{name:g,type:"hidden",value:T})}else{var R=E.length>0?E.map(function(k,O){return A.createElement("input",{key:"i-".concat(O),name:g,type:"hidden",value:a.getOptionValue(k)})}):A.createElement("input",{name:g,type:"hidden",value:""});return A.createElement("div",null,R)}else{var P=E[0]?this.getOptionValue(E[0]):"";return A.createElement("input",{name:g,type:"hidden",value:P})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,l=this.state,h=l.ariaSelection,p=l.focusedOption,f=l.focusedValue,g=l.isFocused,y=l.selectValue,E=this.getFocusableOptions();return A.createElement(jj,Ae({},a,{id:this.getElementId("live-region"),ariaSelection:h,focusedOption:p,focusedValue:f,isFocused:g,selectValue:y,focusableOptions:E,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),l=a.Control,h=a.IndicatorsContainer,p=a.SelectContainer,f=a.ValueContainer,g=this.props,y=g.className,E=g.id,T=g.isDisabled,R=g.menuIsOpen,P=this.state.isFocused,k=this.commonProps=this.getCommonProps();return A.createElement(p,Ae({},k,{className:y,innerProps:{id:E,onKeyDown:this.onKeyDown},isDisabled:T,isFocused:P}),this.renderLiveRegion(),A.createElement(l,Ae({},k,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:T,isFocused:P,menuIsOpen:R}),A.createElement(f,Ae({},k,{isDisabled:T}),this.renderPlaceholderOrValue(),this.renderInput()),A.createElement(h,Ae({},k,{isDisabled:T}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,l){var h=l.prevProps,p=l.clearFocusValueOnUpdate,f=l.inputIsHiddenAfterUpdate,g=l.ariaSelection,y=l.isFocused,E=l.prevWasFocused,T=l.instancePrefix,R=a.options,P=a.value,k=a.menuIsOpen,O=a.inputValue,j=a.isMulti,B=mE(P),F={};if(h&&(P!==h.value||R!==h.options||k!==h.menuIsOpen||O!==h.inputValue)){var q=k?c8(a,B):[],U=k?NE(Ed(a,B),"".concat(T,"-option")):[],K=p?u8(l,B):null,I=h8(l,q),w=dg(U,I);F={selectValue:B,focusedOption:I,focusedOptionId:w,focusableOptionsWithIds:U,focusedValue:K,clearFocusValueOnUpdate:!1}}var V=f!=null&&a!==h?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},C=g,L=y&&E;return y&&!L&&(C={value:ad(j,B,B[0]||null),options:B,action:"initial-input-focus"},L=!E),g?.action==="initial-input-focus"&&(C=null),be(be(be({},F),V),{},{prevProps:a,ariaSelection:C,prevWasFocused:L})}}]),t}(A.Component);p4.defaultProps=l8;var f8=A.forwardRef(function(n,e){var t=NI(n);return A.createElement(p4,Ae({ref:e},t))}),DE=f8;const jE=[{value:On.ZELADOR,label:u.jsxs("span",{children:[u.jsx(lI,{style:{marginRight:8}}),"Zelador"]})},{value:On.GERENTE,label:u.jsxs("span",{children:[u.jsx(_I,{style:{marginRight:8}}),"Gerente"]})},{value:On.ADMIN,label:u.jsxs("span",{children:[u.jsx(yI,{style:{marginRight:8}}),"Administrador"]})}],OE=n=>n.map(e=>({value:e,label:u.jsxs("span",{children:[u.jsx(Ls,{style:{marginRight:8}}),e]})})),ME={control:n=>({...n,borderRadius:8,borderColor:"#e1e5e9",boxShadow:"none",minHeight:48,fontSize:16,background:"#f8f9fa"}),option:(n,e)=>({...n,display:"flex",alignItems:"center",fontSize:16,backgroundColor:e.isSelected?"#667eea22":"white",color:"#333"}),singleValue:n=>({...n,display:"flex",alignItems:"center"})},m8=({name:n,email:e,password:t,confirmPassword:s,role:a,setor:l,setores:h,onChange:p,onSubmit:f,loading:g,error:y})=>{const[E,T]=A.useState(!1),[R,P]=A.useState(!1);return u.jsxs("form",{className:"register-form",onSubmit:f,children:[u.jsx("div",{className:"form-row",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"name",children:"Nome Completo"}),u.jsxs("div",{className:"input-with-icon-register",children:[u.jsx("span",{className:"input-icon",children:u.jsx(Gn,{})}),u.jsx("input",{type:"text",id:"name",name:"name",value:n,onChange:p,placeholder:"Digite seu nome completo",required:!0})]})]})}),u.jsx("div",{className:"form-row",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-with-icon-register",children:[u.jsx("span",{className:"input-icon",children:u.jsx($v,{})}),u.jsx("input",{type:"email",id:"email",name:"email",value:e,onChange:p,placeholder:"seu.email@exemplo.com",required:!0})]})]})}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group half",children:[u.jsx("label",{htmlFor:"role",children:"Função"}),u.jsx(DE,{inputId:"role",name:"role",options:jE,value:jE.find(k=>k.value===a)||null,onChange:k=>p({target:{name:"role",value:k?.value||""}}),styles:ME,isSearchable:!1,placeholder:"Selecione a função"})]}),u.jsxs("div",{className:"form-group half",children:[u.jsx("label",{htmlFor:"setor",children:"Setor"}),u.jsx(DE,{inputId:"setor",name:"setor",options:OE(h),value:OE(h).find(k=>k.value===l)||null,onChange:k=>p({target:{name:"setor",value:k?.value||""}}),styles:ME,isSearchable:!1,placeholder:"Selecione um setor"})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Senha"}),u.jsxs("div",{className:"input-with-icon-register",children:[u.jsx("span",{className:"input-icon",children:u.jsx(qd,{})}),u.jsx("input",{type:E?"text":"password",id:"password",name:"password",value:t,onChange:p,placeholder:"Minimo de 6 caracteres",required:!0}),u.jsx("button",{type:"button",className:"eye-button",onClick:()=>T(k=>!k),tabIndex:-1,children:E?u.jsx(ru,{}):u.jsx(zg,{})})]})]}),u.jsxs("div",{className:"form-group half",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Senha"}),u.jsxs("div",{className:"input-with-icon-register",children:[u.jsx("span",{className:"input-icon",children:u.jsx(qd,{})}),u.jsx("input",{type:R?"text":"password",id:"confirmPassword",name:"confirmPassword",value:s,onChange:p,placeholder:"Confirme sua senha",required:!0}),u.jsx("button",{type:"button",className:"eye-button",onClick:()=>P(k=>!k),tabIndex:-1,children:R?u.jsx(ru,{}):u.jsx(zg,{})})]})]})]}),y&&u.jsx("div",{className:"error-message",children:y}),u.jsx(tu,{loading:g,disabled:g,type:"submit",children:g?"Criando conta...":"Criar conta"})]})},p8=({onLoginClick:n})=>u.jsxs("div",{className:"register-footer",children:[u.jsx("p",{children:"Já tem uma conta?"}),u.jsx(tu,{variant:"link",className:"link-button",onClick:n,children:"Faça login aqui"})]}),g8=["Terminal 1","Terminal 2","Terminal 3","Área de Embarque","Área de Desembarque","Estacionamento","Área Administrativa","Pista de Pouso"],v8=()=>{const[n,e]=A.useState({name:"",email:"",password:"",confirmPassword:"",role:"",setor:""}),[t,s]=A.useState(!1),[a,l]=A.useState(""),{register:h}=Fs(),{goTo:p}=La(),f=E=>{const{name:T,value:R}=E.target;e(P=>({...P,[T]:R}))},g=async E=>{if(E.preventDefault(),s(!0),l(""),n.password!==n.confirmPassword){l("As senhas não coincidem"),s(!1);return}if(n.password.length<6){l("A senha deve ter pelo menos 6 caracteres"),s(!1);return}if(!n.role){l("Selecione o perfil"),s(!1);return}try{const T={name:n.name,email:n.email,role:n.role,setor:n.setor};await h(n.email,n.password,T),T.role===On.ZELADOR?p("/dashboard"):T.role===On.GERENTE?p("/gerente-dashboard"):p("/")}catch(T){l("Erro ao criar usuário. Tente novamente."),console.error("Erro ao criar usuário:",T)}finally{s(!1)}},y=()=>{p("/login")};return u.jsxs("div",{style:{position:"relative",minHeight:"100vh"},children:[u.jsx("div",{className:"register-container",children:u.jsxs(TI,{children:[u.jsx(ES,{title:"Criar Conta",subtitle:"Sistema de Limpeza - Aeroporto Internacional"}),u.jsx(m8,{name:n.name,email:n.email,password:n.password,confirmPassword:n.confirmPassword,role:n.role,setor:n.setor,setores:g8,onChange:f,onSubmit:g,loading:t,error:a}),u.jsx(p8,{onLoginClick:y})]})}),u.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0},children:u.jsx(_S,{theme:"light",backgroundColor:"transparent",useGradient:!1})})]})},y8="modulepreload",_8=function(n){return"/"+n},PE={},g4=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let g=function(y){return Promise.all(y.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var h=g;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),f=p?.nonce||p?.getAttribute("nonce");a=g(t.map(y=>{if(y=_8(y),y in PE)return;PE[y]=!0;const E=y.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${T}`))return;const R=document.createElement("link");if(R.rel=E?"stylesheet":y8,E||(R.as="script"),R.crossOrigin="",R.href=y,f&&R.setAttribute("nonce",f),document.head.appendChild(R),E)return new Promise((P,k)=>{R.addEventListener("load",P),R.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(p){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=p,window.dispatchEvent(f),!f.defaultPrevented)throw p}return a.then(p=>{for(const f of p||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var E8="firebase",b8="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(E8,b8,"app");function v4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T8=v4,y4=new du("auth","Firebase",v4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new av("@firebase/auth");function S8(n,...e){ef.logLevel<=He.WARN&&ef.warn(`Auth (${ul}): ${n}`,...e)}function bd(n,...e){ef.logLevel<=He.ERROR&&ef.error(`Auth (${ul}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw ay(n,...e)}function Qr(n,...e){return ay(n,...e)}function _4(n,e,t){const s={...T8(),[e]:t};return new du("auth","Firebase",s).create(e,{appName:n.name})}function Os(n){return _4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ay(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return y4.create(n,...e)}function Re(n,e,...t){if(!n)throw ay(e,...t)}function As(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bd(e),new Error(e)}function zs(n,e){n||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(){return typeof self<"u"&&self.location?.href||""}function w8(){return VE()==="http:"||VE()==="https:"}function VE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w8()||E6()||"connection"in navigator)?navigator.onLine:!0}function A8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,zs(t>e,"Short delay should be less than long delay!"),this.isMobile=v6()||b6()}get(){return x8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n,e){zs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N8=new Tu(3e4,6e4);function Fi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Hi(n,e,t,s,a={}){return b4(n,a,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const p=fu({key:n.config.apiKey,...h}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:f,...l};return _6()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&cl(n.emulatorConfig.host)&&(g.credentials="include"),E4.fetch()(await T4(n,n.config.apiHost,t,p),g)})}async function b4(n,e,t){n._canInitEmulator=!1;const s={...C8,...e};try{const a=new D8(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw od(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const p=l.ok?h.errorMessage:h.error.message,[f,g]=p.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(n,"credential-already-in-use",h);if(f==="EMAIL_EXISTS")throw od(n,"email-already-in-use",h);if(f==="USER_DISABLED")throw od(n,"user-disabled",h);const y=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw _4(n,y,g);Er(n,y)}}catch(a){if(a instanceof Hs)throw a;Er(n,"network-request-failed",{message:String(a)})}}async function Su(n,e,t,s,a={}){const l=await Hi(n,e,t,s,a);return"mfaPendingCredential"in l&&Er(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function T4(n,e,t,s){const a=`${e}${t}?${s}`,l=n,h=l.config.emulator?oy(n.config,a):`${n.config.apiScheme}://${a}`;return R8.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function I8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qr(this.auth,"network-request-failed")),N8.get())})}}function od(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Qr(n,e,s);return a.customData._tokenResponse=t,a}function kE(n){return n!==void 0&&n.enterprise!==void 0}class j8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return I8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O8(n,e){return Hi(n,"GET","/v2/recaptchaConfig",Fi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(n,e){return Hi(n,"POST","/v1/accounts:delete",e)}async function tf(n,e){return Hi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P8(n,e=!1){const t=Jt(n),s=await t.getIdToken(e),a=ly(s);Re(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,h=l?.sign_in_provider;return{claims:a,token:s,authTime:qc(fg(a.auth_time)),issuedAtTime:qc(fg(a.iat)),expirationTime:qc(fg(a.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function fg(n){return Number(n)*1e3}function ly(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Cb(t);return a?JSON.parse(a):(bd("Failed to decode base64 JWT payload"),null)}catch(a){return bd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function LE(n){const e=ly(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Hs&&V8(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function V8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(n){const e=n.auth,t=await n.getIdToken(),s=await ou(n,tf(e,{idToken:t}));Re(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?S4(a.providerUserInfo):[],h=U8(n.providerData,l),p=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!h?.length,g=p?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function L8(n){const e=Jt(n);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U8(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function S4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(n,e){const t=await b4(n,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,h=await T4(n,a,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:p,body:s};return n.emulatorConfig&&cl(n.emulatorConfig.host)&&(f.credentials="include"),E4.fetch()(h,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function B8(n,e){return Hi(n,"POST","/v2/accounts:revokeToken",Fi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=LE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await z8(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,h=new Yo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gr{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new k8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return P8(this,e)}reload(){return L8(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await ou(this,M8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,f=t._redirectEventId??void 0,g=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:R,providerData:P,stsTokenManager:k}=t;Re(E&&k,e,"internal-error");const O=Yo.fromJSON(this.name,k);Re(typeof E=="string",e,"internal-error"),_i(s,e.name),_i(a,e.name),Re(typeof T=="boolean",e,"internal-error"),Re(typeof R=="boolean",e,"internal-error"),_i(l,e.name),_i(h,e.name),_i(p,e.name),_i(f,e.name),_i(g,e.name),_i(y,e.name);const j=new gr({uid:E,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:l,tenantId:p,stsTokenManager:O,createdAt:g,lastLoginAt:y});return P&&Array.isArray(P)&&(j.providerData=P.map(B=>({...B}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,s=!1){const a=new Yo;a.updateFromServerResponse(t);const l=new gr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await nf(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?S4(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!l?.length,p=new Yo;p.updateFromIdToken(s);const f=new gr({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:h}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;function Cs(n){zs(n instanceof Function,"Expected a class definition");let e=UE.get(n);return e?(zs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}w4.type="NONE";const zE=w4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n,e,t){return`firebase:${n}:${e}:${t}`}class Qo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Td(this.userKey,a.apiKey,l),this.fullPersistenceKey=Td("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tf(this.auth,{idToken:e}).catch(()=>{});return t?gr._fromGetAccountInfoResponse(this.auth,t,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Qo(Cs(zE),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Cs(zE);const h=Td(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const y=await g._get(h);if(y){let E;if(typeof y=="string"){const T=await tf(e,{idToken:y}).catch(()=>{});if(!T)break;E=await gr._fromGetAccountInfoResponse(e,T,y)}else E=gr._fromJSON(e,y);g!==l&&(p=E),l=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Qo(l,e,s):(l=f[0],p&&await l._set(h,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new Qo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I4(e))return"Blackberry";if(D4(e))return"Webos";if(A4(e))return"Safari";if((e.includes("chrome/")||C4(e))&&!e.includes("edge/"))return"Chrome";if(N4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function x4(n=yn()){return/firefox\//i.test(n)}function A4(n=yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C4(n=yn()){return/crios\//i.test(n)}function R4(n=yn()){return/iemobile/i.test(n)}function N4(n=yn()){return/android/i.test(n)}function I4(n=yn()){return/blackberry/i.test(n)}function D4(n=yn()){return/webos/i.test(n)}function cy(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F8(n=yn()){return cy(n)&&!!window.navigator?.standalone}function H8(){return T6()&&document.documentMode===10}function j4(n=yn()){return cy(n)||N4(n)||D4(n)||I4(n)||/windows phone/i.test(n)||R4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n,e=[]){let t;switch(n){case"Browser":t=BE(yn());break;case"Worker":t=`${BE(yn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ul}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,p)=>{try{const f=e(l);h(f)}catch(f){p(f)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(n,e={}){return Hi(n,"GET","/v2/passwordPolicy",Fi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=6;class K8{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??$8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new q8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tf(this,{idToken:e}),s=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===h)&&p?.user&&(s=p.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Os(this));const t=e?Jt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G8(this),t=new K8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await B8(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cs(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,s,a);return()=>{h=!0,f()}}else{const f=e.addObserver(t);return()=>{h=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&S8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ha(n){return Jt(n)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=I6(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q8(n){Vf=n}function M4(n){return Vf.loadJS(n)}function X8(){return Vf.recaptchaEnterpriseScript}function Z8(){return Vf.gapiScript}function W8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class J8{constructor(){this.enterprise=new eO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tO="recaptcha-enterprise",P4="NO_RECAPTCHA";class nO{constructor(e){this.type=tO,this.auth=Ha(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,p)=>{O8(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new j8(f);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(f=>{p(f)})})}function a(l,h,p){const f=window.grecaptcha;kE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(P4)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J8().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(p=>{if(!t&&kE(window.grecaptcha))a(p,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let f=X8();f.length!==0&&(f+=p),M4(f).then(()=>{a(p,l,h)}).catch(g=>{h(g)})}}).catch(p=>{h(p)})})}}async function HE(n,e,t,s=!1,a=!1){const l=new nO(n);let h;if(a)h=P4;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const f=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const f=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Wg(n,e,t,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await HE(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await HE(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n,e){const t=lv(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Na(l,e??{}))return a;Er(a,"already-initialized")}return t.initialize({options:e})}function sO(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Cs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function iO(n,e,t){const s=Ha(n);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=V4(e),{host:h,port:p}=aO(e),f=p===null?"":`:${p}`,g={url:`${l}//${h}${f}/`},y=Object.freeze({host:h,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Na(g,s.config.emulator)&&Na(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,cl(h)?(Db(`${l}//${h}${f}`),jb("Auth",!0)):oO()}function V4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aO(n){const e=V4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:qE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:qE(h)}}}function qE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function oO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,t){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function lO(n,e){return Hi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(n,e){return Su(n,"POST","/v1/accounts:signInWithPassword",Fi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(n,e){return Su(n,"POST","/v1/accounts:signInWithEmailLink",Fi(n,e))}async function hO(n,e){return Su(n,"POST","/v1/accounts:signInWithEmailLink",Fi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends uy{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new lu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new lu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,t,"signInWithPassword",cO);case"emailLink":return uO(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,s,"signUpPassword",lO);case"emailLink":return hO(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n,e){return Su(n,"POST","/v1/accounts:signInWithIdp",Fi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="http://localhost";class Pa extends uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const h=new Pa(s,a);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Xo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Xo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xo(e,t)}buildRequest(){const e={requestUri:dO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mO(n){const e=Dc(jc(n)).link,t=e?Dc(jc(e)).deep_link_id:null,s=Dc(jc(n)).deep_link_id;return(s?Dc(jc(s)).link:null)||s||t||e||n}class hy{constructor(e){const t=Dc(jc(e)),s=t.apiKey??null,a=t.oobCode??null,l=fO(t.mode??null);Re(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=mO(e);try{return new hy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=hy.parseLink(t);return Re(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends k4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends wu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return bi.credential(t,s)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends wu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends wu{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Si.credential(t,s)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(n,e){return Su(n,"POST","/v1/accounts:signUp",Fi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await gr._fromIdTokenResponse(e,s,a),h=GE(s);return new Va({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=GE(s);return new Va({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function GE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Hs{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new rf(e,t,s,a)}}function L4(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(n,l,e,s):l})}async function gO(n,e,t=!1){const s=await ou(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Va._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(n,e,t=!1){const{auth:s}=n;if(or(s.app))return Promise.reject(Os(s));const a="reauthenticate";try{const l=await ou(n,L4(s,a,e,n),t);Re(l.idToken,s,"internal-error");const h=ly(l.idToken);Re(h,s,"internal-error");const{sub:p}=h;return Re(n.uid===p,s,"user-mismatch"),Va._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Er(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(n,e,t=!1){if(or(n.app))return Promise.reject(Os(n));const s="signIn",a=await L4(n,s,e),l=await Va._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function yO(n,e){return U4(Ha(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(n){const e=Ha(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $E(n,e,t){if(or(n.app))return Promise.reject(Os(n));const s=Ha(n),h=await Wg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&z4(n),f}),p=await Va._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function KE(n,e,t){return or(n.app)?Promise.reject(Os(n)):yO(Jt(n),vl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&z4(n),s})}function _O(n,e,t,s){return Jt(n).onIdTokenChanged(e,t,s)}function EO(n,e,t){return Jt(n).beforeAuthStateChanged(e,t)}function bO(n,e,t,s){return Jt(n).onAuthStateChanged(e,t,s)}function YE(n){return Jt(n).signOut()}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=1e3,SO=10;class F4 extends B4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,f)=>{this.notifyListeners(h,f)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);H8()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,SO):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}F4.type="LOCAL";const wO=F4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4 extends B4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}H4.type="SESSION";const q4=H4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new kf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,h=this.handlersMap[a];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const p=Array.from(h).map(async g=>g(t.origin,l)),f=await xO(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,h;return new Promise((p,f)=>{const g=dy("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},s);h={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(T.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function CO(n){Xr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function RO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NO(){return navigator?.serviceWorker?.controller||null}function IO(){return G4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="firebaseLocalStorageDb",DO=1,af="firebaseLocalStorage",K4="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lf(n,e){return n.transaction([af],e?"readwrite":"readonly").objectStore(af)}function jO(){const n=indexedDB.deleteDatabase($4);return new xu(n).toPromise()}function Jg(){const n=indexedDB.open($4,DO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(af,{keyPath:K4})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(af)?e(s):(s.close(),await jO(),e(await Jg()))})})}async function QE(n,e,t){const s=Lf(n,!0).put({[K4]:e,value:t});return new xu(s).toPromise()}async function OO(n,e){const t=Lf(n,!1).get(e),s=await new xu(t).toPromise();return s===void 0?null:s.value}function XE(n,e){const t=Lf(n,!0).delete(e);return new xu(t).toPromise()}const MO=800,PO=3;class Y4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>PO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(IO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RO(),!this.activeServiceWorker)return;this.sender=new AO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await QE(e,sf,"1"),await XE(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>QE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>OO(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Lf(a,!1).getAll();return new xu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y4.type="LOCAL";const VO=Y4;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n,e){return e?Cs(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LO(n){return U4(n.auth,new fy(n),n.bypassAuthState)}function UO(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),vO(t,new fy(n),n.bypassAuthState)}async function zO(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),gO(t,new fy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:h,type:p}=e;if(h){this.reject(h);return}const f={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LO;case"linkViaPopup":case"linkViaRedirect":return zO;case"reauthViaPopup":case"reauthViaRedirect":return UO;default:Er(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Tu(2e3,1e4);class qo extends Q4{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BO.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="pendingRedirect",Sd=new Map;class HO extends Q4{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const s=await qO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qO(n,e){const t=KO(e),s=$O(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function GO(n,e){Sd.set(n._key(),e)}function $O(n){return Cs(n._redirectPersistence)}function KO(n){return Td(FO,n.config.apiKey,n.name)}async function YO(n,e,t=!1){if(or(n.app))return Promise.reject(Os(n));const s=Ha(n),a=kO(s,e),h=await new HO(s,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=600*1e3;class XO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!X4(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Qr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(e))}saveEventToCache(e){this.cachedEventUids.add(ZE(e)),this.lastProcessedEventTime=Date.now()}}function ZE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function X4({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ZO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(n,e={}){return Hi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e9=/^https?/;async function t9(n){if(n.config.emulator)return;const{authorizedDomains:e}=await WO(n);for(const t of e)try{if(n9(t))return}catch{}Er(n,"unauthorized-domain")}function n9(n){const e=Xg(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!e9.test(t))return!1;if(JO.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Tu(3e4,6e4);function WE(){const n=Xr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function s9(n){return new Promise((e,t)=>{function s(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),t(Qr(n,"network-request-failed"))},timeout:r9.get()})}if(Xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xr().gapi?.load)s();else{const a=W8("iframefcb");return Xr()[a]=()=>{gapi.load?s():t(Qr(n,"network-request-failed"))},M4(`${Z8()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw wd=null,e})}let wd=null;function i9(n){return wd=wd||s9(n),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=new Tu(5e3,15e3),o9="__/auth/iframe",l9="emulator/auth/iframe",c9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h9(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?oy(e,l9):`https://${n.config.authDomain}/${o9}`,s={apiKey:e.apiKey,appName:n.name,v:ul},a=u9.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${fu(s).slice(1)}`}async function d9(n){const e=await i9(n),t=Xr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:h9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c9,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const h=Qr(n,"network-request-failed"),p=Xr().setTimeout(()=>{l(h)},a9.get());function f(){Xr().clearTimeout(p),a(s)}s.ping(f).then(f,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m9=500,p9=600,g9="_blank",v9="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y9(n,e,t,s=m9,a=p9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const f={...f9,width:s.toString(),height:a.toString(),top:l,left:h},g=yn().toLowerCase();t&&(p=C4(g)?g9:t),x4(g)&&(e=e||v9,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[R,P])=>`${T}${R}=${P},`,"");if(F8(g)&&p!=="_self")return _9(e||"",p),new JE(null);const E=window.open(e||"",p,y);Re(E,n,"popup-blocked");try{E.focus()}catch{}return new JE(E)}function _9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="__/auth/handler",b9="emulator/auth/handler",T9=encodeURIComponent("fac");async function eb(n,e,t,s,a,l){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ul,eventId:a};if(e instanceof k4){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",N6(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))h[y]=E}if(e instanceof wu){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(h.scopes=y.join(","))}n.tenantId&&(h.tid=n.tenantId);const p=h;for(const y of Object.keys(p))p[y]===void 0&&delete p[y];const f=await n._getAppCheckToken(),g=f?`#${T9}=${encodeURIComponent(f)}`:"";return`${S9(n)}?${fu(p).slice(1)}${g}`}function S9({config:n}){return n.emulator?oy(n,b9):`https://${n.authDomain}/${E9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="webStorageSupport";class w9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q4,this._completeRedirectFn=YO,this._overrideRedirectResult=GO}async _openPopup(e,t,s,a){zs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await eb(e,t,s,Xg(),a);return y9(e,l,dy())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await eb(e,t,s,Xg(),a);return CO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(zs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await d9(e),s=new XO(e);return t.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mg,{type:mg},a=>{const l=a?.[0]?.[mg];l!==void 0&&t(!!l),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j4()||A4()||cy()}}const x9=w9;var tb="@firebase/auth",nb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R9(n){Zo(new Ia("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Re(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:h,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O4(n)},g=new Y8(s,a,l,f);return sO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Zo(new Ia("auth-internal",e=>{const t=Ha(e.getProvider("auth").getImmediate());return(s=>new A9(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(tb,nb,C9(n)),Ni(tb,nb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=300,I9=Ib("authIdTokenMaxAge")||N9;let rb=null;const D9=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>I9)return;const a=t?.token;rb!==a&&(rb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function j9(n=Vb()){const e=lv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rO(n,{popupRedirectResolver:x9,persistence:[VO,wO,q4]}),s=Ib("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=D9(l.toString());EO(t,h,()=>h(t.currentUser)),_O(t,p=>h(p))}}const a=Rb("auth");return a&&iO(t,`http://${a}`),t}function O9(){return document.getElementsByTagName("head")?.[0]??document}Q8({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=Qr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",O9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R9("Browser");const M9={apiKey:"AIzaSyB_jknTPh0I2VKDLARcgmvuBivSLLY_sHk",authDomain:"intermedium-5afd8.firebaseapp.com",projectId:"intermedium-5afd8",storageBucket:"intermedium-5afd8.firebasestorage.app",messagingSenderId:"329923016507",appId:"1:329923016507:web:2c2cb9673b6dad035d291e"},Z4=Pb(M9),xa=j9(Z4),Be=k3(Z4);var he=(n=>(n.PENDING="PENDING",n.IN_PROGRESS="IN_PROGRESS",n.COMPLETED="COMPLETED",n.OVERDUE="OVERDUE",n))(he||{}),at=(n=>(n.OK="OK",n.NOT_COMPLIANT="NOT_COMPLIANT",n.PENDING="PENDING",n))(at||{});const Rt={async getAll(n){try{const e=Zt(Be,"tasks");let t=on(e,xi("createdAt","desc"));n?.setor&&(t=on(t,Nn("setor","==",n.setor))),n?.assignedTo&&(t=on(t,Nn("assignedTo","==",n.assignedTo))),n?.status&&(t=on(t,Nn("status","==",n.status))),n?.priority&&(t=on(t,Nn("priority","==",n.priority)));const s=await Dn(t),a=[];return s.forEach(l=>{const h=l.data(),p=this.convertFirestoreToTask(l.id,h);if(!(n?.dateFrom&&p.createdAt<n.dateFrom)){if(n?.dateTo){const f=new Date(n.dateTo.toDate());if(f.setHours(23,59,59,999),p.createdAt.toDate()>f)return}a.push(p)}}),a}catch(e){throw console.error("Erro ao buscar tarefas:",e),new Error("Erro ao carregar tarefas")}},async getById(n){try{const e=kt(Be,"tasks",n),t=await Is(e);return t.exists()?this.convertFirestoreToTask(t.id,t.data()):null}catch(e){throw console.error("Erro ao buscar tarefa:",e),new Error("Erro ao carregar tarefa")}},async create(n){try{const e=Zt(Be,"tasks"),t=Oe.now(),s=n.checklist.map((h,p)=>({...h,id:`${Date.now()}-${p}`})),a={...n,checklist:s,status:he.PENDING,createdAt:t};return{id:(await Rf(e,a)).id,...n,checklist:s,status:he.PENDING,priority:n.priority||"medium",createdAt:t}}catch(e){throw console.error("Erro ao criar tarefa:",e),new Error("Erro ao criar tarefa")}},async update(n,e){try{const t=kt(Be,"tasks",n),s={...e,updatedAt:Oe.now()};e.status===he.COMPLETED&&!e.completedAt&&(s.completedAt=Oe.now()),await eu(t,s);const a=await this.getById(n);if(!a)throw new Error("Tarefa não encontrada após atualização");return a}catch(t){throw console.error("Erro ao atualizar tarefa:",t),new Error("Erro ao atualizar tarefa")}},async delete(n){try{const e=kt(Be,"tasks",n);await Cf(e)}catch(e){throw console.error("Erro ao deletar tarefa:",e),new Error("Erro ao deletar tarefa")}},async getByZelador(n){try{const e=Zt(Be,"tasks"),t=on(e,Nn("assignedTo","==",n),xi("createdAt","desc")),s=await Dn(t),a=[];return s.forEach(l=>{a.push(this.convertFirestoreToTask(l.id,l.data()))}),a}catch(e){throw console.error("Erro ao buscar tarefas do zelador:",e),new Error("Erro ao carregar tarefas do zelador")}},async getBySetor(n){try{const e=Zt(Be,"tasks"),t=on(e,Nn("setor","==",n),xi("createdAt","desc")),s=await Dn(t),a=[];return s.forEach(l=>{a.push(this.convertFirestoreToTask(l.id,l.data()))}),a}catch(e){throw console.error("Erro ao buscar tarefas do setor:",e),new Error("Erro ao carregar tarefas do setor")}},async updateChecklistItem(n,e,t){try{const s=await this.getById(n);if(!s)throw new Error("Tarefa não encontrada");const a=s.checklist.map(l=>l.id===e?{...l,...t}:l);return await this.update(n,{checklist:a})}catch(s){throw console.error("Erro ao atualizar item do checklist:",s),new Error("Erro ao atualizar item do checklist")}},async markAsCompleted(n){return this.update(n,{status:he.COMPLETED,completedAt:Oe.now()})},async getUnassigned(){try{const n=Zt(Be,"tasks"),e=await Dn(n),t=[];return e.forEach(s=>{const a=s.data();(!a.assignedTo||a.assignedTo===null||a.assignedTo==="")&&t.push(this.convertFirestoreToTask(s.id,a))}),t}catch(n){throw console.error("Erro ao buscar tarefas não atribuídas:",n),new Error("Erro ao carregar tarefas não atribuídas")}},async assignTask(n,e){try{const{zeladorService:t}=await g4(async()=>{const{zeladorService:a}=await Promise.resolve().then(()=>J4);return{zeladorService:a}},[]),s=await t.getById(e);if(!s)throw new Error("Zelador não encontrado");return await this.update(n,{assignedTo:s.email})}catch(t){throw console.error("Erro ao atribuir tarefa:",t),new Error("Erro ao atribuir tarefa")}},async markAsInProgress(n){return this.update(n,{status:he.IN_PROGRESS})},async markAsOverdue(n){return this.update(n,{status:he.OVERDUE})},convertFirestoreToTask(n,e){return{id:n,title:e.title,description:e.description,setor:e.setor,status:e.status,scheduledTime:e.scheduledTime,estimatedDuration:e.estimatedDuration,checklist:e.checklist||[],assignedTo:e.assignedTo,createdAt:e.createdAt||Oe.now(),completedAt:e.completedAt,priority:e.priority,updatedAt:e.updatedAt||Oe.now()}}},P9=({activeSection:n,onSectionChange:e})=>{const[t,s]=A.useState(!1),[a,l]=A.useState(0),[h,p]=A.useState(0),[f,g]=A.useState(0),{user:y,logout:E}=Fs(),{goTo:T}=La();if(A.useEffect(()=>{if(!y)return;(async()=>{try{const j=await Rt.getByZelador(y.email);l(j.filter(B=>B.status===he.PENDING).length),p(j.filter(B=>B.status===he.OVERDUE).length),g(j.filter(B=>B.status===he.COMPLETED).length)}catch(j){console.error("Erro ao carregar estatísticas:",j)}})()},[y]),!y)return null;const R=()=>{E(),T("/login")},P=O=>{e(O),s(!1)},k=[{id:"dashboard",label:"Dashboard",icon:il,badge:a>0?a:null,badgeType:"pending"},{id:"tasks",label:"Minhas Tarefas",icon:qv,badge:h>0?h:null,badgeType:"overdue"},{id:"reports",label:"Relatórios",icon:wS,badge:f>0?f:null,badgeType:"completed"},{id:"history",label:"Histórico",icon:xS},{id:"profile",label:"Meu Perfil",icon:Gn},{id:"settings",label:"Configurações",icon:cI}];return u.jsxs(u.Fragment,{children:[u.jsx("button",{className:`sidebar-toggle ${t?"open":""}`,onClick:()=>s(!t),"aria-label":"Toggle menu",children:t?u.jsx(Ui,{}):u.jsx(SS,{})}),u.jsx("div",{className:`sidebar-overlay ${t?"open":""}`,onClick:()=>s(!1)}),u.jsxs("div",{className:`sidebar-container ${t?"open":""}`,children:[u.jsxs("div",{className:"sidebar-header",children:[u.jsxs("h2",{children:["Olá, ",y.name,"!"]}),u.jsx("p",{children:y.setor})]}),u.jsx("nav",{className:"sidebar-nav",children:k.map(O=>u.jsxs("button",{className:`nav-item ${n===O.id?"active":""}`,onClick:()=>P(O.id),children:[u.jsx("span",{className:"nav-item-icon",children:u.jsx(O.icon,{})}),u.jsx("span",{className:"nav-item-text",children:O.label}),O.badge&&u.jsxs("span",{className:`nav-item-badge ${O.badgeType}`,children:[O.badge,O.badgeType==="overdue"&&u.jsx(_r,{style:{marginLeft:4}})]})]},O.id))}),u.jsx("div",{className:"sidebar-footer",children:u.jsxs("button",{className:"logout-nav-button",onClick:R,children:[u.jsx(AS,{style:{marginRight:12}}),"Sair"]})})]})]})},xd=({task:n,onStart:e})=>{const t=y=>{if(typeof y=="object"&&y&&"toDate"in y){const E=y.toDate();return E.toLocaleDateString("pt-BR")+" às "+E.toLocaleTimeString("pt-BR")}else{if(typeof y=="string")return y;{const E=new Date(y);return E.toLocaleDateString("pt-BR")+" às "+E.toLocaleTimeString("pt-BR")}}},s=y=>{switch(y){case he.PENDING:return"Pendente";case he.IN_PROGRESS:return"Em Andamento";case he.COMPLETED:return"Concluída";case he.OVERDUE:return"Em atraso";default:return y}},a=y=>{switch(y){case he.PENDING:return"status-pending";case he.IN_PROGRESS:return"status-in-progress";case he.COMPLETED:return"status-completed";case he.OVERDUE:return"status-overdue";default:return"status-pending"}},l=y=>`priority-${y.toLowerCase()}`,h=y=>{switch(y){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return y}},p=n.checklist.filter(y=>y.status===at.OK||y.status===at.NOT_COMPLIANT).length,f=n.checklist.length>0?p/n.checklist.length*100:0,g=n.status===he.PENDING||n.status===he.OVERDUE;return u.jsxs("div",{className:"task-card",children:[u.jsxs("div",{className:"task-header",children:[u.jsxs("div",{className:"task-info",children:[u.jsxs("h3",{children:[n.title,u.jsx("span",{className:`priority-badge ${l(n.priority)}`,children:h(n.priority)})]}),u.jsx("p",{children:n.description}),u.jsxs("div",{className:"task-meta",children:[u.jsxs("div",{className:"task-setor",children:[u.jsx(If,{style:{marginRight:5}}),n.setor]}),u.jsxs("div",{className:"task-time",children:[u.jsx(Wt,{}),t(n.scheduledTime)]}),u.jsxs("div",{className:"task-duration",children:[u.jsx(fI,{}),n.estimatedDuration,"min"]})]})]}),u.jsx("div",{className:"task-status",children:u.jsx("span",{className:`status-badge ${a(n.status)}`,children:s(n.status)})})]}),n.status!==he.COMPLETED&&u.jsxs("div",{className:"checklist-progress",children:["Progresso: ",p,"/",n.checklist.length," itens",u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${f}%`}})})]}),g&&u.jsx("div",{className:"task-actions",children:u.jsx("button",{className:"start-button",onClick:e,children:n.status===he.OVERDUE?"Iniciar (Atrasada)":"Iniciar Tarefa"})})]})},V9=({item:n,onUpdate:e})=>{const[t,s]=A.useState(n.observation||""),[a,l]=A.useState(n.photos||[]),h=g=>{const y={...n,status:g,observation:g===at.NOT_COMPLIANT?t:void 0,photos:a.length>0?a:void 0};e(y)},p=g=>{s(g),n.status===at.NOT_COMPLIANT&&e({...n,observation:g})},f=()=>{const g=`photo_${Date.now()}`,y=[...a,g];l(y),e({...n,photos:y})};return u.jsxs("div",{className:"checklist-item",children:[u.jsxs("div",{className:"item-header",children:[u.jsx("div",{className:"item-question",children:u.jsxs("h4",{children:[n.question,n.isEquipment&&u.jsxs("span",{className:"equipment-badge",children:[u.jsx(CS,{style:{marginRight:4}}),n.equipmentName]})]})}),u.jsxs("div",{className:"item-status",children:[u.jsx("button",{className:`status-button status-ok ${n.status===at.OK?"active":""}`,onClick:()=>h(at.OK),children:"OK"}),u.jsx("button",{className:`status-button status-not-compliant ${n.status===at.NOT_COMPLIANT?"active":""}`,onClick:()=>h(at.NOT_COMPLIANT),children:"Não Conforme"})]})]}),n.status===at.NOT_COMPLIANT&&u.jsxs("div",{className:"observation-section",children:[u.jsx("label",{htmlFor:`obs-${n.id}`,children:"Observação (obrigatória):"}),u.jsx("textarea",{id:`obs-${n.id}`,className:"observation-textarea",value:t,onChange:g=>p(g.target.value),placeholder:"Descreva o problema encontrado...",required:!0})]}),u.jsxs("div",{className:"photo-section",children:[u.jsx("label",{children:"Fotos (opcional):"}),u.jsxs("button",{className:"photo-button",onClick:f,children:[u.jsx(Hv,{}),"Tirar Foto"]}),a.length>0&&u.jsx("div",{className:"photo-preview",children:a.map((g,y)=>u.jsx("div",{className:"photo-item",children:u.jsxs("div",{className:"photo-placeholder",children:["Foto ",y+1]})},g))})]})]})},k9=({task:n,onComplete:e,onBack:t})=>{const[s,a]=A.useState(n.checklist),[l,h]=A.useState(""),p=(T,R)=>{a(P=>P.map(k=>k.id===T?R:k))},f=s.filter(T=>T.status===at.OK||T.status===at.NOT_COMPLIANT).length,g=f===s.length,y=g&&l.length>0,E=()=>{if(y){const T={...n,checklist:s};e(n.id,T)}};return u.jsxs("div",{className:"task-execution",children:[u.jsxs("div",{className:"execution-header",children:[u.jsxs("div",{className:"execution-info",children:[u.jsx("h1",{children:n.title}),u.jsxs("p",{children:[n.description," • ",n.setor]})]}),u.jsxs("button",{className:"back-button",onClick:t,children:[u.jsx(oI,{}),"Voltar"]})]}),u.jsxs("div",{className:"checklist-container",children:[u.jsxs("div",{className:"checklist-header",children:[u.jsx("h2",{children:"Checklist"}),u.jsxs("div",{className:"progress-info",children:[f,"/",s.length," concluídos"]})]}),u.jsx("div",{className:"checklist-items",children:s.map(T=>u.jsx(V9,{item:T,onUpdate:R=>p(T.id,R)},T.id))})]}),g&&u.jsxs("div",{className:"finish-section",children:[u.jsx("h3",{children:"Finalizar Tarefa"}),u.jsx("input",{type:"password",className:"password-input",placeholder:"Digite sua senha para confirmar",value:l,onChange:T=>h(T.target.value)}),u.jsx("button",{className:"finish-button",onClick:E,disabled:!y,children:"Finalizar Tarefa"})]})]})},W4=({task:n,onClose:e})=>{const t=f=>{if(typeof f=="object"&&f&&"toDate"in f){const g=f.toDate();return g.toLocaleDateString("pt-BR")+" às "+g.toLocaleTimeString("pt-BR")}else{if(typeof f=="string")return f;{const g=new Date(f);return g.toLocaleDateString("pt-BR")+" às "+g.toLocaleTimeString("pt-BR")}}},s=f=>{switch(f){case he.PENDING:return"Pendente";case he.IN_PROGRESS:return"Em Andamento";case he.COMPLETED:return"Concluída";case he.OVERDUE:return"Em Atraso";default:return f}},a=f=>{switch(f){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return f}},l=f=>{switch(f){case at.OK:return u.jsx(Hd,{});case at.NOT_COMPLIANT:return u.jsx(Ui,{});default:return"?"}},h=f=>{switch(f){case at.OK:return"status-ok";case at.NOT_COMPLIANT:return"status-not-compliant";default:return"status-pending"}},p=f=>{switch(f){case at.OK:return"OK";case at.NOT_COMPLIANT:return"Não Conforme";default:return"Pendente"}};return u.jsx("div",{className:"task-details-overlay",onClick:e,children:u.jsxs("div",{className:"task-details-modal",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"Detalhes da Tarefa"}),u.jsx("button",{className:"close-button",onClick:e,children:u.jsx(Ui,{})})]}),u.jsxs("div",{className:"modal-content",children:[u.jsxs("div",{className:"task-details-info",children:[u.jsx("h3",{children:n.title}),u.jsx("p",{children:n.description})]}),u.jsxs("div",{className:"task-meta-grid",children:[u.jsxs("div",{className:"meta-item",children:[u.jsx("div",{className:"meta-label",children:"Status"}),u.jsx("div",{className:"meta-value",children:s(n.status)})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("div",{className:"meta-label",children:"Setor"}),u.jsxs("div",{className:"meta-value",children:[u.jsx(If,{style:{marginRight:5}}),n.setor]})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("div",{className:"meta-label",children:"Responsável"}),u.jsxs("div",{className:"meta-value",children:[u.jsx(Gn,{style:{marginRight:5}}),n.assignedTo]})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("div",{className:"meta-label",children:"Horário"}),u.jsxs("div",{className:"meta-value",children:[u.jsx(Wt,{style:{marginRight:5}}),t(n.scheduledTime)]})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("div",{className:"meta-label",children:"Duração Estimada"}),u.jsxs("div",{className:"meta-value",children:[n.estimatedDuration," min"]})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("div",{className:"meta-label",children:"Prioridade"}),u.jsx("div",{className:"meta-value",children:a(n.priority)})]})]}),n.status===he.COMPLETED&&n.completedAt&&u.jsxs("div",{className:"completion-info",children:[u.jsx("h4",{children:"Informações de Conclusão"}),u.jsx("div",{className:"completion-details",children:u.jsxs("div",{className:"completion-item",children:[u.jsx("strong",{children:"Concluída em:"})," ",t(n.completedAt)]})})]}),u.jsxs("div",{className:"checklist-section",children:[u.jsxs("h4",{children:[u.jsx(qv,{}),"Checklist (",n.checklist.length," itens)"]}),n.checklist.map(f=>u.jsxs("div",{className:"checklist-item-detail",children:[u.jsxs("div",{className:"item-question",children:[f.question,f.isEquipment&&u.jsxs("span",{className:"equipment-badge",children:[u.jsx(CS,{style:{marginRight:4}}),f.equipmentName]})]}),u.jsxs("div",{className:"item-status-detail",children:[u.jsx("div",{className:`status-icon ${h(f.status)}`,children:l(f.status)}),u.jsx("span",{children:p(f.status)})]}),f.observation&&u.jsxs("div",{className:"item-observation",children:[u.jsx("strong",{children:"Observação:"})," ",f.observation]}),f.photos&&f.photos.length>0&&u.jsxs("div",{className:"item-photos",children:[u.jsxs("strong",{children:[u.jsx(Hv,{style:{marginRight:5}}),"Fotos (",f.photos.length,"):"]}),u.jsx("div",{className:"photos-grid",children:f.photos.map((g,y)=>u.jsxs("div",{className:"photo-placeholder",children:["Foto ",y+1]},g))})]})]},f.id))]})]})]})})},L9=()=>{const{user:n}=Fs(),[e,t]=A.useState([]),[s,a]=A.useState(null),[l,h]=A.useState(new Date),[p,f]=A.useState(!0),[g,y]=A.useState(null),[E,T]=A.useState("ALL"),[R,P]=A.useState(""),[k,O]=A.useState("none"),j=async()=>{try{f(!0),y(null);const K=await Rt.getByZelador(n?.email||"");t(K)}catch(K){console.error("Erro ao carregar tarefas:",K),y("Erro ao carregar tarefas")}finally{f(!1)}};A.useEffect(()=>{j()},[]),A.useEffect(()=>{const K=setInterval(()=>{h(new Date)},1e3);return()=>clearInterval(K)});const B=async K=>{try{await Rt.markAsInProgress(K.id),await j(),a(K)}catch(I){console.error("Erro ao iniciar tarefa:",I),alert("Erro ao iniciar tarefa. Tente novamente.")}},F=e.filter(K=>E==="ALL"?!0:K.status===E).filter(K=>K.title.toLowerCase().includes(R.toLowerCase())).sort((K,I)=>{if(k==="priority"){const w=["ALTA","MÉDIA","BAIXA"];return w.indexOf(K.priority.toUpperCase())-w.indexOf(I.priority.toUpperCase())}return k==="title"?K.title.localeCompare(I.title):0}),q=K=>{a(K)},U=()=>{a(null)};return u.jsxs(u.Fragment,{children:[!p&&g&&u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:g})}),u.jsxs("div",{className:"dashboard-header",children:[u.jsx("h1",{children:"Minhas Tarefas"}),u.jsx("p",{children:"Visualize todas as suas tarefas"})]}),u.jsxs("div",{className:"tasks-section",children:[u.jsxs("div",{className:"tasks-header",children:[u.jsxs("h2",{children:["Tarefas (",F.length,")"]}),u.jsxs("div",{className:"tasks-controls",children:[u.jsx("input",{className:"tasks-search",type:"text",placeholder:"Pesquisar por tarefa...",value:R,onChange:K=>P(K.target.value)}),u.jsxs("select",{className:"tasks-filter",value:E,onChange:K=>T(K.target.value),children:[u.jsx("option",{value:"ALL",children:"Todos os status"}),u.jsx("option",{value:he.PENDING,children:"Pendente"}),u.jsx("option",{value:he.IN_PROGRESS,children:"Em Andamento"}),u.jsx("option",{value:he.COMPLETED,children:"Concluída"}),u.jsx("option",{value:he.OVERDUE,children:"Em Atraso"})]}),u.jsxs("select",{className:"tasks-sort",value:k,onChange:K=>O(K.target.value),children:[u.jsx("option",{value:"none",children:"Sem ordenação"}),u.jsx("option",{value:"priority",children:"Prioridade"}),u.jsx("option",{value:"title",children:"Título (A-Z)"})]}),u.jsxs("button",{className:"refresh-button-modern",onClick:j,children:[p?"Atualizando...":"Atualizar",u.jsxs("div",{className:"current-time",children:["Atualizado: ",l.toLocaleTimeString("pt-BR")]})]})]})]}),u.jsx("div",{className:"tasks-list",children:F.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("h3",{children:"Nenhuma tarefa encontrada"}),u.jsx("p",{children:"Ajuste seus filtros ou tente novamente."})]}):F.map(K=>u.jsxs("div",{className:`task-card-modern ${K.status===he.IN_PROGRESS?"in-progress":""} ${K.status===he.OVERDUE?"overdue":""}`,onClick:()=>q(K),children:[p&&u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"Carregando tarefas..."})]}),u.jsx(xd,{task:K,onStart:I=>{I&&I.stopPropagation(),B(K)}},K.id)]},K.id))})]}),s&&u.jsx("div",{className:"task-details-modal-overlay",onClick:U,children:u.jsx("div",{className:"task-details-modal",onClick:K=>K.stopPropagation(),children:u.jsx(W4,{task:s,onClose:U})})})]})},U9=()=>{const{user:n}=Fs(),[e,t]=A.useState([]),[s,a]=A.useState(!0),[l,h]=A.useState(null),[p,f]=A.useState(null),[g,y]=A.useState(new Date),[E,T]=A.useState(""),[R,P]=A.useState(7),[k,O]=A.useState("ALL"),j=A.useCallback(async()=>{try{a(!0),h(null);const L=(await Rt.getByZelador(n?.email||"")).filter(N=>N.status===he.COMPLETED);L.sort((N,M)=>!N.completedAt||!M.completedAt?0:M.completedAt.toMillis()-N.completedAt.toMillis()),t(L)}catch(C){console.error("Erro ao carregar tarefas:",C),h("Erro ao carregar tarefas")}finally{a(!1)}},[n?.email]);A.useEffect(()=>{j()},[j]),A.useEffect(()=>{const C=setInterval(()=>{y(new Date)},1e3);return()=>clearInterval(C)},[]);const B=e.filter(C=>{if(!C.completedAt)return!1;const L=C.completedAt.toDate(),N=new Date(g);return N.setDate(N.getDate()-R),!(L<N||k!=="ALL"&&C.setor!==k||E&&!C.title.toLowerCase().includes(E.toLowerCase()))}),F=Array.from(new Set(e.map(C=>C.setor))).sort(),q=C=>C.checklist.some(L=>L.status===at.NOT_COMPLIANT),U=C=>C.checklist.flatMap(L=>L.photos||[]).length,K=C=>C.checklist.filter(L=>L.observation).length,I=C=>C?C.toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Data não disponível",w=C=>{f(C)},V=()=>{f(null)};return u.jsxs(u.Fragment,{children:[l&&u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:l})}),u.jsx("div",{className:"dashboard-header",children:u.jsxs("div",{className:"header-info",children:[u.jsxs("div",{className:"header-title-section",children:[u.jsx(xS,{className:"header-icon-history"}),u.jsxs("div",{children:[u.jsx("h1",{children:"Histórico de Tarefas"}),u.jsxs("p",{children:["Ultima ",R," dias • ",B.length," tarefa(s) completada(s)"]})]})]}),u.jsxs("div",{className:"header-time",children:[u.jsx(Fd,{}),u.jsx("span",{children:g.toLocaleDateString("pt-BR")})]})]})}),u.jsxs("div",{className:"history-section",children:[u.jsxs("div",{className:"history-controls",children:[u.jsx("input",{className:"history-search",type:"text",placeholder:"Pesquisar por tarefa...",value:E,onChange:C=>T(C.target.value)}),u.jsxs("select",{className:"history-filter",value:R,onChange:C=>P(Number(C.target.value)),children:[u.jsx("option",{value:7,children:"Últimos 7 dias"}),u.jsx("option",{value:14,children:"Últimos 15 dias"}),u.jsx("option",{value:30,children:"Últimos 30 dias"}),u.jsx("option",{value:90,children:"Últimos 90 dias"})]}),u.jsxs("select",{className:"history-filter",value:k,onChange:C=>O(C.target.value),children:[u.jsx("option",{value:"ALL",children:"Todos os setores"}),F.map(C=>u.jsx("option",{value:C,children:C},C))]}),u.jsx("button",{className:"refresh-button-modern",onClick:j,disabled:s,children:s?"Atualizando...":"Atualizar"})]}),s&&e.length===0?u.jsx("div",{className:"loading-container",children:u.jsx("div",{className:"loading-spinner",children:"Carregando histórico..."})}):B.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx(jn,{className:"empty-icon"}),u.jsx("h3",{children:"Nenhuma tarefa encontrada"}),u.jsx("p",{children:E?"Tente ajustar os filtros de busca":"Voce nao tem tarefas completadas neste periodo"})]}):u.jsx("div",{className:"history-grid",children:B.map(C=>u.jsxs("div",{className:`history-card ${q(C)?"has-issues":""}`,onClick:()=>w(C),children:[u.jsxs("div",{className:"card-header",children:[u.jsx("div",{className:`status-badge ${q(C)?"status-issue":"status-success"}`,children:q(C)?u.jsxs(u.Fragment,{children:[u.jsx(hI,{})," Concluida com observações"]}):u.jsxs(u.Fragment,{children:[u.jsx(jn,{})," Concluida"]})}),u.jsx("span",{className:`priority-badge priority-${C.priority}`,children:C.priority==="high"?"ALTA":C.priority==="medium"?"MEDIA":"BAIXA"})]}),u.jsxs("div",{className:"card-body",children:[u.jsx("h3",{className:"card-title",children:C.title}),u.jsx("p",{className:"card-description",children:C.description})]}),u.jsxs("div",{className:"card-meta",children:[u.jsxs("div",{className:"meta-item",children:[u.jsx(Fd,{}),u.jsxs("span",{children:["Concluida: ",I(C.completedAt)]})]}),u.jsx("div",{className:"meta-item",children:u.jsx("span",{className:"setor-badge",children:C.setor})})]}),u.jsxs("div",{className:"card-indicators",children:[U(C)>0&&u.jsxs("div",{className:"indicator",children:[u.jsx(rg,{}),u.jsxs("span",{children:[U(C)," foto(s)"]})]}),K(C)>0&&u.jsxs("div",{className:"indicator",children:[u.jsx(Ds,{}),u.jsxs("span",{children:[K(C)," observação(es)"]})]})]}),u.jsx("div",{className:"card-footer",children:u.jsx("button",{className:"detials-button",children:"Ver Detalhes Completos"})})]},C.id))})]}),p&&u.jsx("div",{className:"modal-overlay",onClick:V,children:u.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("div",{className:"modal-title-section",children:[u.jsx("h2",{children:p.title}),u.jsxs("p",{children:[p.setor," • Concluida em"," ",I(p.completedAt)]})]}),u.jsx("button",{className:"modal-close",onClick:V,children:"x"})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"modal-section",children:[u.jsxs("h3",{className:"section-title",children:[u.jsx(jn,{})," Informações Gerais"]}),u.jsxs("div",{className:"info-grid",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("strong",{children:"Descrição:"}),u.jsx("p",{children:p.description})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("strong",{children:"Prioridade:"}),u.jsx("span",{className:`priority-badge priority-${p.priority}`,children:p.priority==="high"?"ALTA":p.priority==="medium"?"MÉDIA":"BAIXA"})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("strong",{children:"Duração Estimada:"}),u.jsxs("p",{children:[p.estimatedDuration," minutos"]})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("strong",{children:"Agendada para:"}),u.jsx("p",{children:p.scheduledTime})]})]})]}),u.jsxs("div",{className:"modal-section",children:[u.jsxs("h3",{className:"section-title",children:[u.jsx(jn,{})," Checklist de Execução"]}),u.jsx("div",{className:"checklist-container",children:p.checklist.map((C,L)=>u.jsxs("div",{className:`checklist-item-detail status-${C.status.toLowerCase()}`,children:[u.jsxs("div",{className:"item-header",children:[u.jsx("span",{className:"item-number",children:L+1}),u.jsx("h4",{className:"item-question",children:C.question}),u.jsxs("span",{className:`item-status-badge ${C.status.toLowerCase()}`,children:[C.status===at.OK&&"✓ OK",C.status===at.NOT_COMPLIANT&&"✗ Não conforme",C.status===at.PENDING&&"⏳ Pendente"]})]}),C.observation&&u.jsxs("div",{className:"item-observation",children:[u.jsx(Ds,{}),u.jsxs("div",{children:[u.jsx("strong",{children:"Observação:"}),u.jsx("p",{children:C.observation})]})]}),C.photos&&C.photos.length>0&&u.jsxs("div",{className:"item-photos",children:[u.jsx(rg,{}),u.jsx("div",{className:"photos-grid",children:C.photos.map((N,M)=>u.jsx("div",{className:"photo-item",children:u.jsx("img",{src:N,alt:`Foto ${M+1}`})},M))})]}),C.isEquipment&&u.jsxs("div",{className:"item-equipment",children:[u.jsx("strong",{children:"Equipamento:"})," ",C.equipmentName]})]},L))})]}),U(p)>0&&u.jsxs("div",{className:"modal-section",children:[u.jsxs("h3",{className:"section-title",children:[u.jsx(rg,{})," Galeria de Fotos (",U(p),")"]}),u.jsx("div",{className:"photo-gallery",children:p.checklist.flatMap(C=>C.photos||[]).map((C,L)=>u.jsx("div",{className:"gallery-item",children:u.jsx("img",{src:C,alt:`Foto ${L+1}`})},L))})]}),K(p)>0&&u.jsxs("div",{className:"modal-section",children:[u.jsxs("h3",{className:"section-title",children:[u.jsx(Ds,{})," Observações (",K(p),")"]}),u.jsx("div",{className:"observations-list",children:p.checklist.filter(C=>C.observation).map((C,L)=>u.jsxs("div",{className:"observation-item",children:[u.jsxs("strong",{children:[L+1,". ",C.question]}),u.jsx("p",{children:C.observation})]},L))})]})]}),u.jsx("div",{className:"modal-footer",children:u.jsx("button",{className:"close-button",onClick:V,children:"Fechar"})})]})})]})},z9=()=>{const{user:n}=Fs(),{goTo:e}=La(),[t,s]=A.useState([]),[a,l]=A.useState(!0),[h,p]=A.useState(null),[f,g]=A.useState(null),[y,E]=A.useState(new Date),[T,R]=A.useState("dashboard"),P=A.useCallback(async()=>{if(n)try{l(!0),p(null);const I=await Rt.getByZelador(n.email);s(I)}catch(I){console.error("Erro ao carregar tarefas:",I),p("Erro ao carregar suas tarefas")}finally{l(!1)}},[n]);if(A.useEffect(()=>{P()},[P]),A.useEffect(()=>{const I=setInterval(()=>{E(new Date)},1e3);return()=>clearInterval(I)},[]),!n||n.role!==On.ZELADOR)return e("/login"),null;const k={pending:t.filter(I=>I.status===he.PENDING).length,completed:t.filter(I=>I.status===he.COMPLETED).length,overdue:t.filter(I=>I.status===he.OVERDUE).length,total:t.length},O=I=>{g(I)},j=async I=>{try{await Rt.markAsInProgress(I.id),await P(),g(I)}catch(w){console.error("Erro ao iniciar tarefa:",w),alert("Erro ao iniciar tarefa. Tente novamente.")}},B=async I=>{try{await Rt.markAsCompleted(I),await P(),g(null)}catch(w){console.error("Erro ao completar tarefa:",w),alert("Erro ao completar tarefa. Tente novamente.")}},F=(I,w)=>{B(I)},q=()=>{g(null)},U=()=>{if(a&&t.length===0)return u.jsx("div",{className:"loading-container",children:u.jsxs("div",{className:"loading-spinner",children:[u.jsx(wn,{className:"spinning"}),"Carregando suas tarefas..."]})});if(h)return u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:h})});const I=t.filter(C=>C.status===he.IN_PROGRESS),w=t.filter(C=>C.status===he.PENDING),V=t.filter(C=>C.status===he.OVERDUE);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"dashboard-header-modern",children:u.jsxs("div",{className:"header-content",children:[u.jsxs("div",{className:"header-title",children:[u.jsx(il,{className:"header-icon"}),u.jsxs("div",{children:[u.jsx("h1",{children:"Dashboard"}),u.jsxs("p",{className:"header-subtitle",children:["Bem-vindo de volta, ",n?.name,"!"]})]})]}),u.jsxs("div",{className:"header-actions",children:[u.jsxs("div",{className:"current-datetime",children:[u.jsx("p",{className:"date",children:y.toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long"})}),u.jsx("p",{className:"time",children:y.toLocaleTimeString("pt-BR")})]}),u.jsxs("button",{className:"refresh-button-modern",onClick:P,disabled:a,children:[u.jsx(Oa,{className:a?"spinning":""}),a?"Atualizando...":"Atualizar"]})]})]})}),u.jsxs("div",{className:"dashboard-stats-modern",children:[u.jsxs("div",{className:"stat-card-modern stat-pending",children:[u.jsx("div",{className:"stat-icon",children:u.jsx(Wt,{})}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:k.pending}),u.jsx("div",{className:"stat-label",children:"Pendentes"})]})]}),u.jsxs("div",{className:"stat-card-modern stat-in-progress",children:[u.jsx("div",{className:"stat-icon",children:u.jsx(wn,{})}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:t.filter(C=>C.status===he.IN_PROGRESS).length}),u.jsx("div",{className:"stat-label",children:"Em Andamento"})]})]}),u.jsxs("div",{className:"stat-card-modern stat-completed",children:[u.jsx("div",{className:"stat-icon",children:u.jsx(jn,{})}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:k.completed}),u.jsx("div",{className:"stat-label",children:"Concluídas"})]})]}),u.jsxs("div",{className:"stat-card-modern stat-overdue",children:[u.jsx("div",{className:"stat-icon",children:u.jsx(_r,{})}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:k.overdue}),u.jsx("div",{className:"stat-label",children:"Em Atraso"})]})]})]}),I.length>0&&u.jsxs("div",{className:"tasks-section-modern",children:[u.jsxs("div",{className:"section-header",children:[u.jsxs("h2",{children:[u.jsx(wn,{})," Tarefas em Andamento"]}),u.jsx("span",{className:"task-count",children:I.length})]}),u.jsx("div",{className:"tasks-grid",children:I.map(C=>u.jsx("div",{className:"task-card-modern in-progress",onClick:()=>O(C),children:u.jsx(xd,{task:C,onStart:()=>j(C)})},C.id))})]}),V.length>0&&u.jsxs("div",{className:"tasks-section-modern",children:[u.jsxs("div",{className:"section-header",children:[u.jsxs("h2",{children:[u.jsx(_r,{})," Tarefas em Atraso"]}),u.jsx("span",{className:"task-count urgent",children:V.length})]}),u.jsx("div",{className:"tasks-grid",children:V.map(C=>u.jsx("div",{className:"task-card-modern overdue",onClick:()=>O(C),children:u.jsx(xd,{task:C,onStart:()=>j(C)})},C.id))})]}),u.jsxs("div",{className:"tasks-section-modern",children:[u.jsxs("div",{className:"section-header",children:[u.jsxs("h2",{children:[u.jsx(Wt,{})," Tarefas Pendentes"]}),u.jsx("span",{className:"task-count",children:w.length})]}),w.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx(jn,{className:"empty-icon"}),u.jsx("h3",{children:"Nenhuma tarefa pendente"}),u.jsx("p",{children:"Parabéns! Você está em dia com suas tarefas."})]}):u.jsx("div",{className:"tasks-grid",children:w.map(C=>u.jsx("div",{className:"task-card-modern",onClick:()=>O(C),children:u.jsx(xd,{task:C,onStart:()=>j(C)})},C.id))})]})]})},K=()=>{switch(T){case"dashboard":return U();case"tasks":return u.jsx(L9,{});case"reports":return u.jsxs("div",{className:"section-content",children:[u.jsx("h2",{children:"Relatórios"}),u.jsx("p",{children:"Visualize estatísticas e relatórios de desempenho"}),u.jsx("span",{className:"coming-soon",children:"Em breve"})]});case"history":return u.jsx(U9,{});case"profile":return u.jsxs("div",{className:"section-content",children:[u.jsx("h2",{children:"Meu Perfil"}),u.jsx("p",{children:"Gerencie suas informações pessoais"}),u.jsx("span",{className:"coming-soon",children:"Em breve"})]});case"settings":return u.jsxs("div",{className:"section-content",children:[u.jsx("h2",{children:"Configurações"}),u.jsx("p",{children:"Ajuste as configurações do sistema"}),u.jsx("span",{className:"coming-soon",children:"Em breve"})]});default:return U()}};return u.jsxs("div",{className:"zelador-dashboard",children:[u.jsx(P9,{activeSection:T,onSectionChange:R}),u.jsx("div",{className:"dashboard-content",children:u.jsx("div",{className:"dashboard-main",children:K()})}),f&&u.jsx("div",{className:"exec-modal-overlay",role:"dialog","aria-modal":"true",children:u.jsxs("div",{className:"exec-modal",children:[u.jsxs("div",{className:"exec-modal-header",children:[u.jsxs("div",{className:"exec-modal-titles",children:[u.jsx("h2",{children:f.title}),u.jsxs("p",{children:[f.setor," • ",f.priority.toUpperCase()]})]}),u.jsx("button",{className:"exec-close",onClick:q,"aria-label":"Fechar",children:"×"})]}),u.jsx("div",{className:"exec-modal-body",children:u.jsx(k9,{task:f,onComplete:F,onBack:q})})]})})]})},sb=({children:n})=>{const{user:e}=Fs(),{goTo:t}=La();return A.useEffect(()=>{e?(window.location.pathname==="/dashboard"&&e.role!==On.ZELADOR||window.location.pathname==="/gerente-dashboard"&&e.role!==On.GERENTE)&&t("/"):t("/login")},[e,t]),!e||window.location.pathname==="/dashboard"&&e.role!==On.ZELADOR?null:u.jsx(u.Fragment,{children:n})},Hr={async getAll(){try{const n=Zt(Be,"setores"),e=await Dn(n),t=[];return e.forEach(s=>{const a=s.data();t.push({id:s.id,name:a.name,description:a.description,location:a.location,createdAt:a.createdAt.toDate(),updatedAt:a.updatedAt.toDate()})}),t}catch(n){throw console.error("Erro ao buscar setores:",n),n}},async getById(n){try{const e=kt(Be,"setores",n),t=await Is(e);if(!t.exists())return null;const s=t.data();return{id:t.id,name:s.name,description:s.description,location:s.location,createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()}}catch(e){throw console.error("Erro ao buscar setor:",e),e}},async create(n){try{if(await this.getByName(n.name))throw new Error("Setor já existe");const t=Zt(Be,"setores"),s=Oe.now(),a={...n,createdAt:s,updatedAt:s};return{id:(await Rf(t,a)).id,...n,createdAt:s.toDate(),updatedAt:s.toDate()}}catch(e){throw console.error("Erro ao criar setor:",e),e instanceof Error?e:new Error("Erro ao criar setor")}},async update(n,e){try{const t=kt(Be,"setores",n);if(e.name){const l=await this.getByName(e.name);if(l&&l.id!==n)throw new Error("Setor já existe")}const s={...e,updatedAt:Oe.now()};await eu(t,s);const a=await this.getById(n);if(!a)throw new Error("Setor não encontrado");return a}catch(t){throw console.error("Erro ao atualizar setor:",t),t instanceof Error?t:new Error("Erro ao atualizar setor")}},async delete(n){try{const e=kt(Be,"setores",n);await Cf(e)}catch(e){throw console.error("Erro ao deletar setor:",e),new Error("Erro ao deletar setor")}},async getByName(n){try{const e=Zt(Be,"setores"),t=on(e,Nn("name","==",n)),s=await Dn(t);if(s.empty)return null;const a=s.docs[0],l=a.data();return{id:a.id,name:l.name,description:l.description,location:l.location,createdAt:l.createdAt.toDate()||new Date,updatedAt:l.updatedAt.toDate()||new Date}}catch(e){throw console.error("Erro ao buscar setor por nome:",e),new Error("Erro ao buscar setor por nome")}}},B9=({activeSection:n,onSectionChange:e})=>{const[t,s]=A.useState(!1),{user:a,logout:l}=Fs(),{goTo:h}=La();if(!a)return null;const p=()=>{l(),h("/login")},f=y=>{e(y),s(!1)},g=[{id:"dashboard",label:"Dashboard",icon:vI},{id:"funcionarios",label:"Gerenciar Funcionarios",icon:Bg},{id:"setores",label:"Gerenciar Setores",icon:Ls},{id:"tasks",label:"Gerenciar Tarefas",icon:il},{id:"atribuirTarefas",label:"Atribuir Tarefas",icon:Yv},{id:"reports",label:"Relatórios",icon:wS}];return u.jsxs(u.Fragment,{children:[u.jsx("button",{className:`gerente-sidebar-toggle ${t?"open":""}`,onClick:()=>s(!t),"aria-label":"Toggle menu",children:t?u.jsx(Ui,{}):u.jsx(SS,{})}),u.jsx("div",{className:`gerente-sidebar-overlay ${t?"open":""}`,onClick:()=>s(!1)}),u.jsxs("div",{className:`gerente-sidebar-container ${t?"open":""}`,children:[u.jsxs("div",{className:"gerente-sidebar-header",children:[u.jsx("h2",{children:"Painel Gerencial"}),u.jsxs("p",{children:[a.name," - ",a.setor]})]}),u.jsx("nav",{className:"gerente-sidebar-nav",children:g.map(y=>u.jsxs("button",{className:`gerente-nav-item ${n===y.id?"active":""}`,onClick:()=>f(y.id),children:[u.jsx("span",{className:"gerente-nav-item-icon",children:u.jsx(y.icon,{})}),u.jsx("span",{className:"gerente-nav-item-text",children:y.label})]},y.id))}),u.jsx("div",{className:"gerente-sidebar-footer",children:u.jsxs("button",{className:"gerente-logout-nav-button",onClick:p,children:[u.jsx(AS,{style:{marginRight:12}}),"Sair"]})})]})]})},F9=({task:n,onClick:e})=>{const t=E=>{if(typeof E=="object"&&E&&"toDate"in E){const T=E.toDate();return T.toLocaleDateString("pt-BR")+" às "+T.toLocaleTimeString("pt-BR")}else{if(typeof E=="string")return E;{const T=new Date(E);return T.toLocaleDateString("pt-BR")+" às "+T.toLocaleTimeString("pt-BR")}}},s=E=>{switch(E){case he.PENDING:return"Pendente";case he.IN_PROGRESS:return"Em Andamento";case he.COMPLETED:return"Concluída";case he.OVERDUE:return"Em Atraso";default:return E}},a=E=>{switch(E){case he.PENDING:return"gerente-status-pending";case he.IN_PROGRESS:return"gerente-status-in-progress";case he.COMPLETED:return"gerente-status-completed";case he.OVERDUE:return"gerente-status-overdue";default:return"gerente-status-pending"}},l=E=>`gerente-priority-${E.toLowerCase()}`,h=E=>{switch(E){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return E}},p=n.checklist.filter(E=>E.status===at.OK||E.status===at.NOT_COMPLIANT).length,f=n.checklist.length>0?p/n.checklist.length*100:0,g=n.checklist.reduce((E,T)=>E+(T.photos?.length||0),0),y=n.checklist.filter(E=>E.status===at.NOT_COMPLIANT).length;return u.jsxs("div",{className:"gerente-task-card",onClick:e,children:[u.jsxs("div",{className:"gerente-task-header",children:[u.jsxs("div",{className:"gerente-task-info",children:[u.jsxs("h3",{children:[n.title,u.jsx("span",{className:`gerente-priority-badge ${l(n.priority)}`,children:h(n.priority)})]}),u.jsx("p",{children:n.description}),u.jsxs("div",{className:"gerente-task-meta",children:[u.jsxs("div",{className:"gerente-task-setor",children:[u.jsx(If,{style:{marginRight:5}}),n.setor]}),u.jsxs("div",{className:"gerente-task-assignee",children:[u.jsx(Gn,{}),n.assignedTo]}),u.jsxs("div",{className:"gerente-task-time",children:[u.jsx(Wt,{}),t(n.scheduledTime)]})]})]}),u.jsx("div",{className:"gerente-task-status",children:u.jsx("span",{className:`gerente-status-badge ${a(n.status)}`,children:s(n.status)})})]}),u.jsxs("div",{className:"gerente-task-progress",children:[u.jsxs("div",{className:"gerente-progress-text",children:["Progresso: ",p,"/",n.checklist.length," itens"]}),u.jsx("div",{className:"gerente-progress-bar",children:u.jsx("div",{className:"gerente-progress-fill",style:{width:`${f}%`}})})]}),(g>0||y>0)&&u.jsxs("div",{className:"gerente-task-evidence",children:[g>0&&u.jsxs("div",{className:"gerente-evidence-item gerente-evidence-photos",children:[u.jsx(Hv,{}),g," foto(s)"]}),y>0&&u.jsxs("div",{className:"gerente-evidence-item gerente-evidence-issues",children:[u.jsx(_r,{}),y," não conformidade(s)"]})]})]})},H9=()=>{const[n,e]=A.useState([]),[t,s]=A.useState(!0),[a,l]=A.useState(null),[h,p]=A.useState(!1),[f,g]=A.useState(null),[y,E]=A.useState({name:"",description:"",location:""}),T=async()=>{try{s(!0),l(null);const F=await Hr.getAll();e(F)}catch(F){console.error("Erro ao carregar setores:",F),l("Erro ao carregar dados de setores")}finally{s(!1)}};A.useEffect(()=>{T()},[]);const R=()=>{g(null),E({name:"",description:"",location:""}),p(!0)},P=F=>{g(F),E({name:F.name,description:F.description,location:F.location}),p(!0)},k=async F=>{if(window.confirm("Tem certeza que deseja excluir este setor?"))try{s(!0),await Hr.delete(F),await T()}catch(q){console.error("Erro ao deletar setor:",q),alert("Erro ao deletar setor. Tente novamente.")}finally{s(!1)}},O=async F=>{if(F.preventDefault(),!y.name||!y.description||!y.location){alert("Por favor, preencha todos os campos obrigatórios");return}try{s(!0),f?await Hr.update(f.id,{name:y.name,description:y.description,location:y.location}):await Hr.create({name:y.name,description:y.description,location:y.location}),await T(),p(!1),E({name:"",description:"",location:""})}catch(q){console.error("Erro ao salvar setor:",q),alert("Erro ao salvar setor. Tente novamente.")}finally{s(!1)}},j=()=>{p(!1),g(null),E({name:"",description:"",location:""})},B=F=>{const{name:q,value:U}=F.target;E(K=>({...K,[q]:U}))};return t&&n.length===0?u.jsx("div",{className:"loading-container",children:u.jsxs("div",{className:"loading-spinner",children:[u.jsx(wn,{className:"spinning"}),"Carregando setores..."]})}):a?u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:a})}):u.jsxs("div",{className:"setor-management",children:[u.jsxs("div",{className:"setor-management-header",children:[u.jsx("h2",{children:"Gerenciar Setores"}),u.jsxs("div",{className:"setor-management-actions",children:[u.jsx("button",{className:"refresh-button",onClick:T,disabled:t,children:t?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"spinning"}),"Atualizando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Oa,{}),"Atualizar"]})}),u.jsxs("button",{className:"add-setor-button",onClick:R,children:[u.jsx(sl,{}),"Adicionar Setor"]})]})]}),u.jsx("div",{className:"setores-list",children:n.length===0?u.jsx("div",{style:{textAlign:"center",color:"#666",padding:"40px"},children:"Nenhum setor cadastrado."}):n.map(F=>u.jsx("div",{className:"setor-card",children:u.jsxs("div",{className:"setor-card-header",children:[u.jsxs("div",{children:[u.jsx("h3",{children:F.name}),u.jsx("p",{children:F.description}),u.jsxs("div",{className:"setor-location",children:[u.jsx(If,{style:{marginRight:5}}),F.location]})]}),u.jsxs("div",{className:"setor-actions",children:[u.jsx("button",{className:"setor-action-button edit-button",onClick:()=>P(F),children:u.jsx(Gv,{})}),u.jsx("button",{className:"setor-action-button delete-button",onClick:()=>k(F.id),children:u.jsx(Gd,{})})]})]})},F.id))}),h&&u.jsx("div",{className:"setor-form-modal",onClick:j,children:u.jsxs("div",{className:"setor-form",onClick:F=>F.stopPropagation(),children:[u.jsx("h3",{children:f?"Editar Setor":"Adicionar Setor"}),u.jsxs("form",{onSubmit:O,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"name",children:"Nome do Setor"}),u.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:B,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"description",children:"Descrição"}),u.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:B,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"location",children:"Localização"}),u.jsx("input",{type:"text",id:"location",name:"location",value:y.location,onChange:B,required:!0})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"button",className:"form-button cancel-button",onClick:j,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"form-button save-button",children:f?"Salvar":"Adicionar"})]})]})]})})]})},Lc={async getAll(n){try{const e=Zt(Be,"taskTemplates");let t=on(e,xi("createdAt","desc"));n?.setorId&&(t=on(t,Nn("setorId","==",n.setorId))),n?.priority&&(t=on(t,Nn("priority","==",n.priority)));const s=await Dn(t),a=[];return s.forEach(l=>{const h=l.data(),p=this.convertFirestoreToTaskTemplate(l.id,h);n?.category&&!p.questions.some(g=>g.category===n.category)||a.push(p)}),a}catch(e){throw console.error("Erro ao buscar templates:",e),new Error("Erro ao carregar templates")}},async getById(n){try{const e=kt(Be,"taskTemplates",n),t=await Is(e);return t.exists()?this.convertFirestoreToTaskTemplate(t.id,t.data()):null}catch(e){throw console.error("Erro ao buscar template:",e),new Error("Erro ao carregar template")}},async create(n){try{const e=Zt(Be,"taskTemplates"),t=Oe.now(),s=n.questions.map((h,p)=>({...h,id:`q-${Date.now()}-${p}`})),a={...n,questions:s,createdAt:t,updatedAt:t};return{id:(await Rf(e,a)).id,...n,questions:s,createdAt:t,updatedAt:t}}catch(e){throw console.error("Erro ao criar template:",e),new Error("Erro ao criar template")}},async update(n,e){try{const t=kt(Be,"taskTemplates",n),s={...e,updatedAt:Oe.now()};await eu(t,s);const a=await this.getById(n);if(!a)throw new Error("Template não encontrado após atualização");return a}catch(t){throw console.error("Erro ao atualizar template:",t),new Error("Erro ao atualizar template")}},async delete(n){try{const e=kt(Be,"taskTemplates",n);await Cf(e)}catch(e){throw console.error("Erro ao deletar template:",e),new Error("Erro ao deletar template")}},async getBySetor(n){try{const e=Zt(Be,"taskTemplates"),t=on(e,Nn("setorId","==",n),xi("createdAt","desc")),s=await Dn(t),a=[];return s.forEach(l=>{a.push(this.convertFirestoreToTaskTemplate(l.id,l.data()))}),a}catch(e){throw console.error("Erro ao buscar templates do setor:",e),new Error("Erro ao carregar templates do setor")}},async getByPriority(n){try{const e=Zt(Be,"taskTemplates"),t=on(e,Nn("priority","==",n),xi("createdAt","desc")),s=await Dn(t),a=[];return s.forEach(l=>{a.push(this.convertFirestoreToTaskTemplate(l.id,l.data()))}),a}catch(e){throw console.error("Erro ao buscar templates por prioridade:",e),new Error("Erro ao carregar templates por prioridade")}},async getByCategory(n){try{const e=Zt(Be,"taskTemplates"),t=on(e,xi("createdAt","desc")),s=await Dn(t),a=[];return s.forEach(l=>{const h=this.convertFirestoreToTaskTemplate(l.id,l.data());h.questions.some(f=>f.category===n)&&a.push(h)}),a}catch(e){throw console.error("Erro ao buscar templates por categoria:",e),new Error("Erro ao carregar templates por categoria")}},async duplicate(n,e){try{const t=await this.getById(n);if(!t)throw new Error("Template não encontrado");const s={title:e||`${t.title} (Cópia)`,description:t.description,estimatedDuration:t.estimatedDuration,priority:t.priority,setorId:t.setorId,questions:t.questions.map(a=>({question:a.question,isEquipment:a.isEquipment,equipmentName:a.equipmentName,isRequired:a.isRequired,category:a.category}))};return await this.create(s)}catch(t){throw console.error("Erro ao duplicar template:",t),new Error("Erro ao duplicar template")}},async createTaskFromTemplate(n,e){try{const t=await this.getById(n);if(!t)throw new Error("Template não encontrado");const s=t.questions.map(l=>({question:l.question,status:at.PENDING,isEquipment:l.isEquipment,equipmentName:l.equipmentName})),a={title:t.title,description:t.description,setor:e,scheduledTime:"08:00",estimatedDuration:t.estimatedDuration,checklist:s,priority:t.priority};return await Rt.create(a)}catch(t){throw console.error("Erro ao criar tarefa a partir do template:",t),new Error("Erro ao criar tarefa a partir do template")}},convertFirestoreToTaskTemplate(n,e){return{id:n,title:e.title,description:e.description,estimatedDuration:e.estimatedDuration,priority:e.priority,questions:e.questions||[],setorId:e.setorId,createdAt:e.createdAt||Oe.now(),updatedAt:e.updatedAt||Oe.now()}}},q9=()=>{const[n,e]=A.useState([]),[t,s]=A.useState([]),[a,l]=A.useState(!0),[h,p]=A.useState(null),[f,g]=A.useState(!1),[y,E]=A.useState(null),[T,R]=A.useState({title:"",description:"",estimatedDuration:30,priority:"medium",setorId:""}),P=async()=>{try{l(!0),p(null);const[N,M]=await Promise.all([Lc.getAll(),Hr.getAll()]);e(N),s(M)}catch(N){console.error("Erro ao carregar dados:",N),p("Erro ao carregar dados de gerenciamento de tarefas")}finally{l(!1)}};A.useEffect(()=>{P()},[]);const[k,O]=A.useState([]),j=()=>{E(null),R({title:"",description:"",estimatedDuration:30,priority:"medium",setorId:""}),O([]),g(!0)},B=N=>{E(N),R({title:N.title,description:N.description,estimatedDuration:N.estimatedDuration,priority:N.priority,setorId:N.setorId}),O([...N.questions]),g(!0)},F=async N=>{if(window.confirm("Tem certeza que deseja excluir este modelo de tarefa?"))try{l(!0),await Lc.delete(N),await P()}catch(M){console.error("Erro ao deletar template:",M),alert("Erro ao deletar template. Tente novamente.")}finally{l(!1)}},q=async N=>{if(N.preventDefault(),!T.title||!T.description){alert("Por favor, preencha todos os campos obrigatórios");return}if(k.length===0){alert("Por favor, adicione pelo menos uma pergunta");return}try{l(!0),y?await Lc.update(y.id,{title:T.title,description:T.description,estimatedDuration:T.estimatedDuration,priority:T.priority,setorId:T.setorId,questions:k}):await Lc.create({title:T.title,description:T.description,estimatedDuration:T.estimatedDuration,priority:T.priority,setorId:T.setorId,questions:k}),await P(),g(!1),R({title:"",description:"",estimatedDuration:30,priority:"medium",setorId:""}),O([])}catch(M){console.error("Erro ao salvar template:",M),alert("Erro ao salvar template. Tente novamente.")}finally{l(!1)}},U=()=>{g(!1),E(null),R({title:"",description:"",estimatedDuration:30,priority:"medium",setorId:""}),O([])},K=N=>{const{name:M,value:Te}=N.target;R(Se=>({...Se,[M]:M==="estimatedDuration"?Number.parseInt(Te):Te}))},I=()=>{const N={id:Date.now().toString(),question:"",isEquipment:!1,equipmentName:"",isRequired:!0,category:"Geral"};O(M=>[...M,N])},w=(N,M,Te)=>{O(Se=>Se.map($=>$.id===N?{...$,[M]:Te}:$))},V=N=>{O(M=>M.filter(Te=>Te.id!==N))},C=N=>{switch(N){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return N}},L=N=>{const M=t.find(Te=>Te.id===N);return M?M.name:"Setor não encontrado"};return a&&n.length===0?u.jsx("div",{className:"loading-container",children:u.jsxs("div",{className:"loading-spinner",children:[u.jsx(wn,{className:"spinning"}),"Carregando modelos de tarefas..."]})}):h?u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:h})}):u.jsxs("div",{className:"task-management",children:[u.jsxs("div",{className:"task-management-header",children:[u.jsx("h2",{children:"Gerenciar Modelos de Tarefas"}),u.jsxs("div",{className:"task-management-actions",children:[u.jsx("button",{className:"refresh-button",onClick:P,disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"spinning"}),"Atualizando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Oa,{}),"Atualizar"]})}),u.jsxs("button",{className:"add-task-button",onClick:j,children:[u.jsx(sl,{}),"Adicionar Modelo"]})]})]}),u.jsx("div",{className:"task-templates-list",children:n.length===0?u.jsx("div",{style:{textAlign:"center",color:"#666",padding:"40px"},children:"Nenhum modelo de tarefa cadastrado."}):n.map(N=>u.jsx("div",{className:"task-template-card",children:u.jsxs("div",{className:"task-template-header",children:[u.jsxs("div",{className:"task-template-info",children:[u.jsx("h3",{children:N.title}),u.jsx("p",{children:N.description}),u.jsxs("div",{className:"task-template-meta",children:[u.jsxs("div",{className:"template-duration",children:[u.jsx(Wt,{style:{marginRight:5}}),N.estimatedDuration," min"]}),u.jsx("div",{className:`template-priority ${N.priority}`,children:C(N.priority)}),u.jsxs("div",{className:"template-questions-count",children:[u.jsx(mI,{style:{marginRight:5}}),N.questions.length," pergunta(s)"]}),u.jsx("div",{style:{color:"#10b981",fontWeight:600},children:L(N.setorId)})]})]}),u.jsxs("div",{className:"task-template-actions",children:[u.jsx("button",{className:"template-action-button edit-template-button",onClick:()=>B(N),children:u.jsx(Gv,{})}),u.jsx("button",{className:"template-action-button delete-template-button",onClick:()=>F(N.id),children:u.jsx(Gd,{})})]})]})},N.id))}),f&&u.jsx("div",{className:"task-form-modal",onClick:U,children:u.jsxs("div",{className:"task-form",onClick:N=>N.stopPropagation(),children:[u.jsx("h3",{children:y?"Editar Modelo de Tarefa":"Adicionar Modelo de Tarefa"}),u.jsxs("form",{onSubmit:q,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"title",children:"Título da Tarefa"}),u.jsx("input",{type:"text",id:"title",name:"title",value:T.title,onChange:K,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"description",children:"Descrição"}),u.jsx("textarea",{id:"description",name:"description",value:T.description,onChange:K,required:!0})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"estimatedDuration",children:"Duração Estimada (min)"}),u.jsx("input",{type:"number",id:"estimatedDuration",name:"estimatedDuration",value:T.estimatedDuration,onChange:K,min:"1",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"priority",children:"Prioridade"}),u.jsxs("select",{id:"priority",name:"priority",value:T.priority,onChange:K,required:!0,children:[u.jsx("option",{value:"low",children:"Baixa"}),u.jsx("option",{value:"medium",children:"Média"}),u.jsx("option",{value:"high",children:"Alta"})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"setorId",children:"Setor"}),u.jsxs("select",{id:"setorId",name:"setorId",value:T.setorId,onChange:K,required:!0,children:[u.jsx("option",{value:"",children:"Selecione um setor"}),t.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]})]}),u.jsxs("div",{className:"questions-section",children:[u.jsx("h4",{children:"Perguntas do Checklist"}),k.map(N=>u.jsxs("div",{className:"question-item",children:[u.jsxs("div",{className:"question-header",children:[u.jsx("div",{className:"question-text",children:N.question||"Nova pergunta"}),u.jsx("button",{type:"button",className:"remove-question-button",onClick:()=>V(N.id),children:u.jsx(Gd,{})})]}),u.jsxs("div",{className:"question-form",children:[u.jsx("input",{type:"text",placeholder:"Digite a pergunta",value:N.question,onChange:M=>w(N.id,"question",M.target.value),required:!0}),u.jsxs("div",{className:"question-options",children:[u.jsxs("div",{className:"checkbox-group",children:[u.jsx("input",{type:"checkbox",id:`equipment-${N.id}`,checked:N.isEquipment,onChange:M=>w(N.id,"isEquipment",M.target.checked)}),u.jsx("label",{htmlFor:`equipment-${N.id}`,children:"É equipamento?"})]}),N.isEquipment&&u.jsx("input",{type:"text",placeholder:"Nome do equipamento",value:N.equipmentName||"",onChange:M=>w(N.id,"equipmentName",M.target.value)}),u.jsx("input",{type:"text",placeholder:"Categoria",value:N.category,onChange:M=>w(N.id,"category",M.target.value)})]})]})]},N.id)),u.jsxs("button",{type:"button",className:"add-question-button",onClick:I,children:[u.jsx(sl,{style:{marginRight:5}}),"Adicionar Pergunta"]})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"button",className:"form-button cancel-button",onClick:U,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"form-button save-button",children:y?"Salvar":"Adicionar"})]})]})]})})]})},G9=()=>{const[n,e]=A.useState({from:"",to:""}),[t,s]=A.useState(""),[a,l]=A.useState([]),[h,p]=A.useState([]),[f,g]=A.useState(!0),[y,E]=A.useState(null),T=async()=>{try{g(!0),E(null);const[q,U]=await Promise.all([Rt.getAll(),Hr.getAll()]);l(q),p(U)}catch(q){console.error("Erro ao carregar dados:",q),E("Erro ao carregar dados")}finally{g(!1)}};A.useEffect(()=>{T()},[]);const R=A.useMemo(()=>{let q=[...a];if(n.from){const U=new Date(n.from);q=q.filter(K=>(typeof K.createdAt=="object"&&"toDate"in K.createdAt?K.createdAt.toDate():new Date(K.createdAt))>=U)}if(n.to){const U=new Date(n.to);U.setHours(23,59,59,999),q=q.filter(K=>(typeof K.createdAt=="object"&&"toDate"in K.createdAt?K.createdAt.toDate():new Date(K.createdAt))<=U)}return t&&(q=q.filter(U=>U.setor===t)),q},[n,t,a]),P=A.useMemo(()=>[...new Set(R.map(U=>U.assignedTo))].map(U=>{const K=R.filter(N=>N.assignedTo===U),I=K.filter(N=>N.status===he.COMPLETED).length,w=K.length,V=w>0?I/w*100:0,C=K.filter(N=>N.status===he.COMPLETED&&N.completedAt),L=C.length>0?C.reduce((N,M)=>{const Te=M.completedAt&&M.createdAt?(()=>{const Se=typeof M.completedAt=="object"&&"toDate"in M.completedAt?M.completedAt.toDate():new Date(M.completedAt),$=typeof M.createdAt=="object"&&"toDate"in M.createdAt?M.createdAt.toDate():new Date(M.createdAt);return(Se.getTime()-$.getTime())/36e5})():0;return N+Te},0)/C.length:0;return{name:U,total:w,completed:I,completionRate:V,avgCompletionTime:L}}),[R]),k=A.useMemo(()=>h.map(q=>{const U=R.filter(C=>C.setor===q.name),K=U.filter(C=>C.status===he.COMPLETED).length,I=U.length,w=U.filter(C=>C.status===he.COMPLETED&&C.completedAt),V=w.length>0?w.reduce((C,L)=>{const N=L.completedAt&&L.createdAt?(()=>{const M=typeof L.completedAt=="object"&&"toDate"in L.completedAt?L.completedAt.toDate():new Date(L.completedAt),Te=typeof L.createdAt=="object"&&"toDate"in L.createdAt?L.createdAt.toDate():new Date(L.createdAt);return(M.getTime()-Te.getTime())/36e5})():0;return C+N},0)/w.length:0;return{name:q.name,total:I,completed:K,completionRate:I>0?K/I*100:0,avgTime:V}}),[R,h]),O=A.useMemo(()=>{const q=R.filter(w=>w.status===he.COMPLETED).flatMap(w=>w.checklist),U=q.length,K=q.filter(w=>w.status===at.OK).length,I=q.filter(w=>w.status===at.NOT_COMPLIANT).length;return{total:U,ok:K,notCompliant:I,complianceRate:U>0?K/U*100:0}},[R]),j=A.useMemo(()=>{const q=R.filter(I=>I.priority==="high").length,U=R.filter(I=>I.priority==="medium").length,K=R.filter(I=>I.priority==="low").length;return{high:q,medium:U,low:K}},[R]),B=A.useMemo(()=>{const q=R.filter(I=>I.status===he.COMPLETED).length,U=R.filter(I=>I.status===he.OVERDUE).length,K=R.filter(I=>I.status===he.IN_PROGRESS).length;return{total:R.length,completed:q,overdue:U,inProgress:K,completionRate:R.length>0?q/R.length*100:0}},[R]),F=()=>{const q={period:{from:n.from||"Início",to:n.to||"Hoje"},setor:t||"Todos",generalStats:B,zeladorMetrics:P,setorMetrics:k,checklistCompliance:O,priorityDistribution:j,generatedAt:new Date().toISOString()},U=JSON.stringify(q,null,2),K=new Blob([U],{type:"application/json"}),I=URL.createObjectURL(K),w=document.createElement("a");w.href=I,w.download=`relatorio-${new Date().getTime()}.json`,w.click(),URL.revokeObjectURL(I)};return u.jsxs(u.Fragment,{children:[f&&u.jsx("div",{className:"loading-container",children:u.jsxs("div",{className:"loading-spinner",children:[u.jsx(wn,{className:"spinning"}),"Carregando..."]})}),y&&u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:y})}),u.jsxs("div",{className:"reports-section",children:[u.jsxs("div",{className:"reports-header",children:[u.jsx("h1",{children:"Relatórios Analíticos"}),u.jsx("p",{children:"Análise detalhada de desempenho e produtividade"}),u.jsx("div",{className:"reports-header-buttons",children:u.jsx(tu,{onClick:T,disabled:f,children:f?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"spinning"}),"Atualizando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Oa,{}),"Atualizar"]})})}),u.jsxs(tu,{onClick:F,children:[u.jsx(uI,{style:{marginRight:8}}),"Exportar Relatório"]})]}),u.jsxs("div",{className:"reports-filters",children:[u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Data Inicial"}),u.jsx("input",{type:"date",value:n.from,onChange:q=>e(U=>({...U,from:q.target.value}))})]}),u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Data Final"}),u.jsx("input",{type:"date",value:n.to,onChange:q=>e(U=>({...U,to:q.target.value}))})]}),u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Setor"}),u.jsxs("select",{value:t,onChange:q=>s(q.target.value),children:[u.jsx("option",{value:"",children:"Todos os setores"}),h.map(q=>u.jsx("option",{value:q.name,children:q.name},q.id))]})]})]}),u.jsxs("div",{className:"reports-overview",children:[u.jsxs("div",{className:"overview-card",children:[u.jsx("div",{className:"overview-icon overview-icon-primary",children:u.jsx(nu,{})}),u.jsxs("div",{className:"overview-content",children:[u.jsx("div",{className:"overview-value",children:B.total}),u.jsx("div",{className:"overview-label",children:"Total de Tarefas"})]})]}),u.jsxs("div",{className:"overview-card",children:[u.jsx("div",{className:"overview-icon overview-icon-success",children:u.jsx(jn,{})}),u.jsxs("div",{className:"overview-content",children:[u.jsxs("div",{className:"overview-value",children:[B.completionRate.toFixed(1),"%"]}),u.jsx("div",{className:"overview-label",children:"Taxa de Conclusão"})]})]}),u.jsxs("div",{className:"overview-card",children:[u.jsx("div",{className:"overview-icon overview-icon-warning",children:u.jsx(Wt,{})}),u.jsxs("div",{className:"overview-content",children:[u.jsx("div",{className:"overview-value",children:B.inProgress}),u.jsx("div",{className:"overview-label",children:"Em Andamento"})]})]}),u.jsxs("div",{className:"overview-card",children:[u.jsx("div",{className:"overview-icon overview-icon-danger",children:u.jsx(_r,{})}),u.jsxs("div",{className:"overview-content",children:[u.jsx("div",{className:"overview-value",children:B.overdue}),u.jsx("div",{className:"overview-label",children:"Em Atraso"})]})]})]}),u.jsxs("div",{className:"reports-section-block",children:[u.jsxs("h2",{children:[u.jsx(Yv,{style:{marginRight:8}}),"Desempenho por Zelador"]}),u.jsx("div",{className:"reports-table",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Zelador"}),u.jsx("th",{children:"Total de Tarefas"}),u.jsx("th",{children:"Concluídas"}),u.jsx("th",{children:"Taxa de Conclusão"}),u.jsx("th",{children:"Tempo Médio (h)"})]})}),u.jsx("tbody",{children:P.map(q=>u.jsxs("tr",{children:[u.jsx("td",{className:"table-cell-bold",children:q.name}),u.jsx("td",{children:q.total}),u.jsx("td",{children:q.completed}),u.jsx("td",{children:u.jsxs("div",{className:"progress-cell",children:[u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${q.completionRate}%`,backgroundColor:q.completionRate>=80?"#10b981":q.completionRate>=50?"#f59e0b":"#ef4444"}})}),u.jsxs("span",{className:"progress-text",children:[q.completionRate.toFixed(1),"%"]})]})}),u.jsxs("td",{children:[q.avgCompletionTime.toFixed(1),"h"]})]},q.name))})]})})]}),u.jsxs("div",{className:"reports-section-block",children:[u.jsxs("h2",{children:[u.jsx(nu,{style:{marginRight:8}}),"Análise por Setor"]}),u.jsx("div",{className:"reports-table",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Setor"}),u.jsx("th",{children:"Total de Tarefas"}),u.jsx("th",{children:"Concluídas"}),u.jsx("th",{children:"Taxa de Conclusão"}),u.jsx("th",{children:"Tempo Médio (h)"})]})}),u.jsx("tbody",{children:k.map(q=>u.jsxs("tr",{children:[u.jsx("td",{className:"table-cell-bold",children:q.name}),u.jsx("td",{children:q.total}),u.jsx("td",{children:q.completed}),u.jsx("td",{children:u.jsxs("div",{className:"progress-cell",children:[u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${q.completionRate}%`,backgroundColor:q.completionRate>=80?"#10b981":q.completionRate>=50?"#f59e0b":"#ef4444"}})}),u.jsxs("span",{className:"progress-text",children:[q.completionRate.toFixed(1),"%"]})]})}),u.jsxs("td",{children:[q.avgTime.toFixed(1),"h"]})]},q.name))})]})})]}),u.jsxs("div",{className:"reports-grid",children:[u.jsxs("div",{className:"report-card",children:[u.jsx("h3",{children:"Conformidade de Checklist"}),u.jsxs("div",{className:"report-card-content",children:[u.jsxs("div",{className:"compliance-stats",children:[u.jsxs("div",{className:"compliance-item compliance-ok",children:[u.jsx("div",{className:"compliance-value",children:O.ok}),u.jsx("div",{className:"compliance-label",children:"Conformes"})]}),u.jsxs("div",{className:"compliance-item compliance-not",children:[u.jsx("div",{className:"compliance-value",children:O.notCompliant}),u.jsx("div",{className:"compliance-label",children:"Não Conformes"})]})]}),u.jsxs("div",{className:"compliance-rate",children:[u.jsx("div",{className:"progress-bar large",children:u.jsx("div",{className:"progress-fill",style:{width:`${O.complianceRate}%`,backgroundColor:O.complianceRate>=90?"#10b981":O.complianceRate>=70?"#f59e0b":"#ef4444"}})}),u.jsxs("p",{className:"compliance-rate-text",children:["Taxa de Conformidade:"," ",u.jsxs("strong",{children:[O.complianceRate.toFixed(1),"%"]})]})]})]})]}),u.jsxs("div",{className:"report-card",children:[u.jsx("h3",{children:"Distribuição por Prioridade"}),u.jsx("div",{className:"report-card-content",children:u.jsxs("div",{className:"priority-chart",children:[u.jsxs("div",{className:"priority-item priority-high",children:[u.jsx("div",{className:"priority-bar-container",children:u.jsx("div",{className:"priority-bar",style:{width:`${j.high/R.length*100}%`}})}),u.jsxs("div",{className:"priority-info",children:[u.jsx("span",{className:"priority-label",children:"Alta"}),u.jsx("span",{className:"priority-value",children:j.high})]})]}),u.jsxs("div",{className:"priority-item priority-medium",children:[u.jsx("div",{className:"priority-bar-container",children:u.jsx("div",{className:"priority-bar",style:{width:`${j.medium/R.length*100}%`}})}),u.jsxs("div",{className:"priority-info",children:[u.jsx("span",{className:"priority-label",children:"Média"}),u.jsx("span",{className:"priority-value",children:j.medium})]})]}),u.jsxs("div",{className:"priority-item priority-low",children:[u.jsx("div",{className:"priority-bar-container",children:u.jsx("div",{className:"priority-bar",style:{width:`${j.low/R.length*100}%`}})}),u.jsxs("div",{className:"priority-info",children:[u.jsx("span",{className:"priority-label",children:"Baixa"}),u.jsx("span",{className:"priority-value",children:j.low})]})]})]})})]})]})]})]})},ji={async getAll(){try{const n=Zt(Be,"zeladores"),e=await Dn(n),t=[];for(const s of e.docs){const a=s.data(),l=await Rt.getByZelador(a.email),h=l.length,p=l.filter(E=>E.status===he.PENDING).length,f=l.filter(E=>E.status===he.COMPLETED).length,g=l.filter(E=>E.status===he.OVERDUE).length,y={id:s.id,name:a.name,email:a.email,setor:a.setor,role:"ZELADOR",createdAt:a.createdAt,updatedAt:a.updatedAt,needsAccountCreation:a.needsAccountCreation,isActive:a.isActive,tempPassword:a.tempPassword,totalTasks:h,pendingTasks:p,completedTasks:f,overdueTasks:g};t.push(y)}return t}catch(n){throw console.error("Erro ao buscar zeladores:",n),new Error("Erro ao carregar zeladores")}},async getById(n){try{const e=kt(Be,"zeladores",n),t=await Is(e);if(!t.exists())return null;const s=t.data(),a=await Rt.getByZelador(n),l=a.length,h=a.filter(g=>g.status===he.PENDING).length,p=a.filter(g=>g.status===he.COMPLETED).length,f=a.filter(g=>g.status===he.OVERDUE).length;return{id:t.id,name:s.name,email:s.email,setor:s.setor,role:"ZELADOR",createdAt:s.createdAt,updatedAt:s.updatedAt,needsAccountCreation:s.needsAccountCreation,isActive:s.isActive,tempPassword:s.tempPassword,totalTasks:l,pendingTasks:h,completedTasks:p,overdueTasks:f}}catch(e){throw console.error("Erro ao buscar zelador:",e),new Error("Erro ao carregar zelador")}},async create(n){try{if(!n.name||!n.email||!n.password)throw new Error("Nome, email e senha são obrigatórios");if(n.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");if(await this.getByEmail(n.email))throw new Error("Este email já está sendo usado");const t=Oe.now(),s={name:n.name,email:n.email,setor:n.setor,role:"ZELADOR",createdAt:t,updatedAt:t,needsAccountCreation:!0,tempPassword:n.password,isActive:!1},a=Zt(Be,"zeladores");return{id:(await Rf(a,s)).id,name:n.name,email:n.email,setor:n.setor,role:"ZELADOR",createdAt:t,updatedAt:t,totalTasks:0,pendingTasks:0,completedTasks:0,overdueTasks:0}}catch(e){throw console.error("Erro ao criar zelador:",e),e instanceof Error?new Error(e.message):new Error("Erro ao criar zelador")}},async update(n,e){try{const t={...e,updatedAt:Oe.now()},s=kt(Be,"zeladores",n);await eu(s,t);const a=await Rt.getByZelador(n),l=a.length,h=a.filter(E=>E.status===he.PENDING).length,p=a.filter(E=>E.status===he.COMPLETED).length,f=a.filter(E=>E.status===he.OVERDUE).length,g=await Is(s),y=g.data();return{id:g.id,name:y.name,email:y.email,setor:y.setor,role:"ZELADOR",createdAt:y.createdAt,updatedAt:y.updatedAt,totalTasks:l,pendingTasks:h,completedTasks:p,overdueTasks:f}}catch(t){throw console.error("Erro ao atualizar zelador:",t),t instanceof Error?t:new Error("Erro ao atualizar zelador")}},async delete(n){try{const e=await Rt.getByZelador(n);if(e.length>0){const s=e.filter(a=>a.status===he.PENDING||a.status===he.IN_PROGRESS);if(s.length>0)throw new Error(`Este zelador possui ${s.length} tarefa(s) pendente(s).Reatribua ou conclua as tarefas antes de deletar o zelador.`)}const t=kt(Be,"zeladores",n);await Cf(t)}catch(e){throw console.error("Erro ao deletar zelador:",e),e instanceof Error?e:new Error("Erro ao deletar zelador")}},async getTasks(n){try{return await Rt.getByZelador(n)}catch(e){throw console.error("Erro ao buscar tarefas do zelador:",e),new Error("Erro ao carregar tarefas do zelador")}},async getBySetor(n){try{const e=Zt(Be,"zeladores"),t=on(e,Nn("setor","==",n),xi("createdAt","desc")),s=await Dn(t),a=[];for(const l of s.docs){const h=l.data(),p=await Rt.getByZelador(h.email),f=p.length,g=p.filter(T=>T.status===he.PENDING).length,y=p.filter(T=>T.status===he.COMPLETED).length,E=p.filter(T=>T.status===he.OVERDUE).length;a.push({id:l.id,name:h.name,email:h.email,setor:h.setor,role:"ZELADOR",createdAt:h.createdAt,updatedAt:h.updatedAt,totalTasks:f,pendingTasks:g,completedTasks:y,overdueTasks:E})}return a}catch(e){throw console.error("Erro ao buscar zeladores do setor:",e),new Error("Erro ao carregar zeladores do setor")}},async fixZeladorStatus(n){try{const e=await Is(kt(Be,"zeladores",n));if(!e.exists())throw new Error("Zelador não encontrado");const t=e.data(),s=on(Zt(Be,"users"),Nn("email","==",t.email));(await Dn(s)).empty||await eu(kt(Be,"zeladores",n),{needsAccountCreation:!1,isActive:!0,updatedAt:Oe.now()})}catch(e){throw console.error("Erro ao corrigir status do zelador:",e),e}},async getByEmail(n){try{const e=Zt(Be,"zeladores"),t=on(e,Nn("email","==",n)),s=await Dn(t);if(s.empty)return null;const a=s.docs[0],l=a.data(),h=a.id,p=await Rt.getByZelador(h),f=p.length,g=p.filter(T=>T.status===he.PENDING).length,y=p.filter(T=>T.status===he.COMPLETED).length,E=p.filter(T=>T.status===he.OVERDUE).length;return{id:a.id,name:l.name,email:l.email,setor:l.setor,role:"ZELADOR",createdAt:l.createdAt,updatedAt:l.updatedAt,needsAccountCreation:l.needsAccountCreation,isActive:l.isActive,tempPassword:l.tempPassword,totalTasks:f,pendingTasks:g,completedTasks:y,overdueTasks:E}}catch(e){throw console.error("Erro ao buscar zelador por email:",e),new Error("Erro ao verificar email")}}},J4=Object.freeze(Object.defineProperty({__proto__:null,zeladorService:ji},Symbol.toStringTag,{value:"Module"})),$9=({isOpen:n,onClose:e,onSuccess:t,zelador:s=null})=>{const[a,l]=A.useState({name:"",email:"",password:"",setor:""}),[h,p]=A.useState([]),[f,g]=A.useState(!1),[y,E]=A.useState(null),[T,R]=A.useState(!1),P=!!s;A.useEffect(()=>{n&&(k(),l(s?{name:s.name,email:s.email,password:"",setor:s.setor||""}:{name:"",email:"",password:"",setor:""}),E(null),R(!1))},[n,s]);const k=async()=>{try{const q=await Hr.getAll();p(q)}catch(q){console.error("Erro ao carregar setores:",q)}},O=(q,U)=>{l(K=>({...K,[q]:U})),y&&E(null)},j=()=>a.name.trim()?a.email.trim()?!P&&!a.password.trim()?(E("Senha é obrigatória"),!1):P&&a.password&&a.password.length<6||!P&&a.password.length<6?(E("Senha deve ter pelo menos 6 caracteres"),!1):a.setor?!0:(E("Setor é obrigatório"),!1):(E("Email é obrigatório"),!1):(E("Nome é obrigatório"),!1),B=async q=>{if(q.preventDefault(),!!j()){g(!0),E(null);try{if(P&&s){const U={name:a.name,email:a.email,setor:a.setor};a.password&&(U.password=a.password);const K=await ji.update(s.id,U);R(!0),setTimeout(()=>{t(K),e()},1500)}else{const U=await ji.create({name:a.name,email:a.email,password:a.password,setor:a.setor});R(!0),setTimeout(()=>{t(U),e()},1500)}}catch(U){console.error("Erro ao salvar funcionário:",U),E(U instanceof Error?U.message:"Erro ao salvar funcionário")}finally{g(!1)}}},F=()=>{f||e()};return n?u.jsx("div",{className:"funcionario-modal-overlay",onClick:F,children:u.jsxs("div",{className:"funcionario-modal",onClick:q=>q.stopPropagation(),children:[u.jsxs("div",{className:"funcionario-modal-header",children:[u.jsx("h2",{children:P?u.jsxs(u.Fragment,{children:[u.jsx(Gn,{}),"Editar Funcionário"]}):u.jsxs(u.Fragment,{children:[u.jsx(Gn,{}),"Novo Funcionário"]})}),u.jsx("button",{className:"close-button",onClick:F,disabled:f,children:u.jsx(Ui,{})})]}),u.jsxs("form",{onSubmit:B,className:"funcionario-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"name",children:[u.jsx(Gn,{}),"Nome Completo *"]}),u.jsx("input",{id:"name",type:"text",value:a.name,onChange:q=>O("name",q.target.value),placeholder:"Digite o nome completo",disabled:f,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"email",children:[u.jsx($v,{}),"Email *"]}),u.jsx("input",{id:"email",type:"email",value:a.email,onChange:q=>O("email",q.target.value),placeholder:"Digite o email",disabled:f,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"password",children:[u.jsx(qd,{}),"Senha ",P?"(deixe em branco para manter a atual)":"*"]}),u.jsx("input",{id:"password",type:"password",value:a.password,onChange:q=>O("password",q.target.value),placeholder:P?"Digite nova senha (opcional)":"Digite a senha",disabled:f,required:!P,minLength:6})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"setor",children:[u.jsx(Ls,{}),"Setor *"]}),u.jsxs("select",{id:"setor",value:a.setor,onChange:q=>O("setor",q.target.value),disabled:f,required:!0,children:[u.jsx("option",{value:"",children:"Selecione um setor"}),h.map(q=>u.jsx("option",{value:q.name,children:q.name},q.id))]})]}),y&&u.jsxs("div",{className:"form-error",children:[u.jsx("span",{className:"error-icon",children:"⚠️"}),y]}),T&&u.jsxs("div",{className:"form-success",children:[u.jsx(Hd,{className:"success-icon"}),P?"Funcionário atualizado com sucesso!":"Funcionário criado com sucesso!"]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"button",className:"cancel-button",onClick:F,disabled:f,children:"Cancelar"}),u.jsx("button",{type:"submit",className:"save-button",disabled:f,children:f?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"spinning"}),P?"Atualizando...":"Criando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Hd,{}),P?"Atualizar":"Criar"]})})]})]})]})}):null},K9=({isOpen:n,onClose:e,zelador:t})=>{const[s,a]=A.useState([]),[l,h]=A.useState([]),[p,f]=A.useState(!1),[g,y]=A.useState(null),[E,T]=A.useState(""),[R,P]=A.useState("");A.useEffect(()=>{n&&t&&(async()=>{if(t){f(!0),y(null);try{const V=await ji.getTasks(t.email);a(V)}catch(V){console.error("Erro ao carregar tarefas:",V),y("Erro ao carregar tarefas do funcionário")}finally{f(!1)}}})()},[n,t]),A.useEffect(()=>{(()=>{let V=[...s];E&&(V=V.filter(C=>C.title.toLowerCase().includes(E.toLowerCase())||C.description.toLowerCase().includes(E.toLowerCase()))),R&&(V=V.filter(C=>C.status===R)),h(V)})()},[s,E,R]);const k=w=>{switch(w){case"PENDING":return{label:"Pendente",color:"#f59e0b",icon:Wt};case"IN_PROGRESS":return{label:"Em Andamento",color:"#3b82f6",icon:Wt};case"COMPLETED":return{label:"Concluída",color:"#10b981",icon:jn};case"OVERDUE":return{label:"Em Atraso",color:"#ef4444",icon:_r};default:return{label:"Desconhecido",color:"#6b7280",icon:Wt}}},O=w=>{switch(w){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},j=w=>w?(w.toDate?w.toDate():new Date(w)).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",B=()=>{T(""),P("")},F=()=>{p||(T(""),P(""),e())};if(!n||!t)return null;const q=s.length,U=s.filter(w=>w.status==="COMPLETED").length,K=s.filter(w=>w.status==="PENDING").length,I=s.filter(w=>w.status==="OVERDUE").length;return u.jsx("div",{className:"zelador-tasks-modal-overlay",onClick:F,children:u.jsxs("div",{className:"zelador-tasks-modal",onClick:w=>w.stopPropagation(),children:[u.jsxs("div",{className:"zelador-tasks-header",children:[u.jsxs("div",{className:"zelador-info",children:[u.jsxs("h2",{children:[u.jsx(il,{}),"Tarefas do Funcionário"]}),u.jsxs("div",{className:"zelador-details",children:[u.jsxs("div",{className:"zelador-name",children:[u.jsx(Gn,{}),t.name]}),t.setor&&u.jsxs("div",{className:"zelador-setor",children:[u.jsx(Ls,{}),t.setor]})]})]}),u.jsx("button",{className:"close-button",onClick:F,disabled:p,children:u.jsx(Ui,{})})]}),u.jsxs("div",{className:"tasks-stats",children:[u.jsxs("div",{className:"stat-card total",children:[u.jsx("div",{className:"stat-number",children:q}),u.jsx("div",{className:"stat-label",children:"Total"})]}),u.jsxs("div",{className:"stat-card pending",children:[u.jsx("div",{className:"stat-number",children:K}),u.jsx("div",{className:"stat-label",children:"Pendentes"})]}),u.jsxs("div",{className:"stat-card completed",children:[u.jsx("div",{className:"stat-number",children:U}),u.jsx("div",{className:"stat-label",children:"Concluídas"})]}),u.jsxs("div",{className:"stat-card overdue",children:[u.jsx("div",{className:"stat-number",children:I}),u.jsx("div",{className:"stat-label",children:"Atrasadas"})]})]}),u.jsx("div",{className:"tasks-filters",children:u.jsxs("div",{className:"filters-row",children:[u.jsxs("div",{className:"search-container",children:[u.jsx(Kv,{className:"search-icon"}),u.jsx("input",{type:"text",placeholder:"Buscar tarefas...",value:E,onChange:w=>T(w.target.value),disabled:p})]}),u.jsxs("select",{value:R,onChange:w=>P(w.target.value),disabled:p,children:[u.jsx("option",{value:"",children:"Todos os status"}),u.jsx("option",{value:"PENDING",children:"Pendente"}),u.jsx("option",{value:"IN_PROGRESS",children:"Em Andamento"}),u.jsx("option",{value:"COMPLETED",children:"Concluída"}),u.jsx("option",{value:"OVERDUE",children:"Em Atraso"})]}),u.jsxs("button",{className:"clear-filters-button",onClick:B,disabled:p,children:[u.jsx(dI,{}),"Limpar"]})]})}),u.jsx("div",{className:"tasks-content",children:p?u.jsx("div",{className:"loading-container",children:u.jsxs("div",{className:"loading-spinner",children:[u.jsx(wn,{className:"spinning"}),"Carregando tarefas..."]})}):g?u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:g})}):l.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx(il,{className:"empty-icon"}),u.jsx("h3",{children:"Nenhuma tarefa encontrada"}),u.jsx("p",{children:E||R?"Tente ajustar os filtros de busca":"Este funcionário não possui tarefas atribuídas"})]}):u.jsx("div",{className:"tasks-list",children:l.map(w=>{const V=k(w.status),C=V.icon;return u.jsxs("div",{className:"task-card",children:[u.jsxs("div",{className:"task-header",children:[u.jsxs("div",{className:"task-title-section",children:[u.jsx("h3",{className:"task-title",children:w.title}),u.jsxs("div",{className:"task-meta",children:[u.jsx("span",{className:"task-setor",children:w.setor}),u.jsx("span",{className:"task-priority",style:{color:O(w.priority)},children:w.priority.toUpperCase()})]})]}),u.jsx("div",{className:"task-status",children:u.jsxs("span",{className:"status-badge",style:{backgroundColor:V.color},children:[u.jsx(C,{}),V.label]})})]}),u.jsx("div",{className:"task-description",children:u.jsx("p",{children:w.description})}),u.jsxs("div",{className:"task-details",children:[u.jsxs("div",{className:"task-detail-item",children:[u.jsx(Fd,{}),u.jsxs("span",{children:["Criada: ",j(w.createdAt)]})]}),u.jsxs("div",{className:"task-detail-item",children:[u.jsx(Wt,{}),u.jsxs("span",{children:["Agendada: ",w.scheduledTime]})]}),u.jsxs("div",{className:"task-detail-item",children:[u.jsx(Wt,{}),u.jsxs("span",{children:["Duração: ",w.estimatedDuration,"min"]})]}),w.completedAt&&u.jsxs("div",{className:"task-detail-item",children:[u.jsx(jn,{}),u.jsxs("span",{children:["Concluída: ",j(w.completedAt)]})]})]}),u.jsxs("div",{className:"task-checklist",children:[u.jsxs("div",{className:"checklist-header",children:[u.jsxs("span",{children:["Checklist (",w.checklist.length," itens)"]}),u.jsxs("span",{className:"checklist-progress",children:[w.checklist.filter(L=>L.status==="OK").length,"/",w.checklist.length," concluídos"]})]}),u.jsxs("div",{className:"checklist-items",children:[w.checklist.slice(0,3).map((L,N)=>u.jsxs("div",{className:"checklist-item",children:[u.jsx("span",{className:"checklist-question",children:L.question.length>50?`${L.question.substring(0,50)}...`:L.question}),u.jsx("span",{className:`checklist-status ${L.status.toLowerCase()}`,children:L.status})]},N)),w.checklist.length>3&&u.jsxs("div",{className:"checklist-more",children:["+",w.checklist.length-3," itens"]})]})]}),u.jsx("div",{className:"task-actions",children:u.jsxs("button",{className:"view-details-button",onClick:()=>{alert(`Ver detalhes da tarefa: ${w.title}`)},children:[u.jsx(ru,{}),"Ver Detalhes"]})})]},w.id)})})}),u.jsxs("div",{className:"tasks-footer",children:[u.jsxs("div",{className:"tasks-count",children:[l.length," tarefa(s) encontrada(s)"]}),u.jsx("button",{className:"close-modal-button",onClick:F,disabled:p,children:"Fechar"})]})]})})},Y9=()=>{const[n,e]=A.useState([]),[t,s]=A.useState([]),[a,l]=A.useState([]),[h,p]=A.useState(!0),[f,g]=A.useState(null),[y,E]=A.useState(""),[T,R]=A.useState(""),[P,k]=A.useState(!1),[O,j]=A.useState(!1),[B,F]=A.useState(null),[q,U]=A.useState(!1);A.useEffect(()=>{K()},[]),A.useEffect(()=>{const $=()=>{document.hidden||K()};return document.addEventListener("visibilitychange",$),()=>{document.removeEventListener("visibilitychange",$)}},[]),A.useEffect(()=>{(()=>{let le=[...n];y&&(le=le.filter(de=>de.name.toLowerCase().includes(y.toLowerCase())||de.email.toLowerCase().includes(y.toLowerCase()))),T&&(le=le.filter(de=>de.setor===T)),l(le)})()},[y,T,n]);const K=async()=>{p(!0),g(null);try{const[$,le]=await Promise.all([ji.getAll(),Hr.getAll()]);e($),s(le)}catch($){console.error("Erro ao carregar dados:",$),g("Erro ao carregar dados de funcionários")}finally{p(!1)}},I=async()=>{try{const $=await ji.getAll();e($)}catch($){console.error("Erro ao atualizar zeladores:",$)}},w=()=>{F(null),U(!1),k(!0)},V=$=>{F($),U(!0),k(!0)},C=$=>{F($),j(!0)},L=async $=>{if(window.confirm(`Tem certeza que deseja excluir o funcionário "${$.name}"?`))try{await ji.delete($.id),e(le=>le.filter(de=>de.id!==$.id))}catch(le){console.error("Erro ao deletar funcionário:",le),alert(le instanceof Error?le.message:"Erro ao deletar funcionário")}},N=()=>{I(),k(!1)},M=()=>{k(!1),F(null),U(!1)},Te=()=>{j(!1),F(null)},Se=()=>{E(""),R("")};return h?u.jsx("div",{className:"loading-container",children:u.jsxs("div",{className:"loading-spinner",children:[u.jsx(wn,{className:"spinning"}),"Carregando funcionários..."]})}):u.jsxs("div",{className:"funcionario-management",children:[u.jsxs("div",{className:"funcionario-management-header",children:[u.jsxs("div",{className:"funcionario-header-info",children:[u.jsxs("h1",{children:[u.jsx(Bg,{})," Gerenciar Funcionários"]}),u.jsx("p",{children:"Gerencie zeladores e suas tarefas atribuídas"})]}),u.jsxs("div",{className:"funcionario-header-actions",children:[u.jsx("button",{className:"refresh-button",onClick:K,disabled:h,title:"Atualizar dados",children:h?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"spinning"}),"Atualizando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Oa,{}),"Atualizar"]})}),u.jsxs("button",{className:"add-funcionario-button",onClick:w,children:[u.jsx(sl,{}),"Novo Funcionário"]})]})]}),u.jsxs("div",{className:"funcionario-filters",children:[u.jsxs("div",{className:"filters-grid",children:[u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Buscar Funcionário"}),u.jsxs("div",{className:"search-input-container",children:[u.jsx(Kv,{className:"search-icon"}),u.jsx("input",{type:"text",value:y,onChange:$=>E($.target.value),placeholder:"Pesquisar por nome ou email"})]})]}),u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Setor"}),u.jsxs("select",{value:T,onChange:$=>R($.target.value),children:[u.jsx("option",{value:"",children:"Todos os setores"}),t.map($=>u.jsx("option",{value:$.name,children:$.name},$.id))]})]})]}),u.jsx("div",{className:"filter-actions",children:u.jsx("button",{className:"filter-button filter-clear",onClick:Se,children:"Limpar Filtros"})})]}),u.jsxs("div",{className:"funcionario-stats",children:[u.jsxs("div",{className:"stat-card stat-total",children:[u.jsx("div",{className:"stat-number",children:a.length}),u.jsx("div",{className:"stat-label",children:"Total de Zeladores"})]}),u.jsxs("div",{className:"stat-card stat-with-tasks",children:[u.jsx("div",{className:"stat-number",children:a.filter($=>($.totalTasks||0)>0).length}),u.jsx("div",{className:"stat-label",children:"Com Tarefas"})]}),u.jsxs("div",{className:"stat-card stat-available",children:[u.jsx("div",{className:"stat-number",children:a.filter($=>($.totalTasks||0)===0).length}),u.jsx("div",{className:"stat-label",children:"Disponíveis"})]})]}),u.jsxs("div",{className:"funcionarios-section",children:[u.jsx("div",{className:"funcionarios-header",children:u.jsxs("div",{className:"header-title",children:[u.jsx("h2",{children:"Funcionários"}),u.jsxs("div",{className:"funcionarios-count",children:[a.length," funcionários(s) encontrado(s)"]})]})}),f&&u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:f})}),u.jsx("div",{className:"funcionarios-grid",children:a.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx(Bg,{className:"empty-icon"}),u.jsx("h3",{children:"Nenhum funcionário encontrado"}),u.jsx("p",{children:y||T?"Tente ajustar os filtros de busca":"Comece adicionando um novo funcionário"}),!y&&!T&&u.jsxs("button",{className:"add-funcionario-button",onClick:w,children:[u.jsx(sl,{}),"Adicionar Primeiro Funcionário"]})]}):a.map($=>u.jsxs("div",{className:"funcionario-card",children:[u.jsxs("div",{className:"funcionario-card-header",children:[u.jsx("div",{className:"funcionario-avatar",children:$.name.charAt(0).toUpperCase()}),u.jsxs("div",{className:"funcionario-info",children:[u.jsx("h3",{children:$.name}),u.jsx("p",{className:"funcionario-email",children:$.email}),$.setor&&u.jsxs("div",{className:"funcionario-setor",children:[u.jsx(Ls,{}),$.setor]}),u.jsx("div",{className:"funcionario-status",children:$.needsAccountCreation?u.jsx("span",{className:"status-pending",children:"⏳ Aguardando ativação"}):$.isActive?u.jsx("span",{className:"status-active",children:"✅ Ativo"}):u.jsx("span",{className:"status-inactive",children:"❌ Inativo"})})]})]}),u.jsxs("div",{className:"funcionario-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-value",children:$.totalTasks||0}),u.jsx("span",{className:"stat-label",children:"Total"})]}),u.jsxs("div",{className:"stat-item pending",children:[u.jsx("span",{className:"stat-value",children:$.pendingTasks||0}),u.jsx("span",{className:"stat-label",children:"Pendentes"})]}),u.jsxs("div",{className:"stat-item completed",children:[u.jsx("span",{className:"stat-value",children:$.completedTasks||0}),u.jsx("span",{className:"stat-label",children:"Concluídas"})]}),u.jsxs("div",{className:"stat-item overdue",children:[u.jsx("span",{className:"stat-value",children:$.overdueTasks||0}),u.jsx("span",{className:"stat-label",children:"Atrasadas"})]})]}),u.jsxs("div",{className:"funcionario-actions",children:[u.jsxs("button",{className:"action-button view-tasks",onClick:()=>C($),title:"Ver tarefas",children:[u.jsx(ru,{}),"Ver Tarefas"]}),u.jsxs("button",{className:"action-button edit",onClick:()=>V($),title:"Editar funcionário",children:[u.jsx(Gv,{}),"Editar"]}),u.jsxs("button",{className:"action-button delete",onClick:()=>L($),title:"Excluir funcionário",children:[u.jsx(Gd,{}),"Excluir"]})]})]},$.id))})]}),u.jsx($9,{isOpen:P,onClose:M,onSuccess:N,zelador:q?B:null}),u.jsx(K9,{isOpen:O,onClose:Te,zelador:B})]})},Q9=({onClose:n,onSuccess:e,setores:t,templates:s})=>{const[a,l]=A.useState("template"),[h,p]=A.useState(!1),[f,g]=A.useState({title:"",description:"",setor:"",scheduledTime:"",estimatedDuration:30,priority:"medium",checklist:[]}),y=s.filter(j=>!f.setor||j.setorId===f.setor),E=j=>{g(B=>({...B,title:j.title,description:j.description,estimatedDuration:j.estimatedDuration,priority:j.priority,setor:j.setorId,checklist:j.questions.map(F=>({question:F.question,status:at.PENDING,isEquipment:F.isEquipment,equipmentName:F.equipmentName}))})),l("details")},T=()=>{g(j=>({...j,title:"",description:"",checklist:[]})),l("details")},R=(j,B)=>{g(F=>({...F,[j]:B}))},P=async j=>{if(j.preventDefault(),!f.title.trim()||!f.setor){alert("Por favor, preencha todos os campos obrigatórios");return}try{p(!0),await Rt.create(f),e(),n()}catch(B){console.error("Erro ao criar tarefa:",B),alert("Erro ao criar tarefa. Tente novamente.")}finally{p(!1)}},k=j=>{switch(j){case"high":return u.jsx(_r,{className:"priority-icon high"});case"medium":return u.jsx(nu,{className:"priority-icon medium"});case"low":return u.jsx(jn,{className:"priority-icon low"});default:return null}},O=j=>{switch(j){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return""}};return u.jsx("div",{className:"modal-overlay",onClick:n,children:u.jsxs("div",{className:"create-task-modal",onClick:j=>j.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h2",{children:[u.jsx(Ds,{className:"header-icon"}),"Criar Nova Tarefa"]}),u.jsx("button",{className:"close-button",onClick:n,children:u.jsx(Ui,{})})]}),u.jsxs("div",{className:"step-indicator",children:[u.jsxs("div",{className:`step ${a==="template"?"active":""}`,children:[u.jsx("span",{className:"step-number",children:"1"}),u.jsx("span",{className:"step-label",children:"Template"})]}),u.jsx("div",{className:"step-line"}),u.jsxs("div",{className:`step ${a==="details"?"active":""}`,children:[u.jsx("span",{className:"step-number",children:"2"}),u.jsx("span",{className:"step-label",children:"Detalhes"})]})]}),u.jsxs("div",{className:"modal-content",children:[a==="template"&&u.jsxs("div",{className:"templates-section",children:[u.jsxs("div",{className:"templates-header",children:[u.jsx("h3",{children:"Selecione um template"}),u.jsx("p",{children:"Escolha um template existente ou crie uma nova tarefa manualmente"})]}),u.jsx("div",{className:"manual-creation",children:u.jsxs("button",{type:"button",className:"btn-manual",onClick:T,children:[u.jsx(Ds,{}),"Criar Tarefa Manual"]})}),y.length>0&&u.jsxs("div",{className:"templates-section",children:[u.jsx("h4",{children:"Templates disponíveis"}),u.jsx("div",{className:"templates-grid",children:y.map(j=>u.jsxs("div",{className:"template-card",onClick:()=>E(j),children:[u.jsxs("div",{className:"template-header",children:[u.jsx("h5",{children:j.title}),u.jsxs("span",{className:`priority-badge priority-${j.priority}`,children:[k(j.priority),O(j.priority)]})]}),u.jsx("p",{className:"template-description",children:j.description}),u.jsxs("div",{className:"template-meta",children:[u.jsxs("span",{className:"template-duration",children:[u.jsx(Wt,{}),j.estimatedDuration," min"]}),u.jsxs("span",{className:"template-questions",children:[u.jsx(ko,{}),j.questions.length," itens"]})]})]},j.id))})]}),y.length===0&&u.jsxs("div",{className:"no-templates",children:[u.jsx(ko,{className:"no-templates-icon"}),u.jsx("p",{children:"Nenhum template disponível para o setor selecionado"})]})]}),a==="details"&&u.jsxs("form",{onSubmit:P,className:"task-details-form",children:[u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{children:"Detalhes da Tarefa"}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(Ds,{className:"label-icon"}),"Titulo *"]}),u.jsx("input",{type:"text",value:f.title,onChange:j=>R("title",j.target.value),placeholder:"Digite o titulo da tarefa",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(Ls,{className:"label-icon"}),"Setor *"]}),u.jsxs("select",{value:f.setor,onChange:j=>R("setor",j.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Selecione um setor"}),t.map(j=>u.jsx("option",{value:j.name,children:j.name},`setor-create-${j.id}`))]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(ko,{className:"label-icon"}),"Descrição"]}),u.jsx("textarea",{value:f.description,onChange:j=>R("description",j.target.value),placeholder:"Descreva os detalhes da tarefa",rows:3})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(Wt,{className:"label-icon"}),"Duração Estimada (min)"]}),u.jsx("input",{type:"number",value:f.estimatedDuration,onChange:j=>R("estimatedDuration",parseInt(j.target.value)||30),min:"1",max:"480"})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(Wt,{className:"label-icon"}),"Horário Agendado"]}),u.jsx("input",{type:"time",value:f.scheduledTime,onChange:j=>R("scheduledTime",j.target.value)})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(_r,{className:"label-icon"}),"Prioridade"]}),u.jsx("div",{className:"priority-options",children:["low","medium","high"].map(j=>u.jsxs("label",{className:"priority-option",children:[u.jsx("input",{type:"radio",name:"priority",value:j,checked:f.priority===j,onChange:B=>R("priority",B.target.value)}),u.jsxs("span",{className:`priority-radio priority-${j}`,children:[k(j),O(j)]})]},j))})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(ko,{className:"label-icon"}),"Checklist (",f.checklist.length," itens)"]}),f.checklist.length>0?u.jsx("div",{className:"checklist-preview",children:f.checklist.map((j,B)=>u.jsxs("div",{className:"checklist-item",children:[u.jsx(jn,{className:"checklist-icon"}),u.jsx("span",{children:j.question}),j.isEquipment&&u.jsxs("span",{className:"equipment-badge",children:[u.jsx(ko,{}),"Equipamento"]})]},B))}):u.jsxs("div",{className:"no-checklist",children:[u.jsx(ko,{className:"no-checklist-icon"}),u.jsx("p",{children:"Nenhum item no checklist. Crie uma tarefa manual ou selecione um template."})]})]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l("template"),children:"Voltar"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:h,children:[u.jsx(pI,{}),h?"Criando...":"Criar Tarefa"]})]})]})]})]})})},X9=({task:n,zeladores:e,onClose:t,onSuccess:s})=>{const[a,l]=A.useState(""),[h,p]=A.useState(""),[f,g]=A.useState(""),[y,E]=A.useState(""),[T,R]=A.useState(!1),P=e.filter(B=>B.setor===n.setor&&B.isActive),k=B=>{switch(B){case"high":return u.jsx(_r,{className:"priority-icon high"});case"medium":return u.jsx(nu,{className:"priority-icon medium"});case"low":return u.jsx(jn,{className:"priority-icon low"});default:return null}},O=B=>{switch(B){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return""}},j=async B=>{if(B.preventDefault(),!a){alert("Selecione um zelador para atribuir a tarefa");return}try{R(!0);const F=P.find(q=>q.id===a);if(!F)throw new Error("Zelador não encontrado");await Rt.assignTask(n.id,F.id),alert(`Tarefa "${n.title}" atribuída com sucesso para ${F.name}!`),s()}catch(F){console.error("Erro ao atribuir tarefa:",F),alert("Erro ao atribuir tarefa")}finally{R(!1)}};return u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"assign-task-modal",onClick:B=>B.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h2",{children:[u.jsx(Yv,{className:"header-icon"}),"Atribuir Tarefa"]}),u.jsx("button",{className:"close-button",onClick:t,children:u.jsx(Ui,{})})]}),u.jsxs("div",{className:"task-info-section",children:[u.jsx("h3",{children:"Informações da Tarefa"}),u.jsxs("div",{className:"task-card",children:[u.jsxs("div",{className:"task-header",children:[u.jsx("h4",{children:n.title}),u.jsxs("span",{className:`priority-badge priority-${n.priority}`,children:[k(n.priority),O(n.priority)]})]}),u.jsx("p",{className:"task-description",children:n.description}),u.jsxs("div",{className:"task-meta",children:[u.jsxs("span",{className:"task-meta-item",children:[u.jsx(Ls,{}),n.setor]}),u.jsxs("span",{className:"task-meta-item",children:[u.jsx(Wt,{}),n.estimatedDuration," min"]}),u.jsxs("span",{className:"task-meta-item",children:[u.jsx(Ds,{}),n.checklist.length," itens"]})]})]})]}),u.jsxs("form",{onSubmit:j,className:"assignment-form",children:[u.jsxs("div",{className:"form-section",children:[u.jsx("h3",{children:"Atribuição"}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(Gn,{className:"label-icon"}),"Zelador Responsável *"]}),P.length>0?u.jsxs("select",{value:a,onChange:B=>l(B.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Selecione um zelador"}),P.map(B=>u.jsxs("option",{value:B.id,children:[B.name," - ",B.email]},`zelador-${B.id}`))]}):u.jsxs("div",{className:"no-zeladores",children:[u.jsx(Gn,{className:"no-zeladores-icon"}),u.jsx("p",{children:"Nenhum zelador ativo disponível para este setor"})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(Fd,{className:"label-icon"}),"Data de Execução"]}),u.jsx("input",{type:"date",value:h,onChange:B=>p(B.target.value),min:new Date().toISOString().split("T")[0]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(Wt,{className:"label-icon"}),"Horário de Execução"]}),u.jsx("input",{type:"time",value:f,onChange:B=>g(B.target.value)})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:[u.jsx(Ds,{className:"label-icon"}),"Observações"]}),u.jsx("textarea",{value:y,onChange:B=>E(B.target.value),placeholder:"Adicione observações especiais para esta tarefa...",rows:3})]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{type:"button",className:"btn-secondary",onClick:t,children:"Cancelar"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:T||P.length===0,children:[u.jsx(Hd,{}),T?"Atribuindo...":"Atribuir Tarefa"]})]})]})]})})},Z9=()=>{const[n,e]=A.useState([]),[t,s]=A.useState([]),[a,l]=A.useState([]),[h,p]=A.useState([]),[f,g]=A.useState(""),[y,E]=A.useState(""),[T,R]=A.useState(""),[P,k]=A.useState(""),[O,j]=A.useState(!1),[B,F]=A.useState(!1),[q,U]=A.useState(null),[K,I]=A.useState(!0),w=async()=>{try{I(!0);const[Q,ce,oe,pe]=await Promise.all([Rt.getAll(),ji.getAll(),Hr.getAll(),Lc.getAll()]);e(Q),s(ce),l(oe),p(pe)}catch(Q){console.error("Erro ao carregar dados:",Q)}finally{I(!1)}};A.useEffect(()=>{w()},[]);const V=n.filter(Q=>{const ce=!f||Q.setor===f,oe=!y||Q.priority===y,pe=!T||Q.status===T,Ce=!P||Q.title.toLowerCase().includes(P.toLowerCase())||Q.description.toLowerCase().includes(P.toLowerCase());return ce&&oe&&pe&&Ce}),C=n.filter(Q=>!Q.assignedTo),L=n.filter(Q=>Q.assignedTo),N=Q=>{U(Q),F(!0)},M=()=>{j(!1),F(!1),U(null)},Te=()=>{w(),M()},Se=()=>{g(""),E(""),R(""),k("")},$=Q=>{switch(Q){case"high":return u.jsx(_r,{className:"priority-icon high"});case"medium":return u.jsx(nu,{className:"priority-icon medium"});case"low":return u.jsx(jn,{className:"priority-icon low"});default:return null}},le=Q=>{switch(Q){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return""}},de=Q=>{switch(Q){case"PENDING":return"Pendente";case"IN_PROGRESS":return"Em Andamento";case"COMPLETED":return"Concluída";case"OVERDUE":return"Atrasada";default:return Q}},Pe=Q=>{if(!Q)return null;const ce=t.find(oe=>oe.email===Q);return ce?ce.name:Q},H=async Q=>{window.confirm("Tem certeza que deseja deletar esta tarefa?")&&(await Rt.delete(Q),w())};return K?u.jsxs("div",{className:"task-assignment-loading",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"Carregando tarefas..."})]}):u.jsxs("div",{className:"task-assignment",children:[u.jsxs("div",{className:"task-assignment-header",children:[u.jsxs("div",{className:"header-info",children:[u.jsxs("h1",{children:[u.jsx(il,{className:"header-icon"}),"Atribuir Tarefas"]}),u.jsx("p",{children:"Gerencie e atribua tarefas aos funcionários"})]}),u.jsxs("div",{className:"header-actions",children:[u.jsxs("button",{className:"btn-primary",onClick:()=>j(!0),children:[u.jsx(sl,{}),"Nova Tarefa"]}),u.jsxs("button",{className:"btn-secondary",onClick:w,disabled:K,children:[u.jsx(gI,{className:K?"spinning":""}),K?"Atualizando...":"Atualizar"]})]})]}),u.jsxs("div",{className:"task-assignment-filters",children:[u.jsxs("div",{className:"search-input-container",children:[u.jsx(Kv,{className:"search-icon"}),u.jsx("input",{type:"text",placeholder:"Buscar tarefas...",value:P,onChange:Q=>k(Q.target.value)})]}),u.jsxs("div",{className:"filter-group",children:[u.jsxs("label",{children:[u.jsx(Ls,{className:"filter-label-icon"}),"Setor"]}),u.jsxs("select",{value:f,onChange:Q=>g(Q.target.value),children:[u.jsx("option",{value:"",children:"Todos os setores"}),a.map(Q=>u.jsx("option",{value:Q.name,children:Q.name},`setor-${Q.id}`))]})]}),u.jsxs("div",{className:"filter-group",children:[u.jsxs("label",{children:[u.jsx(_r,{className:"filter-label-icon"}),"Prioridade"]}),u.jsxs("select",{value:y,onChange:Q=>E(Q.target.value),children:[u.jsx("option",{value:"",children:"Todas as prioridades"}),u.jsx("option",{value:"high",children:"Alta"}),u.jsx("option",{value:"medium",children:"Média"}),u.jsx("option",{value:"low",children:"Baixa"})]})]}),u.jsxs("div",{className:"filter-group",children:[u.jsxs("label",{children:[u.jsx(jn,{className:"filter-label-icon"}),"Status"]}),u.jsxs("select",{value:T,onChange:Q=>R(Q.target.value),children:[u.jsx("option",{value:"",children:"Todos os status"}),u.jsx("option",{value:"PENDING",children:"Pendente"}),u.jsx("option",{value:"IN_PROGRESS",children:"Em Andamento"}),u.jsx("option",{value:"COMPLETED",children:"Concluída"}),u.jsx("option",{value:"OVERDUE",children:"Atrasada"})]})]}),u.jsx("div",{className:"filter-actions",children:u.jsx("button",{className:"filter-button filter-clear",onClick:Se,children:"Limpar Filtros"})})]}),u.jsxs("div",{className:"task-stats",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:V.length}),u.jsx("span",{className:"stat-label",children:"Tarefas Filtradas"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:C.length}),u.jsx("span",{className:"stat-label",children:"Não Atribuídas"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:L.length}),u.jsx("span",{className:"stat-label",children:"Atribuídas"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-number",children:n.length}),u.jsx("span",{className:"stat-label",children:"Total de Tarefas"})]})]}),u.jsx("div",{className:"tasks-list",children:V.length===0?u.jsxs("div",{className:"no-tasks",children:[u.jsx("div",{className:"no-tasks-icon",children:u.jsx(qv,{})}),u.jsx("h3",{children:"Nenhuma tarefa encontrada"}),u.jsx("p",{children:P||f||y?"Tente ajustar os filtros de busca":"Não há tarefas aguardando atribuição neste momento"})]}):V.map(Q=>u.jsxs("div",{className:"task-card",children:[u.jsxs("div",{className:"task-info",children:[u.jsxs("div",{className:"task-header",children:[u.jsx("h3",{children:Q.title}),u.jsxs("span",{className:`priority-badge priority-${Q.priority}`,children:[$(Q.priority),le(Q.priority)]})]}),u.jsx("p",{className:"task-description",children:Q.description}),u.jsxs("div",{className:"task-meta",children:[u.jsxs("span",{className:"setor-badge",children:[u.jsx(Ls,{}),Q.setor]}),u.jsxs("span",{className:"duration-badge",children:[u.jsx(Wt,{}),Q.estimatedDuration," min"]}),u.jsxs("span",{className:"checklist-count",children:[u.jsx(Ds,{}),Q.checklist.length," itens"]}),Q.assignedTo&&u.jsxs("span",{className:"assigned-badge",children:[u.jsx(Gn,{}),Pe(Q.assignedTo)]}),u.jsx("span",{className:`status-badge status-${Q.status.toLowerCase()}`,children:de(Q.status)})]})]}),u.jsxs("div",{className:"task-actions",children:[Q.assignedTo?u.jsxs("div",{className:"assigned-info",children:[u.jsxs("span",{className:"assigned-text",children:["Atribuída para: ",Pe(Q.assignedTo)]}),u.jsxs("button",{className:"btn-reassign",onClick:()=>N(Q),children:[u.jsx(Gn,{}),"Reatribuir"]})]}):u.jsxs("button",{className:"btn-assign",onClick:()=>N(Q),children:[u.jsx(Gn,{}),"Atribuir"]}),u.jsx("button",{className:"btn-delete",onClick:()=>H(Q.id),style:{fontWeight:"bold"},children:"Excluir"})]})]},Q.id))}),O&&u.jsx(Q9,{onClose:M,onSuccess:Te,setores:a,templates:h}),B&&q&&u.jsx(X9,{task:q,zeladores:t,onClose:M,onSuccess:Te})]})},W9=()=>{const{user:n}=Fs(),{goTo:e}=La(),[t,s]=A.useState([]),[a,l]=A.useState([]),[h,p]=A.useState([]),[f,g]=A.useState(null),[y,E]=A.useState(new Date),[T,R]=A.useState("dashboard"),[P,k]=A.useState(!0),[O,j]=A.useState(null),[B,F]=A.useState({setor:"",zelador:"",status:"",dateFrom:"",dateTo:""});A.useEffect(()=>{const N=setInterval(()=>{E(new Date)},1e3);return()=>clearInterval(N)},[]);const q=async()=>{k(!0),j(null);try{const[N,M]=await Promise.all([Rt.getAll(),Hr.getAll()]);s(N),l(M)}catch(N){console.error("Erro ao carregar dados:",N),j("Erro ao carregar dados")}finally{k(!1)}};A.useEffect(()=>{q()},[]);const U=A.useCallback(()=>{let N=[...t];if(B.setor&&(N=N.filter(M=>M.setor===B.setor)),B.zelador&&(N=N.filter(M=>M.assignedTo===B.zelador)),B.status&&(N=N.filter(M=>M.status===B.status)),B.dateFrom){const M=new Date(B.dateFrom);N=N.filter(Te=>Te.createdAt.toDate()>=M)}if(B.dateTo){const M=new Date(B.dateTo);M.setHours(23,59,59,999),N=N.filter(Te=>Te.createdAt.toDate()<=M)}p(N)},[B,t]);if(A.useEffect(()=>{U()},[U]),!n||n.role!==On.GERENTE)return e("/login"),null;const K=(N,M)=>{F(Te=>({...Te,[N]:M}))},I=()=>{F({setor:"",zelador:"",status:"",dateFrom:"",dateTo:""})},w={pending:h.filter(N=>N.status===he.PENDING).length,completed:h.filter(N=>N.status===he.COMPLETED).length,overdue:h.filter(N=>N.status===he.OVERDUE).length,total:h.length},V=[...new Set(t.map(N=>N.assignedTo))].filter(Boolean),C=()=>P?u.jsx("div",{className:"loading-container",children:u.jsx("div",{className:"loading-spinner",children:"Carregando..."})}):u.jsxs(u.Fragment,{children:[O&&u.jsx("div",{className:"error-container",children:u.jsx("div",{className:"error-message",children:O})}),u.jsxs("div",{className:"dashboard-header",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Dashboard Gerencial"}),u.jsxs("p",{children:[y.toLocaleDateString("pt-BR")," •"," ",y.toLocaleTimeString("pt-BR")]})]}),u.jsx("div",{style:{display:"flex",gap:"10px"},children:u.jsx("button",{className:"refresh-button",onClick:q,disabled:P,title:"Atualizar dados",children:P?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"spinning"}),"Atualizando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Oa,{}),"Atualizar"]})})})]}),u.jsxs("div",{className:"dashboard-stats",children:[u.jsxs("div",{className:"stat-card stat-pending",children:[u.jsx("div",{className:"stat-number",children:w.pending}),u.jsx("div",{className:"stat-label",children:"Pendentes"})]}),u.jsxs("div",{className:"stat-card stat-completed",children:[u.jsx("div",{className:"stat-number",children:w.completed}),u.jsx("div",{className:"stat-label",children:"Concluídas"})]}),u.jsxs("div",{className:"stat-card stat-overdue",children:[u.jsx("div",{className:"stat-number",children:w.overdue}),u.jsx("div",{className:"stat-label",children:"Em Atraso"})]}),u.jsxs("div",{className:"stat-card stat-total",children:[u.jsx("div",{className:"stat-number",children:w.total}),u.jsx("div",{className:"stat-label",children:"Total"})]})]}),u.jsxs("div",{className:"filters-section",children:[u.jsxs("div",{className:"filters-grid",children:[u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Setor"}),u.jsxs("select",{value:B.setor,onChange:N=>K("setor",N.target.value),children:[u.jsx("option",{value:"",children:"Todos os setores"}),a.map(N=>u.jsx("option",{value:N.name,children:N.name},`dashboard-setor-${N.id}`))]})]}),u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Zelador"}),u.jsxs("select",{value:B.zelador,onChange:N=>K("zelador",N.target.value),children:[u.jsx("option",{value:"",children:"Todos os zeladores"}),V.map((N,M)=>u.jsx("option",{value:N,children:N},`zelador-${M}-${N}`))]})]}),u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Status"}),u.jsxs("select",{value:B.status,onChange:N=>K("status",N.target.value),children:[u.jsx("option",{value:"",children:"Todos os status"}),u.jsx("option",{value:he.PENDING,children:"Pendente"}),u.jsx("option",{value:he.IN_PROGRESS,children:"Em Andamento"}),u.jsx("option",{value:he.COMPLETED,children:"Concluída"}),u.jsx("option",{value:he.OVERDUE,children:"Em Atraso"})]})]}),u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Data Inicial"}),u.jsx("input",{type:"date",value:B.dateFrom,onChange:N=>K("dateFrom",N.target.value)})]}),u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Data Final"}),u.jsx("input",{type:"date",value:B.dateTo,onChange:N=>K("dateTo",N.target.value)})]})]}),u.jsxs("div",{className:"filter-actions",children:[u.jsx("button",{className:"filter-button filter-clear",onClick:I,children:"Limpar Filtros"}),u.jsx("button",{className:"filter-button filter-refresh",onClick:q,disabled:P,children:P?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"spinning"}),"Atualizando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Oa,{}),"Atualizar"]})})]})]}),u.jsxs("div",{className:"tasks-section",children:[u.jsxs("div",{className:"tasks-header",children:[u.jsx("h2",{children:"Tarefas"}),u.jsxs("div",{className:"tasks-count",children:[h.length," tarefa(s) encontrada(s)"]})]}),u.jsx("div",{className:"tasks-list",children:h.length===0?u.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#666"},children:"Nenhuma tarefa encontrada com os filtros aplicados."}):h.map(N=>u.jsx(F9,{task:N,onClick:()=>g(N)},N.id))})]})]}),L=()=>{switch(T){case"dashboard":return C();case"funcionarios":return u.jsx(Y9,{});case"setores":return u.jsx(H9,{});case"tasks":return u.jsx(q9,{});case"atribuirTarefas":return u.jsx(Z9,{});case"reports":return u.jsx(G9,{});default:return C()}};return u.jsxs("div",{className:"gerente-dashboard",children:[u.jsx(B9,{activeSection:T,onSectionChange:R}),u.jsx("div",{className:"dashboard-content",children:u.jsx("div",{className:"dashboard-main",children:L()})}),f&&u.jsx(W4,{task:f,onClose:()=>g(null)})]})},J9=()=>u.jsx(KA,{children:u.jsxs(wA,{children:[u.jsx(Uo,{path:Rc.HOME,element:u.jsx(J_,{})}),u.jsx(Uo,{path:Rc.LOGIN,element:u.jsx(J_,{})}),u.jsx(Uo,{path:Rc.REGISTER,element:u.jsx(v8,{})}),u.jsx(Uo,{path:Rc.DASHBOARD_ZELADOR,element:u.jsx(sb,{children:u.jsx(z9,{})})}),u.jsx(Uo,{path:Rc.DASHBOARD_GERENTE,element:u.jsx(sb,{children:u.jsx(W9,{})})})]})}),ld={async register(n,e,t){try{const a=(await $E(xa,n,e)).user,l={id:a.uid,...t,createdAt:new Oe(Date.now()/1e3,0),updatedAt:new Oe(Date.now()/1e3,0)};return await X_(kt(Be,"users",a.uid),l),l}catch(s){console.error("Erro no registro:",s);const a=s instanceof Error?s.message:"Erro desconhecido";throw a.includes("email-already-in-use")?new Error("Este email já está em uso"):a.includes("weak-password")?new Error("A senha deve ter pelo menos 6 caracteres"):new Error("Erro ao criar conta: "+a)}},async login(n,e){try{const s=(await KE(xa,n,e)).user,a=await Is(kt(Be,"users",s.uid));if(!a.exists())throw new Error("User not found");return a.data()}catch(t){if(t&&typeof t=="object"&&"code"in t){const s=t.code;if(s==="auth/user-not-found"||s==="auth/wrong-password"||s==="auth/invalid-credential"||s==="auth/invalid-email")return console.log("🎯 ERRO DE AUTENTICAÇÃO DETECTADO - Tentando ativar zelador pendente..."),await this.activateZelador(n,e);console.log("❌ Erro não é de autenticação, re-throwing...")}else console.log("❌ Erro não tem código, re-throwing...");throw t}},async logout(){await YE(xa)},async activateZelador(n,e){try{const{zeladorService:t}=await g4(async()=>{const{zeladorService:g}=await Promise.resolve().then(()=>J4);return{zeladorService:g}},void 0),s=await t.getByEmail(n);if(!s)throw new Error("Email não encontrado");if(!s.needsAccountCreation)try{const g=await KE(xa,n,e),y=await Is(kt(Be,"users",g.user.uid));if(y.exists())return y.data();await YE(xa),await t.update(s.id,{needsAccountCreation:!0,isActive:!1})}catch{await t.update(s.id,{needsAccountCreation:!0,isActive:!1})}if((s.tempPassword||e)!==e)throw new Error("Senha incorreta");s.tempPassword||await t.update(s.id,{tempPassword:e});const h=(await $E(xa,n,e)).user,p={id:h.uid,name:s.name,email:s.email,role:"ZELADOR",setor:s.setor,createdAt:s.createdAt||new Oe(Date.now()/1e3,0),updatedAt:new Oe(Date.now()/1e3,0)};await X_(kt(Be,"users",h.uid),p);const f={needsAccountCreation:!1,isActive:!0};return s.tempPassword&&(f.tempPassword=Z3()),await t.update(s.id,f),p}catch(t){console.error("Erro ao ativar zelador:",t);const s=t instanceof Error?t.message:"Erro desconhecido";throw new Error("Erro ao ativar conta: "+s)}},onAuthStateChanged(n){return bO(xa,async e=>{if(e){const t=await Is(kt(Be,"users",e.uid));t.exists()?n(t.data()):n(null)}else n(null)})}};function eM({children:n}){const[e,t]=A.useState(null),[s,a]=A.useState(!0);A.useEffect(()=>{const f=ld.onAuthStateChanged(g=>{t(g),a(!1)});return()=>f()},[]);const l=async(f,g)=>{const y=await ld.login(f,g);return t(y),y},h=async(f,g,y)=>{const E=await ld.register(f,g,y);return t(E),E},p=async()=>{await ld.logout(),t(null)};return s?u.jsx("div",{children:"Carregando..."}):u.jsx(wb.Provider,{value:{user:e,login:l,register:h,logout:p},children:n})}function tM(){return u.jsx(eM,{children:u.jsx(J9,{})})}Mx.createRoot(document.getElementById("root")).render(u.jsx(A.StrictMode,{children:u.jsx(tM,{})}));
